(function(e){function n(n,r){this.config=e.extend({},t,r);this.element=n;this.init()}var t={contentContainer:".contentElementDiv",pageNum:0,separateText:true,autoPlay:true,hoverPause:true,delay:6e3,transitionSpeed:750,effect:"fade",easing:"swing",overlay:false,overlayClass:".overlay",random:false,randomizeWhat:"photos",backgroundSlider:false,responsive:false,prevNext:false,prevNextBtns:"text",prevText:"<",nextText:">",navi:false,naviType:"number",thumbHeight:"75",thumbWidth:"75",thumbOverlay:true,playPause:false,playPauseBtns:"text",playText:"Play",pauseText:"Pause",textSlideOpposite:false,textDelay:0,fadeSlideSpeed:1e3,accordionPhotoWidth:"665px",accordionClosedWidth:"65px",callback:function(){},lineheight:1};n.prototype.init=function(){function j(){function st(){it=setInterval(function(){if(f==="accordion"){j=j===r.length-1?0:j+1;ut();if(E===true&&S==="thumbnail"){nt()}}else{rt=j===r.length-1?0:j+1;w=V===X.length-1?0:V+1;ut(rt,w);if(E===true&&S==="thumbnail"){nt()}}},u)}function ot(){clearInterval(it)}function ut(n,s){function v(){if(f==="accordion"){if(S==="thumbnail"){e(".navi .thumbContain").removeClass("on");e(".navi .thumbContain").eq(j).addClass("on")}else{e(".navi a").removeClass("on");e(".navi a").eq(j).addClass("on")}}else{if(S==="thumbnail"){e(".navi .thumbContain").removeClass("on");e(".navi .thumbContain").eq(n).addClass("on")}else{e(".navi a").removeClass("on");e(".navi a").eq(n).addClass("on")}}}if(f==="fade"){r.eq(j).fadeOut(a);r.eq(n).fadeIn(a);j=n;if(i===true){X.eq(V).fadeOut(a);X.eq(V).find("p").fadeOut(a/2);X.eq(s).fadeIn(a);X.eq(s).find("p").fadeIn(a);V=s}X.eq(s).fadeIn(a);X.eq(s).find("p").fadeIn(a);v();W.attr("src",r.eq(j).find("img").attr("src"))}else if(f==="slide"){q=r.outerWidth();function o(e,t){r.eq(j).show().animate({left:""+e+""+q+"px"},a,""+l+"");r.eq(n).css({left:""+t+""+q+"px"}).show().animate({left:""+e+""+q+"px"},a,""+l+"",function(){r.eq(j).css({left:q*2+"px"}).hide();c()})}function u(e,t){if(i===true){X.eq(V).show().delay(M).animate({left:""+e+""+q*2+"px"},a,""+l+"");X.eq(s).css({left:""+t+""+q+"px"}).show().delay(M).animate({left:""+e+""+q+"px"},a,""+l+"",function(){X.eq(V).hide().css({left:q+"px"});h()})}}F=true;if(I===true){o("+=","-");if(O===true&&i===true){u("-=","+")}else{u("+=","-")}}else{o("-=","+");if(O===true&&i===true){u("+=","-")}else{u("-=","+")}}v();function c(){j=n;F=false}function h(){V=s;F=false}}else if(f==="accordion"){r.eq(j).each(function(){r.stop().animate({width:""+P+""},{duration:a,queue:false,easing:"linear"});e(this).stop().animate({width:""+D+""},{duration:a,queue:false,easing:"linear"})});v()}else if(f==="fadeSlide"){var p=e("body").outerWidth();if(p<=t.outerWidth()){p=p*2}r.eq(j).fadeOut(a);r.eq(n).fadeIn(a);j=n;function d(e,t){X.eq(V).show().delay(M).animate({left:""+e+""+p+"px"},_,""+l+"");X.eq(s).css({left:""+t+""+p+"px"}).show().delay(M).animate({left:""+e+""+p+"px"},_,""+l+"",function(){X.eq(V).hide().css({left:p+"px"});h()})}F=true;if(I===true){if(O===true){d("-=","+")}else{d("+=","-")}}else{if(O===true){d("+=","-")}else{d("-=","+")}}v();function h(){V=s;F=false}W.attr("src",r.eq(j).find("img").attr("src"))}}var r=e(" #sources "+n+" "),j=0,F=false,I=false,q,R,U=e(".navi div").outerWidth(),z=e(".navi > div").length;if(f==="fade"||f==="fadeSlide"){var W=e('<img class="bgPhoto" src="" />').css({display:"block",position:"absolute"}).prependTo(t)}r.appendTo(t);var X,V=0;if(n===".contentElementDiv"){e(""+n+"").each(function(){var t=e(this).find(".contentElementTitle");var n=$j(this).find(".contentElementDesc");t.prependTo(n);if(t.length===0){t.remove()}});X=e(" "+n+"  .contentElementDesc")}else{X=e(" "+n+"  .bannermodtitle")}if(f!="accordion"&&i===true){X.insertAfter(t).wrapAll('<div id="titleContain"></div>')}if(c){e("#titleContain").css({position:"relative",zIndex:"1"})}if(C||g||E){t.after('<div id="controls"></div>');var J=e("#controls");J.css("position","absolute")}if(p){var K=function(e){for(var t,n,r=e.length;r;t=parseInt(Math.random()*r),n=e[--r],e[r]=e[t],e[t]=n);return e};if(d==="photos"){K(r)}else if(d==="text"){K(X)}else if(d==="both"){K(r);K(X)}}if(v&&f==="fade"){if(jQuery.browser.version.substring(0,2)=="8."){e("*").css({opacity:"inherit",filter:"inherit"})}var Q={position:"fixed",top:"0",left:"0",minWidth:"100%",minHeight:"100%"};t.insertBefore("#bodydiv");e(".bgPhoto").add(n).css(Q);e(" "+n+" img").removeAttr("height").removeAttr("width").css({minHeight:"100%",minWidth:"100%",position:"fixed"});if(n===".contentElementDiv"){e(".contentElementDesc").css("zIndex","1")}else{e(".bannermodtitle").css("zIndex","1")}}var G;if(C){if(k==="custom"){J.append('<a href="#" class="playBtn"></a><a href="#" class="pauseBtn"></a>')}else if(k==="text"){J.append('<a href="#" class="playBtn">'+L+'</a><a href="#" class="pauseBtn">'+A+"</a>")}if(/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent)){t.toggle(function(e){if(G===true){st();G=false}else if(G===false){ot();G=true}e.stopImmediatePropagation()},function(e){if(G===true){st();G=false}else if(G===false){ot();G=true}e.stopImmediatePropagation()})}}e(".playBtn").on("click",function(){st();G=false;return false});e(".pauseBtn").on("click",function(){ot();G=true;return false});if(o&&s&&!v&&f!="accordion"){if(c){e(" "+h+" ").hover(function(){ot()},function(){if(!G){st()}})}else{t.add("#titleContain").hover(function(){ot()},function(){if(!G){st()}})}}if(f==="accordion"){r.each(function(){e(this).hover(function(){ot();r.stop().animate({width:""+P+""},{duration:a,queue:false,easing:"linear"});e(this).stop().animate({width:""+D+""},{duration:a,queue:false,easing:"linear"});j=e(this).index();e(".navi a").removeClass("on");e(".navi a").eq(j).addClass("on")},function(){if(s){st()}})})}if(g){if(y==="text"){J.append('<a href="#" class="prev">'+b+'</a><a href="#" class="next">'+w+"</a>")}else if(y==="custom"){J.append('<a href="#" class="prev"></a><a href="#" class="next"></a>')}if(/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent)){t.on("swipeleft",function(e){if(F===false){I=false;ot();Y("next");if(S==="thumbnail"){nt()}G=true}});t.on("swiperight",function(e){if(F===false){I=true;ot();Y("prev");if(S==="thumbnail"){nt()}G=true}})}}e(".next").on("click",function(){if(F===false){I=false;ot();Y("next");if(E===true&&S==="thumbnail"){nt()}G=true}return false});e(".prev").on("click",function(){if(F===false){I=true;ot();Y("prev");if(E===true&&S==="thumbnail"){nt()}G=true}return false});var Y=function(e){var t;if(e==="next"){if(f==="accordion"){j+1>r.length-1?j=0:j=j+1}j+1>r.length-1?dir=0:dir=j+1;V+1>X.length-1?textDir=0:textDir=V+1;ut(dir,textDir)}else{if(f==="accordion"){j-1<0?j=r.length-1:j=j-1}j-1<0?dir=r.length-1:dir=j-1;V-1<0?textDir=X.length-1:textDir=V-1;ut(dir,textDir)}};if(E){J.append('<div class="naviContainer"><div class="navi"></div></div>');var Z=e(".navi");for(var et=0,tt=r.length;et<tt;et++){switch(S){case"number":Z.append('<a href="#">'+(et+1)+"</a>");break;case"custom":Z.append('<a href="#"></a>');break;case"thumbnail":r.eq(et).find("img").clone().addClass("thumb thumb"+(et+1)).css("position","relative").appendTo(Z).wrap('<div class="thumbContain"></div>');Z.find(".thumbContain").css({height:x+"px",width:T+"px",overflow:"hidden","float":"left",position:"static",cursor:"pointer"});if(N){e(".thumb"+(et+1)).after('<div class="thumbOver"></div>')}e(".navi").css("position","relative");e(".thumb").removeAttr("height").removeAttr("width");e(".thumbOver").css("position","absolute");if(v){e(".thumb").each(function(){e(this).css({top:"",left:"",minWidth:"",minHeight:""})})}break}}if(S==="thumbnail"){Z.find(".thumbContain").on("click",function(){if(f==="accordion"){e(".navi .thumbContain").removeClass("on");e(this).addClass("on");j=e(this).index();ut();ot();if(E===true&&S==="thumbnail"){nt()}G=true}else{if(!e(this).hasClass("on")){if(F===false){I=false;e(this).addClass("on");var t=e(this).index();var n=e(this).index();ot();G=true;ut(t,n);if(E===true&&S==="thumbnail"){nt()}}}}return false})}else{Z.find("a").on("click",function(){if(f==="accordion"){e(".navi a").removeClass("on");e(this).addClass("on");j=e(this).index();ut();ot();G=true}else{if(!e(this).hasClass("on")){if(F===false){I=false;e(this).addClass("on");var t=e(this).index();var n=e(this).index();ot();G=true;ut(t,n)}}}return false})}}if(E===true&&S==="thumbnail"){var U=e(".navi > div").outerWidth();function nt(){var t=e(".navi > div.on").index();var n=e(".navi > div").length-1;var r=e(".navi > div").outerWidth();var i=e(".naviContainer").offset().left;var s=e(".naviContainer").offset().left+e(".naviContainer").outerWidth();var o=t-2>=0?e(".navi > div").eq(t-2).offset().left:e(".navi > div").eq(0).offset().left;var u=t+2<=n?e(".navi > div").eq(t+2).offset().left+r:e(".navi > div").eq(n).offset().left+r;if(u>=s){e(".navi").animate({marginLeft:"-="+(u-s)+"px"},a,function(){F=false})}if(o<=i){e(".navi").animate({marginLeft:"+="+(i-o)+"px"},a,function(){F=false})}F=true}}if(f==="accordion"){r.eq(0).css("width",""+D+"");r.last().css({marginRight:"-"+""+P+"",position:"relative"})}else{r.eq(0).show();X.eq(0).show()}if(S==="thumbnail"){e(".navi .thumbContain").eq(0).addClass("on")}e(".navi a").eq(0).addClass("on");var rt;var it;if(m){r.eq(0).find("img:first").load(function(){function o(){n=t.width();i=Math.floor(n/s/B)*B;t.css("height",i+"px")}var n=0;var i=0;q=r.eq(j).find("img").width();R=r.eq(j).find("img").height();var s=q/R;t.css("height",R+"px");o();e(window).resize(function(){o()})})}H();if(s===true&&r.length>1){t.find("img").ready(function(){st()})}}var t=e(this.element);t.html("");var n=this.config.contentContainer,r=this.config.pageNum,i=this.config.separateText,s=this.config.autoPlay,o=this.config.hoverPause,u=this.config.delay,a=this.config.transitionSpeed,f=this.config.effect,l=this.config.easing,c=this.config.overlay,h=this.config.overlayClass,p=this.config.random,d=this.config.randomizeWhat,v=this.config.backgroundSlider,m=this.config.responsive,g=this.config.prevNext,y=this.config.prevNextBtns,b=this.config.prevText,w=this.config.nextText,E=this.config.navi,S=this.config.naviType,x=this.config.thumbHeight,T=this.config.thumbWidth,N=this.config.thumbOverlay,C=this.config.playPause,k=this.config.playPauseBtns,L=this.config.playText,A=this.config.pauseText,O=this.config.textSlideOpposite,M=this.config.textDelay,_=this.config.fadeSlideSpeed,D=this.config.accordionPhotoWidth,P=this.config.accordionClosedWidth,H=this.config.callback,B=this.config.lineheight;if(r!==0){e('<div id="sources"></div>').insertAfter(t);e("#sources").load("page.cfm?p="+r+"&pullcontent=true&LockSSL=true "+n+" ",function(){j()})}else{j()}};e.fn.fsSlider=function(e){new n(this,e);return this}})(jQuery)