(function(f){var h=/^\s*|\s*$/g,j={majorVersion:"@@tinymce_major_version@@",minorVersion:"@@tinymce_minor_version@@",releaseDate:"@@tinymce_release_date@@",_init:function(){function d(a){if(a.src&&/tiny_mce(|_gzip|_jquery|_prototype|_full)(_dev|_src)?.js/.test(a.src)){/_(src|dev)\.js/g.test(a.src)&&(b.suffix="_src");if(-1!=(p=a.src.indexOf("?")))b.query=a.src.substring(p+1);b.baseURL=a.src.substring(0,a.src.lastIndexOf("/"));n&&(-1==b.baseURL.indexOf("://")&&0!==b.baseURL.indexOf("/"))&&(b.baseURL=
n+b.baseURL);return b.baseURL}return null}var b=this,a=document,e=navigator,c=e.userAgent,n,p,l;b.isOpera=f.opera&&opera.buildNumber;b.isWebKit=/WebKit/.test(c);b.isIE=!b.isWebKit&&!b.isOpera&&/MSIE/gi.test(c)&&/Explorer/gi.test(e.appName);b.isIE6=b.isIE&&/MSIE [56]/.test(c);b.isIE7=b.isIE&&/MSIE [7]/.test(c);b.isIE8=b.isIE&&/MSIE [8]/.test(c);b.isIE9=b.isIE&&/MSIE [9]/.test(c);b.isGecko=!b.isWebKit&&/Gecko/.test(c);b.isMac=-1!=c.indexOf("Mac");b.isAir=/adobeair/i.test(c);b.isIDevice=/(iPad|iPhone)/.test(c);
b.isIOS5=b.isIDevice&&534<=c.match(/AppleWebKit\/(\d*)/)[1];if(f.tinyMCEPreInit)b.suffix=tinyMCEPreInit.suffix,b.baseURL=tinyMCEPreInit.base,b.query=tinyMCEPreInit.query;else{b.suffix="";c=a.getElementsByTagName("base");for(e=0;e<c.length;e++)if(l=c[e].href)/^https?:\/\/[^\/]+$/.test(l)&&(l+="/"),n=l?l.match(/.*\//)[0]:"";c=a.getElementsByTagName("script");for(e=0;e<c.length;e++)if(d(c[e]))return;if(a=a.getElementsByTagName("head")[0]){c=a.getElementsByTagName("script");for(e=0;e<c.length&&!d(c[e]);e++);
}}},is:function(d,b){return!b?void 0!==d:"array"==b&&d.hasOwnProperty&&d instanceof Array?!0:typeof d==b},makeMap:function(d,b,a){d=d||[];"string"==typeof d&&(d=d.split(b||","));a=a||{};for(b=d.length;b--;)a[d[b]]={};return a},each:function(d,b,a){var e,c;if(!d)return 0;a=a||d;if(void 0!==d.length){e=0;for(c=d.length;e<c;e++)if(!1===b.call(a,d[e],e,d))return 0}else for(e in d)if(d.hasOwnProperty(e)&&!1===b.call(a,d[e],e,d))return 0;return 1},map:function(d,b){var a=[];j.each(d,function(e){a.push(b(e))});
return a},grep:function(d,b){var a=[];j.each(d,function(e){(!b||b(e))&&a.push(e)});return a},inArray:function(d,b){var a,e;if(d){a=0;for(e=d.length;a<e;a++)if(d[a]===b)return a}return-1},extend:function(d,b){var a,e,c=arguments;a=1;for(e=c.length;a<e;a++)b=c[a],j.each(b,function(a,c){void 0!==a&&(d[c]=a)});return d},trim:function(d){return(d?""+d:"").replace(h,"")},create:function(d,b,a){var e,c,n,p,l,f=0;d=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(d);n=d[3].match(/(^|\.)(\w+)$/i)[2];c=this.createNS(d[3].replace(/\.\w+$/,
""),a);if(!c[n])if("static"==d[2]){if(c[n]=b,this.onCreate)this.onCreate(d[2],d[3],c[n])}else if(b[n]||(b[n]=function(){},f=1),c[n]=b[n],this.extend(c[n].prototype,b),d[5]&&(e=this.resolve(d[5]).prototype,p=d[5].match(/\.(\w+)$/i)[1],l=c[n],c[n]=f?function(){return e[p].apply(this,arguments)}:function(){this.parent=e[p];return l.apply(this,arguments)},c[n].prototype[n]=c[n],this.each(e,function(a,k){c[n].prototype[k]=e[k]}),this.each(b,function(a,k){e[k]?c[n].prototype[k]=function(){this.parent=e[k];
return a.apply(this,arguments)}:k!=n&&(c[n].prototype[k]=a)})),this.each(b["static"],function(a,k){c[n][k]=a}),this.onCreate)this.onCreate(d[2],d[3],c[n].prototype)},walk:function(d,b,a,e){e=e||this;d&&(a&&(d=d[a]),j.each(d,function(c,n){if(!1===b.call(e,c,n,a))return!1;j.walk(c,b,a,e)}))},createNS:function(d,b){var a,e;b=b||f;d=d.split(".");for(a=0;a<d.length;a++)e=d[a],b[e]||(b[e]={}),b=b[e];return b},resolve:function(d,b){var a,e;b=b||f;d=d.split(".");a=0;for(e=d.length;a<e&&!(b=b[d[a]],!b);a++);
return b},addUnload:function(d,b){var a=this;d={func:d,scope:b||this};if(a.unloads)a.unloads.push(d);else{var e=function(){var b=a.unloads,p,l;if(b){for(l in b)(p=b[l])&&p.func&&p.func.call(p.scope,1);f.detachEvent?(f.detachEvent("onbeforeunload",c),f.detachEvent("onunload",e)):f.removeEventListener&&f.removeEventListener("unload",e,!1);a.unloads=w=e=0;f.CollectGarbage&&CollectGarbage()}},c=function(){var a=document;if("interactive"==a.readyState){var c=function(){a.detachEvent("onstop",c);e&&e();
a=0};a&&a.attachEvent("onstop",c);f.setTimeout(function(){a&&a.detachEvent("onstop",c)},0)}};f.attachEvent?(f.attachEvent("onunload",e),f.attachEvent("onbeforeunload",c)):f.addEventListener&&f.addEventListener("unload",e,!1);a.unloads=[d]}return d},removeUnload:function(d){var b=this.unloads,a=null;j.each(b,function(e,c){if(e&&e.func==d)return b.splice(c,1),a=d,!1});return a},explode:function(d,b){return d?j.map(d.split(b||","),j.trim):d},_addVer:function(d){var b;if(!this.query)return d;b=(-1==d.indexOf("?")?
"?":"&")+this.query;return-1==d.indexOf("#")?d+b:d.replace("#",b+"#")}};j._init();f.tinymce=f.tinyMCE=j})(window);
tinymce.create("tinymce.util.Dispatcher",{scope:null,listeners:null,Dispatcher:function(f){this.scope=f||this;this.listeners=[]},add:function(f,h){this.listeners.push({cb:f,scope:h||this.scope});return f},addToTop:function(f,h){this.listeners.unshift({cb:f,scope:h||this.scope});return f},remove:function(f){var h=this.listeners,j=null;tinymce.each(h,function(d,b){if(f==d.cb)return j=f,h.splice(b,1),!1});return j},dispatch:function(){var f,h=arguments,j,d=this.listeners;for(j=0;j<d.length&&!(f=d[j],
f=f.cb.apply(f.scope,h),!1===f);j++);return f}});
(function(){var f=tinymce.each;tinymce.create("tinymce.util.URI",{URI:function(h,j){var d=this,b;h=tinymce.trim(h);j=d.settings=j||{};if(/^([\w\-]+):([^\/]{2})/i.test(h)||/^\s*#/.test(h))d.source=h;else if(0===h.indexOf("/")&&0!==h.indexOf("//")&&(h=(j.base_uri?j.base_uri.protocol||"http":"http")+"://mce_host"+h),/^[\w-]*:?\/\//.test(h)||(b=j.base_uri?j.base_uri.path:(new tinymce.util.URI(location.href)).directory,h=(j.base_uri&&j.base_uri.protocol||"http")+"://mce_host"+d.toAbsPath(b,h)),h=h.replace(/@@/g,
"(mce_at)"),h=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(h),f("source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),function(a,e){var c=h[e];c&&(c=c.replace(/\(mce_at\)/g,"@@"));d[a]=c}),b=j.base_uri){d.protocol||(d.protocol=b.protocol);d.userInfo||(d.userInfo=b.userInfo);!d.port&&"mce_host"==
d.host&&(d.port=b.port);if(!d.host||"mce_host"==d.host)d.host=b.host;d.source=""}},setPath:function(f){f=/^(.*?)\/?(\w+)?$/.exec(f);this.path=f[0];this.directory=f[1];this.file=f[2];this.source="";this.getURI()},toRelative:function(f){var j;if("./"===f)return f;f=new tinymce.util.URI(f,{base_uri:this});if("mce_host"!=f.host&&this.host!=f.host&&f.host||this.port!=f.port||this.protocol!=f.protocol)return f.getURI();j=this.toRelPath(this.path,f.path);f.query&&(j+="?"+f.query);f.anchor&&(j+="#"+f.anchor);
return j},toAbsolute:function(f,j){f=new tinymce.util.URI(f,{base_uri:this});return f.getURI(this.host==f.host&&this.protocol==f.protocol?j:0)},toRelPath:function(f,j){var d,b=0,a="",e,c;f=f.substring(0,f.lastIndexOf("/"));f=f.split("/");d=j.split("/");if(f.length>=d.length){e=0;for(c=f.length;e<c;e++)if(e>=d.length||f[e]!=d[e]){b=e+1;break}}if(f.length<d.length){e=0;for(c=d.length;e<c;e++)if(e>=f.length||f[e]!=d[e]){b=e+1;break}}if(1==b)return j;e=0;for(c=f.length-(b-1);e<c;e++)a+="../";e=b-1;for(c=
d.length;e<c;e++)a=e!=b-1?a+("/"+d[e]):a+d[e];return a},toAbsPath:function(h,j){var d,b=0,a=[],e;e=/\/$/.test(j)?"/":"";h=h.split("/");j=j.split("/");f(h,function(c){c&&a.push(c)});h=a;d=j.length-1;for(a=[];0<=d;d--)0==j[d].length||"."==j[d]||(".."==j[d]?b++:0<b?b--:a.push(j[d]));d=h.length-b;d=0>=d?a.reverse().join("/"):h.slice(0,d).join("/")+"/"+a.reverse().join("/");0!==d.indexOf("/")&&(d="/"+d);e&&d.lastIndexOf("/")!==d.length-1&&(d+=e);return d},getURI:function(f){var j;if(!this.source||f)j=
"",f||(this.protocol&&(j+=this.protocol+"://"),this.userInfo&&(j+=this.userInfo+"@"),this.host&&(j+=this.host),this.port&&(j+=":"+this.port)),this.path&&(j+=this.path),this.query&&(j+="?"+this.query),this.anchor&&(j+="#"+this.anchor),this.source=j;return this.source}})})();
(function(){var f=tinymce.each;tinymce.create("static tinymce.util.Cookie",{getHash:function(h){h=this.get(h);var j;h&&f(h.split("&"),function(f){f=f.split("=");j=j||{};j[unescape(f[0])]=unescape(f[1])});return j},setHash:function(h,j,d,b,a,e){var c="";f(j,function(a,e){c+=(!c?"":"&")+escape(e)+"="+escape(a)});this.set(h,c,d,b,a,e)},get:function(f){var j=document.cookie,d=f+"=",b;if(j){b=j.indexOf("; "+d);if(-1==b){if(b=j.indexOf(d),0!=b)return null}else b+=2;f=j.indexOf(";",b);-1==f&&(f=j.length);
return unescape(j.substring(b+d.length,f))}},set:function(f,j,d,b,a,e){document.cookie=f+"="+escape(j)+(d?"; expires="+d.toGMTString():"")+(b?"; path="+escape(b):"")+(a?"; domain="+a:"")+(e?"; secure":"")},remove:function(f,j){var d=new Date;d.setTime(d.getTime()-1E3);this.set(f,"",d,j,d)}})})();
(function(){function f(h,j){var d,b,a;j=j||'"';if(null==h)return"null";a=typeof h;if("string"==a)return b="\bb\tt\nn\ff\rr\"\"''\\\\",j+h.replace(/([\u0080-\uFFFF\x00-\x1f\"\'\\])/g,function(a,c){if('"'===j&&"'"===a)return a;d=b.indexOf(c);if(d+1)return"\\"+b.charAt(d+1);a=c.charCodeAt().toString(16);return"\\u"+"0000".substring(a.length)+a})+j;if("object"==a){if(h.hasOwnProperty&&h instanceof Array){d=0;for(b="[";d<h.length;d++)b+=(0<d?",":"")+f(h[d],j);return b+"]"}b="{";for(d in h)h.hasOwnProperty(d)&&
(b+="function"!=typeof h[d]?(1<b.length?","+j:j)+d+j+":"+f(h[d],j):"");return b+"}"}return""+h}tinymce.util.JSON={serialize:f,parse:function(f){try{return eval("("+f+")")}catch(j){}}}})();
tinymce.create("static tinymce.util.XHR",{send:function(f){function h(a){j=0;try{j=new ActiveXObject(a)}catch(c){}return j}var j,d=window,b=0;f.scope=f.scope||this;f.success_scope=f.success_scope||f.scope;f.error_scope=f.error_scope||f.scope;f.async=!1===f.async?!1:!0;f.data=f.data||"";if(j=d.XMLHttpRequest?new XMLHttpRequest:h("Microsoft.XMLHTTP")||h("Msxml2.XMLHTTP")){j.overrideMimeType&&j.overrideMimeType(f.content_type);j.open(f.type||(f.data?"POST":"GET"),f.url,f.async);f.content_type&&j.setRequestHeader("Content-Type",
f.content_type);j.setRequestHeader("X-Requested-With","XMLHttpRequest");j.send(f.data);var a=function(){!f.async||4==j.readyState||1E4<b++?(f.success&&1E4>b&&200==j.status?f.success.call(f.success_scope,""+j.responseText,j,f):f.error&&f.error.call(f.error_scope,1E4<b?"TIMED_OUT":"GENERAL",j,f),j=null):d.setTimeout(a,10)};if(!f.async)return a();d.setTimeout(a,10)}}});
(function(){var f=tinymce.extend,h=tinymce.util.JSON,j=tinymce.util.XHR;tinymce.create("tinymce.util.JSONRequest",{JSONRequest:function(d){this.settings=f({},d);this.count=0},send:function(d){var b=d.error,a=d.success;d=f(this.settings,d);d.success=function(e,c){e=h.parse(e);"undefined"==typeof e&&(e={error:"JSON Parse error."});e.error?b.call(d.error_scope||d.scope,e.error,c):a.call(d.success_scope||d.scope,e.result)};d.error=function(a,c){b&&b.call(d.error_scope||d.scope,a,c)};d.data=h.serialize({id:d.id||
"c"+this.count++,method:d.method,params:d.params});d.content_type="application/json";j.send(d)},"static":{sendRPC:function(f){return(new tinymce.util.JSONRequest).send(f)}}})})();(function(f){f.VK={DELETE:46,BACKSPACE:8,ENTER:13,TAB:9,SPACEBAR:32,UP:38,DOWN:40}})(tinymce);
(function(f){function h(e){e.onKeyUp.add(function(c,e){var p=e.keyCode;if((p==a||p==b)&&c.dom.isEmpty(c.getBody()))c.setContent("",{format:"raw"}),c.nodeChanged()})}function j(a){a.onKeyDown.add(function(a,e){if(e.keyCode===b&&a.selection.isCollapsed()&&0===a.selection.getRng(!0).startOffset){var p=a.selection.getNode().previousSibling;p&&(p.nodeName&&"hr"===p.nodeName.toLowerCase())&&(a.dom.remove(p),f.dom.Event.cancel(e))}})}var d=f.VK,b=d.BACKSPACE,a=d.DELETE;f.create("tinymce.util.Quirks",{Quirks:function(e){if(f.isWebKit){var c=
e.dom,d=e.selection;e.onKeyDown.add(function(e,g){var k,l,p,m;if((m=g.keyCode==a)||g.keyCode==b){g.preventDefault();k=d.getRng();l=c.getParent(k.startContainer,c.isBlock);m&&(l=c.getNext(l,c.isBlock));if(l){for(l=l.firstChild;l&&3==l.nodeType&&0==l.nodeValue.length;)l=l.nextSibling;l&&"SPAN"===l.nodeName&&(p=l.cloneNode(!1))}e.getDoc().execCommand(m?"ForwardDelete":"Delete",!1,null);l=c.getParent(k.startContainer,c.isBlock);f.each(c.select("span.Apple-style-span,font.Apple-style-span",l),function(a){var g=
d.getBookmark();p?c.replace(p.cloneNode(!1),a,!0):c.remove(a,!0);d.moveToBookmark(g)})}});h(e);e.dom.bind(e.getDoc(),"focusin",function(){e.selection.setRng(e.selection.getRng())});e.onClick.add(function(a,g){g=g.target;/^(IMG|HR)$/.test(g.nodeName)&&a.selection.getSel().setBaseAndExtent(g,0,g,1);"A"==g.nodeName&&a.dom.hasClass(g,"mceItemAnchor")&&a.selection.select(g);a.nodeChanged()});if(f.isIDevice){var p,l;e.dom.bind(e.getDoc(),"selectionchange",function(){l&&(clearTimeout(l),l=0);l=window.setTimeout(function(){var a=
e.selection.getRng();if(!p||!f.dom.RangeUtils.compareRanges(a,p))e.nodeChanged(),p=a},50)})}}f.isIE&&(j(e),h(e),document.body.setAttribute("role","application"));f.isGecko&&(j(e),Range.prototype.getClientRects||e.onMouseDown.add(function(a,g){if("HTML"===g.target.nodeName){var k=a.getBody();k.blur();setTimeout(function(){k.focus()},0)}}))}})})(tinymce);
(function(f){function h(a,c){var g,k,e,b={};if(a){a=a.split(",");c=c||10;for(g=0;g<a.length;g+=2)k=String.fromCharCode(parseInt(a[g],c)),d[k]||(e="&"+a[g+1]+";",b[k]=e,b[e]=k);return b}}var j,d,b,a=/[&<>\"\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,e=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,c=/[<>&\"\']/g,n=/&(#x|#)?([\w]+);/g,p={128:"\u20ac",130:"\u201a",131:"\u0192",132:"\u201e",133:"\u2026",134:"\u2020",135:"\u2021",136:"\u02c6",137:"\u2030",138:"\u0160",
139:"\u2039",140:"\u0152",142:"\u017d",145:"\u2018",146:"\u2019",147:"\u201c",148:"\u201d",149:"\u2022",150:"\u2013",151:"\u2014",152:"\u02dc",153:"\u2122",154:"\u0161",155:"\u203a",156:"\u0153",158:"\u017e",159:"\u0178"};d={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;"};b={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"};j=h("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",
32);f.html=f.html||{};f.html.Entities={encodeRaw:function(c,b){return c.replace(b?a:e,function(a){return d[a]||a})},encodeAllRaw:function(a){return(""+a).replace(c,function(a){return d[a]||a})},encodeNumeric:function(c,b){return c.replace(b?a:e,function(a){return 1<a.length?"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";":d[a]||"&#"+a.charCodeAt(0)+";"})},encodeNamed:function(c,b,g){g=g||j;return c.replace(b?a:e,function(a){return d[a]||g[a]||a})},getEncodeFunc:function(c,b){function g(g,
c){return g.replace(c?a:e,function(a){return d[a]||b[a]||"&#"+a.charCodeAt(0)+";"||a})}function k(a,g){return p.encodeNamed(a,g,b)}var p=f.html.Entities;b=h(b)||j;c=f.makeMap(c.replace(/\+/g,","));return c.named&&c.numeric?g:c.named?b?k:p.encodeNamed:c.numeric?p.encodeNumeric:p.encodeRaw},decode:function(a){return a.replace(n,function(a,g,c){if(g)return c=parseInt(c,2===g.length?16:10),65535<c?(c-=65536,String.fromCharCode(55296+(c>>10),56320+(c&1023))):p[c]||String.fromCharCode(c);if(!(g=b[a]))if(!(g=
j[a]))g=document.createElement("div"),g.innerHTML=a,g=g.textContent||g.innerText||a;return g})}}})(tinymce);
tinymce.html.Styles=function(f,h){function j(a,c,g,k){function e(a){a=parseInt(a).toString(16);return 1<a.length?a:"0"+a}return"#"+e(c)+e(g)+e(k)}var d=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,b=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,a=/\s*([^:]+):\s*([^;]+);?/g,e=/\s+$/,c,n={},p;f=f||{};p="\\\" \\' \\; \\: ; : \ufeff".split(" ");for(c=0;c<p.length;c++)n[p[c]]="\ufeff"+c,n["\ufeff"+c]=p[c];return{toHex:function(a){return a.replace(d,
j)},parse:function(c){function p(a,g){var c,k;if(c=h[a+"-top"+g])k=h[a+"-right"+g],c==k&&(c=h[a+"-bottom"+g],k==c&&(k=h[a+"-left"+g],c==k&&(h[a+g]=k,delete h[a+"-top"+g],delete h[a+"-right"+g],delete h[a+"-bottom"+g],delete h[a+"-left"+g])))}function g(a){var g=h[a],c;if(g&&!(0>g.indexOf(" "))){g=g.split(" ");for(c=g.length;c--;)if(g[c]!==g[0])return!1;h[a]=g[0];return!0}}function k(a){C=!0;return n[a]}function r(a,g){C&&(a=a.replace(/\uFEFF[0-9]/g,function(a){return n[a]}));g||(a=a.replace(/\\([\'\";:])/g,
"$1"));return a}var h={},m,t,x,C,v=f.url_converter,B=f.url_converter_scope||this;if(c){for(c=c.replace(/\\[\"\';:\uFEFF]/g,k).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(a){return a.replace(/[;:]/g,k)});m=a.exec(c);){t=m[1].replace(e,"").toLowerCase();x=m[2].replace(e,"");if(t&&0<x.length){if("font-weight"===t&&"700"===x)x="bold";else if("color"===t||"background-color"===t)x=x.toLowerCase();x=x.replace(d,j);x=x.replace(b,function(a,g,c,k,e,b){if(e=e||b)return e=r(e),"'"+e.replace(/\'/g,"\\'")+"'";g=
r(g||c||k);v&&(g=v.call(B,g,"style"));return"url('"+g.replace(/\'/g,"\\'")+"')"});h[t]=C?r(x,!0):x}a.lastIndex=m.index+m[0].length}p("border","");p("border","-width");p("border","-color");p("border","-style");p("padding","");p("margin","");g("border-width")&&(g("border-style")&&g("border-color"))&&(h.border=h["border-width"]+" "+h["border-style"]+" "+h["border-color"],delete h["border-width"],delete h["border-style"],delete h["border-color"]);"medium none"===h.border&&delete h.border}return h},serialize:function(a,
c){function g(g){var c,e,b,p;if(c=h.styles[g]){e=0;for(b=c.length;e<b;e++)g=c[e],p=a[g],void 0!==p&&0<p.length&&(k+=(0<k.length?" ":"")+g+": "+p+";")}}var k="",e,b;if(c&&h&&h.styles)g("*"),g(c);else for(e in a)b=a[e],void 0!==b&&0<b.length&&(k+=(0<k.length?" ":"")+e+": "+b+";");return k}}};
(function(f){function h(a,g){return a.split(g||",")}var j={},d,b,a,e,c={},n,p,l=f.makeMap,q=f.each;b="h1,h2,h3,h4,h5,h6,hr,p,div,address,pre,form,table,tbody,thead,tfoot,th,tr,td,li,ol,ul,caption,blockquote,center,dl,dt,dd,dir,fieldset,noscript,menu,isindex,samp,header,footer,article,section,hgroup";b=l(b,",",l(b.toUpperCase()));var g={Z:"H|K|N|O|P",Y:"X|form|R|Q",ZG:"E|span|width|align|char|charoff|valign",X:"p|T|div|U|W|isindex|fieldset|table",ZF:"E|align|char|charoff|valign",W:"pre|hr|blockquote|address|center|noframes",
ZE:"abbr|axis|headers|scope|rowspan|colspan|align|char|charoff|valign|nowrap|bgcolor|width|height",ZD:"[E][S]",U:"ul|ol|dl|menu|dir",ZC:"p|Y|div|U|W|table|br|span|bdo|object|applet|img|map|K|N|Q",T:"h1|h2|h3|h4|h5|h6",ZB:"X|S|Q",S:"R|P",ZA:"a|G|J|M|O|P",R:"a|H|K|N|O",Q:"noscript|P",P:"ins|del|script",O:"input|select|textarea|label|button",N:"M|L",M:"em|strong|dfn|code|q|samp|kbd|var|cite|abbr|acronym",L:"sub|sup",K:"J|I",J:"tt|i|b|u|s|strike",I:"big|small|font|basefont",H:"G|F",G:"br|span|bdo",F:"object|applet|img|map|iframe",
E:"A|B|C",D:"accesskey|tabindex|onfocus|onblur",C:"onclick|ondblclick|onmousedown|onmouseup|onmouseover|onmousemove|onmouseout|onkeypress|onkeydown|onkeyup",B:"lang|xml:lang|dir",A:"id|class|style|title"},k=function(a){return a.replace(/[A-Z]+/g,function(a){return k(g[a])})},r,u={};for(r in g)g.hasOwnProperty(r)&&(g[r]=k(g[r]));k("script[id|charset|type|language|src|defer|xml:space][]style[B|id|type|media|title|xml:space][]object[E|declare|classid|codebase|data|type|codetype|archive|standby|width|height|usemap|name|tabindex|align|border|hspace|vspace][#|param|Y]param[id|name|value|valuetype|type][]p[E|align][#|S]a[E|D|charset|type|name|href|hreflang|rel|rev|shape|coords|target][#|Z]br[A|clear][]span[E][#|S]bdo[A|C|B][#|S]applet[A|codebase|archive|code|object|alt|name|width|height|align|hspace|vspace][#|param|Y]h1[E|align][#|S]img[E|src|alt|name|longdesc|width|height|usemap|ismap|align|border|hspace|vspace][]map[B|C|A|name][X|form|Q|area]h2[E|align][#|S]iframe[A|longdesc|name|src|frameborder|marginwidth|marginheight|scrolling|align|width|height][#|Y]h3[E|align][#|S]tt[E][#|S]i[E][#|S]b[E][#|S]u[E][#|S]s[E][#|S]strike[E][#|S]big[E][#|S]small[E][#|S]font[A|B|size|color|face][#|S]basefont[id|size|color|face][]em[E][#|S]strong[E][#|S]dfn[E][#|S]code[E][#|S]q[E|cite][#|S]samp[E][#|S]kbd[E][#|S]var[E][#|S]cite[E][#|S]abbr[E][#|S]acronym[E][#|S]sub[E][#|S]sup[E][#|S]input[E|D|type|name|value|checked|disabled|readonly|size|maxlength|src|alt|usemap|onselect|onchange|accept|align][]select[E|name|size|multiple|disabled|tabindex|onfocus|onblur|onchange][optgroup|option]optgroup[E|disabled|label][option]option[E|selected|disabled|label|value][]textarea[E|D|name|rows|cols|disabled|readonly|onselect|onchange][]label[E|for|accesskey|onfocus|onblur][#|S]button[E|D|name|value|type|disabled][#|p|T|div|U|W|table|G|object|applet|img|map|K|N|Q]h4[E|align][#|S]ins[E|cite|datetime][#|Y]h5[E|align][#|S]del[E|cite|datetime][#|Y]h6[E|align][#|S]div[E|align][#|Y]ul[E|type|compact][li]li[E|type|value][#|Y]ol[E|type|compact|start][li]dl[E|compact][dt|dd]dt[E][#|S]dd[E][#|Y]menu[E|compact][li]dir[E|compact][li]pre[E|width|xml:space][#|ZA]hr[E|align|noshade|size|width][]blockquote[E|cite][#|Y]address[E][#|S|p]center[E][#|Y]noframes[E][#|Y]isindex[A|B|prompt][]fieldset[E][#|legend|Y]legend[E|accesskey|align][#|S]table[E|summary|width|border|frame|rules|cellspacing|cellpadding|align|bgcolor][caption|col|colgroup|thead|tfoot|tbody|tr]caption[E|align][#|S]col[ZG][]colgroup[ZG][col]thead[ZF][tr]tr[ZF|bgcolor][th|td]th[E|ZE][#|Y]form[E|action|method|name|enctype|onsubmit|onreset|accept|accept-charset|target][#|X|R|Q]noscript[E][#|Y]td[E|ZE][#|Y]tfoot[ZF][tr]tbody[ZF][tr]area[E|D|shape|coords|href|nohref|alt|target][]base[id|href|target][]body[E|onload|onunload|background|bgcolor|text|link|vlink|alink][#|Y]").replace(/#/g,
"#text").replace(/(\w+)\[([^\]]+)\]\[([^\]]*)\]/g,function(a,g,c,k){c=h(c,"|");u[g]={attributes:l(c),attributesOrder:c,children:l(k,"|",{"#comment":{}})}});j=u;d=l("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected,autoplay,loop,controls");a=l("area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed,source");e=f.extend(l("td,th,iframe,video,audio,object"),a);n=l("pre,script,style,textarea");p=l("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr");
f.html.Schema=function(g){function k(a){var g,c,e,b,p,d,n,m,q,j,r,t,C,u,v,x,B,y,A=/^([#+-])?([^\[\/]+)(?:\/([^\[]+))?(?:\[([^\]]+)\])?$/,J=/^([!\-])?(\w+::\w+|[^=:<]+)?(?:([=:<])(.*))?$/,P=/[*?+]/;if(a){a=h(a);z["@"]&&(x=z["@"].attributes,B=z["@"].attributesOrder);g=0;for(c=a.length;g<c;g++)if(p=A.exec(a[g])){u=p[1];q=p[2];v=p[3];m=p[4];t={};C=[];d={attributes:t,attributesOrder:C};"#"===u&&(d.paddEmpty=!0);"-"===u&&(d.removeEmpty=!0);if(x){for(y in x)t[y]=x[y];C.push.apply(C,B)}if(m){m=h(m,"|");e=
0;for(b=m.length;e<b;e++)if(p=J.exec(m[e]))n={},r=p[1],j=p[2].replace(/::/g,":"),u=p[3],p=p[4],"!"===r&&(d.attributesRequired=d.attributesRequired||[],d.attributesRequired.push(j),n.required=!0),"-"===r?(delete t[j],C.splice(f.inArray(C,j),1)):(u&&("="===u&&(d.attributesDefault=d.attributesDefault||[],d.attributesDefault.push({name:j,value:p}),n.defaultValue=p),":"===u&&(d.attributesForced=d.attributesForced||[],d.attributesForced.push({name:j,value:p}),n.forcedValue=p),"<"===u&&(n.validValues=l(p,
"?"))),P.test(j)?(d.attributePatterns=d.attributePatterns||[],n.pattern=RegExp("^"+j.replace(/([?+*])/g,".$1")+"$"),d.attributePatterns.push(n)):(t[j]||C.push(j),t[j]=n))}!x&&"@"==q&&(x=t,B=C);v&&(d.outputName=q,z[v]=d);P.test(q)?(d.pattern=RegExp("^"+q.replace(/([?+*])/g,".$1")+"$"),s.push(d)):z[q]=d}}}function r(a){z={};s=[];k(a);q(j,function(a,g){y[g]=a.children})}function C(a){var g=/^(~)?(.+)$/;a&&q(h(a),function(a){a=g.exec(a);var k="~"===a[1],e=k?"span":"div",p=a[2];y[p]=y[e];c[p]=e;k||(b[p]=
{});q(y,function(a){a[e]&&(a[p]=a[e])})})}function v(a){var g=/^([+\-]?)(\w+)\[([^\]]+)\]$/;a&&q(h(a),function(a){a=g.exec(a);var c,k;a&&(c=(k=a[1])?y[a[2]]:y[a[2]]={"#comment":{}},c=y[a[2]],q(h(a[3],"|"),function(a){"-"===k?delete c[a]:c[a]={}}))})}function u(a){var g=z[a],c;if(g)return g;for(c=s.length;c--;)if(g=s[c],g.pattern.test(a))return g}var z={},y={},s=[],A,L;g=g||{};!1===g.verify_html&&(g.valid_elements="*[*]");g.valid_styles&&(A={},q(g.valid_styles,function(a,g){A[g]=f.explode(a)}));L=
g.whitespace_elements?l(g.whitespace_elements):n;g.valid_elements?r(g.valid_elements):(q(j,function(a,g){z[g]={attributes:a.attributes,attributesOrder:a.attributesOrder};y[g]=a.children}),q(h("strong/b,em/i"),function(a){a=h(a,"/");z[a[1]].outputName=a[0]}),z.img.attributesDefault=[{name:"alt",value:""}],q(h("ol,ul,sub,sup,blockquote,span,font,a,table,tbody,tr"),function(a){z[a].removeEmpty=!0}),q(h("p,h1,h2,h3,h4,h5,h6,th,td,pre,div,address,caption"),function(a){z[a].paddEmpty=!0}));C(g.custom_elements);
v(g.valid_children);k(g.extended_valid_elements);v("+ol[ul|ol],+ul[ul|ol]");u("span")||k("span[!data-mce-type|*]");g.invalid_elements&&f.each(f.explode(g.invalid_elements),function(a){z[a]&&delete z[a]});this.children=y;this.styles=A;this.getBoolAttrs=function(){return d};this.getBlockElements=function(){return b};this.getShortEndedElements=function(){return a};this.getSelfClosingElements=function(){return p};this.getNonEmptyElements=function(){return e};this.getWhiteSpaceElements=function(){return L};
this.isValidChild=function(a,g){var c=y[a];return!(!c||!c[g])};this.getElementRule=u;this.getCustomElements=function(){return c};this.addValidElements=k;this.setValidElements=r;this.addCustomElements=C;this.addValidChildren=v};f.html.Schema.boolAttrMap=d;f.html.Schema.blockElementsMap=b})(tinymce);
(function(f){f.html.SaxParser=function(h,j){var d=this,b=function(){};h=h||{};d.schema=j=j||new f.html.Schema;!1!==h.fix_self_closing&&(h.fix_self_closing=!0);f.each("comment cdata text start end pi doctype".split(" "),function(a){a&&(d[a]=h[a]||b)});d.parse=function(a){function e(a){var k,e;for(k=g.length;k--&&g[k].name!==a;);if(0<=k){for(e=g.length-1;e>=k;e--)a=g[e],a.valid&&c.end(a.name);g.length=k}}var c=this,b,p=0,l,d,g=[],k,r,u,m,t,x,C,v,B,z,y,s,A,L,K,T,M,E,G,O,Q,H,F=0,R=f.html.Entities.decode,
V,U;O=RegExp("<(?:(?:!--([\\w\\W]*?)--\x3e)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:!DOCTYPE([\\w\\W]*?)>)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([^>]+)>)|(?:([^\\s\\/<>]+)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/)>))","g");Q=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:\\.|[^\"])*)\")|(?:\'((?:\\.|[^\'])*)\')|([^>\s]+)))?/g;H={script:/<\/script[^>]*>/gi,style:/<\/style[^>]*>/gi,noscript:/<\/noscript[^>]*>/gi};x=j.getShortEndedElements();G=j.getSelfClosingElements();C=j.getBoolAttrs();
v=h.validate;t=h.remove_internals;V=h.fix_self_closing;U=f.isIE;for(A=/^:/;b=O.exec(a);){p<b.index&&c.text(R(a.substr(p,b.index-p)));if(l=b[6])l=l.toLowerCase(),U&&A.test(l)&&(l=l.substr(1)),e(l);else if(l=b[7]){l=l.toLowerCase();U&&A.test(l)&&(l=l.substr(1));p=l in x;V&&(G[l]&&0<g.length&&g[g.length-1].name===l)&&e(l);if(!v||(B=j.getElementRule(l))){z=!0;v&&(L=B.attributes,K=B.attributePatterns);(s=b[8])?((m=-1!==s.indexOf("data-mce-type"))&&t&&(z=!1),k=[],k.map={},s.replace(Q,function(a,g,c,e,b){g=
g.toLowerCase();c=g in C?g:R(c||e||b||"");if(v&&!m&&0!==g.indexOf("data-")){a=L[g];if(!a&&K){for(e=K.length;e--&&!(a=K[e],a.pattern.test(g)););-1===e&&(a=null)}if(!a||a.validValues&&!(c in a.validValues))return}k.map[g]=c;k.push({name:g,value:c})})):(k=[],k.map={});if(v&&!m){T=B.attributesRequired;M=B.attributesDefault;if(E=B.attributesForced)for(d=E.length;d--;)y=E[d],u=y.name,y=y.value,"{$uid}"===y&&(y="mce_"+F++),k.map[u]=y,k.push({name:u,value:y});if(M)for(d=M.length;d--;)y=M[d],u=y.name,u in
k.map||(y=y.value,"{$uid}"===y&&(y="mce_"+F++),k.map[u]=y,k.push({name:u,value:y}));if(T){for(d=T.length;d--&&!(T[d]in k.map););-1===d&&(z=!1)}k.map["data-mce-bogus"]&&(z=!1)}z&&c.start(l,k,p)}else z=!1;if(d=H[l]){d.lastIndex=p=b.index+b[0].length;(b=d.exec(a))?(z&&(r=a.substr(p,b.index-p)),p=b.index+b[0].length):(r=a.substr(p),p=a.length);z&&0<r.length&&c.text(r,!0);z&&c.end(l);O.lastIndex=p;continue}p||(!s||s.indexOf("/")!=s.length-1?g.push({name:l,valid:z}):z&&c.end(l))}else(l=b[1])?c.comment(l):
(l=b[2])?c.cdata(l):(l=b[3])?c.doctype(l):(l=b[4])&&c.pi(l,b[5]);p=b.index+b[0].length}p<a.length&&c.text(R(a.substr(p)));for(d=g.length-1;0<=d;d--)l=g[d],l.valid&&c.end(l.name)}}})(tinymce);
(function(f){function h(a,e,c){var b;b=c?"lastChild":"firstChild";c=c?"prev":"next";if(a[b])return a[b];if(a!==e){if(b=a[c])return b;for(a=a.parent;a&&a!==e;a=a.parent)if(b=a[c])return b}}function j(a,e){this.name=a;this.type=e;1===e&&(this.attributes=[],this.attributes.map={})}var d=/^[ \t\r\n]*$/,b={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11};f.extend(j.prototype,{replace:function(a){a.parent&&a.remove();this.insert(a,this);this.remove();return this},attr:function(a,
e){var c,b;if("string"!==typeof a){for(b in a)this.attr(b,a[b]);return this}if(c=this.attributes){if(void 0!==e){if(null===e){if(a in c.map){delete c.map[a];for(b=c.length;b--;)if(c[b].name===a){c.splice(b,1);break}}return this}if(a in c.map)for(b=c.length;b--;){if(c[b].name===a){c[b].value=e;break}}else c.push({name:a,value:e});c.map[a]=e;return this}return c.map[a]}},clone:function(){var a=new j(this.name,this.type),b,c,d,p,l;if(d=this.attributes){l=[];l.map={};b=0;for(c=d.length;b<c;b++)p=d[b],
"id"!==p.name&&(l[l.length]={name:p.name,value:p.value},l.map[p.name]=p.value);a.attributes=l}a.value=this.value;a.shortEnded=this.shortEnded;return a},wrap:function(a){this.parent.insert(a,this);a.append(this);return this},unwrap:function(){var a,b;for(a=this.firstChild;a;)b=a.next,this.insert(a,this,!0),a=b;this.remove()},remove:function(){var a=this.parent,b=this.next,c=this.prev;if(a){if(a.firstChild===this){if(a.firstChild=b)b.prev=null}else c.next=b;if(a.lastChild===this){if(a.lastChild=c)c.next=
null}else b.prev=c;this.parent=this.next=this.prev=null}return this},append:function(a){var b;a.parent&&a.remove();(b=this.lastChild)?(b.next=a,a.prev=b,this.lastChild=a):this.lastChild=this.firstChild=a;a.parent=this;return a},insert:function(a,b,c){var d;a.parent&&a.remove();d=b.parent||this;c?(b===d.firstChild?d.firstChild=a:b.prev.next=a,a.prev=b.prev,a.next=b,b.prev=a):(b===d.lastChild?d.lastChild=a:b.next.prev=a,a.next=b.next,a.prev=b,b.next=a);a.parent=d;return a},getAll:function(a){var b,
c=[];for(b=this.firstChild;b;b=h(b,this))b.name===a&&c.push(b);return c},empty:function(){var a,b,c;if(this.firstChild){a=[];for(c=this.firstChild;c;c=h(c,this))a.push(c);for(b=a.length;b--;)c=a[b],c.parent=c.firstChild=c.lastChild=c.next=c.prev=null}this.firstChild=this.lastChild=null;return this},isEmpty:function(a){var b=this.firstChild,c,f;if(b){do{if(1===b.type){if(b.attributes.map["data-mce-bogus"])continue;if(a[b.name]||b.attributes.length)return!1;for(c=b.attributes.length;c--;)if(f=b.attributes[c].name,
"name"===f||0===f.indexOf("data-"))return!1}if(3===b.type&&!d.test(b.value))return!1}while(b=h(b,this))}return!0},walk:function(a){return h(this,null,a)}});f.extend(j,{create:function(a,e){var c,d;c=new j(a,b[a]||1);if(e)for(d in e)c.attr(d,e[d]);return c}});f.html.Node=j})(tinymce);
(function(f){var h=f.html.Node;f.html.DomParser=function(j,d){var b=this,a={},e=[],c={},n={};j=j||{};j.validate="validate"in j?j.validate:!0;j.root_name=j.root_name||"body";b.schema=d=d||new f.html.Schema;b.filterNode=function(b){var l,d,g;d in a&&((g=c[d])?g.push(b):c[d]=[b]);for(l=e.length;l--;)d=e[l].name,d in b.attributes.map&&((g=n[d])?g.push(b):n[d]=[b]);return b};b.addNodeFilter=function(b,c){f.each(f.explode(b),function(b){var g=a[b];g||(a[b]=g=[]);g.push(c)})};b.addAttributeFilter=function(a,
b){f.each(f.explode(a),function(a){var g;for(g=0;g<e.length;g++)if(e[g].name===a){e[g].callbacks.push(b);return}e.push({name:a,callbacks:[b]})})};b.parse=function(p,l){function q(g,b){var k=new h(g,b),e;g in a&&((e=c[g])?e.push(k):c[g]=[k]);return k}function g(a){var g;for(a=a.prev;a&&3===a.type;)g=a.value.replace(A,""),0<g.length?(a.value=g,a=a.prev):(g=a.prev,a.remove(),a=g)}var k,r,u,m,t,x,C,v,B,z,y,s=[],A,L,K,T,M;l=l||{};c={};n={};z=f.extend(f.makeMap("script,style,head,html,body,title,meta,param"),
d.getBlockElements());M=d.getNonEmptyElements();T=d.children;B=j.validate;m="forced_root_block"in l?l.forced_root_block:j.forced_root_block;K=d.getWhiteSpaceElements();y=/^[ \t\r\n]+/;A=/[ \t\r\n]+$/;L=/[ \t\r\n]+/g;k=new f.html.SaxParser({validate:B,fix_self_closing:!B,cdata:function(a){u.append(q("#cdata",4)).value=a},text:function(a,g){var b;K[u.name]||(a=a.replace(L," "),u.lastChild&&z[u.lastChild.name]&&(a=a.replace(y,"")));0!==a.length&&(b=q("#text",3),b.raw=!!g,u.append(b).value=a)},comment:function(a){u.append(q("#comment",
8)).value=a},pi:function(a,b){u.append(q(a,7)).value=b;g(u)},doctype:function(a){u.append(q("#doctype",10)).value=a;g(u)},start:function(a,b,c){var k,p,l;if(k=B?d.getElementRule(a):{}){k=q(k.outputName||a,1);k.attributes=b;k.shortEnded=c;u.append(k);(p=T[u.name])&&(T[k.name]&&!p[k.name])&&s.push(k);for(p=e.length;p--;)l=e[p].name,l in b.map&&((v=n[l])?v.push(k):n[l]=[k]);z[a]&&g(k);c||(u=k)}},end:function(a){var g,b;if(g=B?d.getElementRule(a):{}){if(z[a]){if(!K[u.name]){for(a=u.firstChild;a&&3===
a.type;)b=a.value.replace(y,""),0<b.length?(a.value=b,a=a.next):(b=a.next,a.remove(),a=b);for(a=u.lastChild;a&&3===a.type;)b=a.value.replace(A,""),0<b.length?(a.value=b,a=a.prev):(b=a.prev,a.remove(),a=b)}if((a=u.prev)&&3===a.type)b=a.value.replace(y,""),0<b.length?a.value=b:a.remove()}if((g.removeEmpty||g.paddEmpty)&&u.isEmpty(M))if(g.paddEmpty)u.empty().append(new h("#text","3")).value="\u00a0";else if(!u.attributes.map.name){g=u.parent;u.empty().remove();u=g;return}u=u.parent}}},d);r=u=new h(l.context||
j.root_name,11);k.parse(p);if(B&&s.length)if(l.context)l.invalid=!0;else{var E,G,O,Q,H,F,R,V,U;V=f.makeMap("tr,td,th,tbody,thead,tfoot,table");R=d.getNonEmptyElements();for(k=0;k<s.length;k++)if(x=s[k],x.parent){G=[x];for(E=x.parent;E&&!d.isValidChild(E.name,x.name)&&!V[E.name];E=E.parent)G.push(E);if(E&&1<G.length){G.reverse();O=Q=b.filterNode(G[0].clone());for(F=0;F<G.length-1;F++){d.isValidChild(Q.name,G[F].name)?(H=b.filterNode(G[F].clone()),Q.append(H)):H=Q;for(Q=G[F].firstChild;Q&&Q!=G[F+1];)U=
Q.next,H.append(Q),Q=U;Q=H}O.isEmpty(R)?E.insert(x,G[0],!0):(E.insert(O,G[0],!0),E.insert(x,O));E=G[0];(E.isEmpty(R)||E.firstChild===E.lastChild&&"br"===E.firstChild.name)&&E.empty().remove()}else x.parent&&("li"===x.name?(E=x.prev)&&("ul"===E.name||"ul"===E.name)?E.append(x):(E=x.next)&&("ul"===E.name||"ul"===E.name)?E.insert(x,E.firstChild,!0):x.wrap(b.filterNode(new h("ul",1))):d.isValidChild(x.parent.name,"div")&&d.isValidChild("div",x.name)?x.wrap(b.filterNode(new h("div",1))):"style"===x.name||
"script"===x.name||x.unwrap())}}if(m&&"body"==r.name)for(k=r.firstChild;k;)x=k.next,3==k.type||1==k.type&&"p"!==k.name&&!z[k.name]&&!k.attr("data-mce-type")?(t||(t=q(m,1),r.insert(t,k)),t.append(k)):t=null,k=x;if(!l.invalid){for(C in c){v=a[C];m=c[C];for(x=m.length;x--;)m[x].parent||m.splice(x,1);t=0;for(k=v.length;t<k;t++)v[t](m,C,l)}t=0;for(k=e.length;t<k;t++)if(v=e[t],v.name in n){m=n[v.name];for(x=m.length;x--;)m[x].parent||m.splice(x,1);x=0;for(C=v.callbacks.length;x<C;x++)v.callbacks[x](m,v.name,
l)}}return r};j.remove_trailing_brs&&b.addNodeFilter("br",function(a){var b,c=a.length,g,k=d.getBlockElements(),e=d.getNonEmptyElements(),n,m,j;k.body=1;for(b=0;b<c;b++)if(g=a[b],n=g.parent,k[g.parent.name]&&g===n.lastChild){for(m=g.prev;m;){j=m.name;if("span"!==j||"bookmark"!==m.attr("data-mce-type")){if("br"!==j){g=null;break}if("br"===j){g=null;break}}m=m.prev}if(g&&(g.remove(),n.isEmpty(e)&&(elementRule=d.getElementRule(n.name))))elementRule.removeEmpty?n.remove():elementRule.paddEmpty&&(n.empty().append(new f.html.Node("#text",
3)).value="\u00a0")}})}})(tinymce);
tinymce.html.Writer=function(f){var h=[],j,d,b,a,e;f=f||{};j=f.indent;d=tinymce.makeMap(f.indent_before||"");b=tinymce.makeMap(f.indent_after||"");a=tinymce.html.Entities.getEncodeFunc(f.entity_encoding||"raw",f.entities);e="html"==f.element_format;return{start:function(c,f,p){var l,q,g;j&&(d[c]&&0<h.length)&&(l=h[h.length-1],0<l.length&&"\n"!==l&&h.push("\n"));h.push("<",c);if(f){l=0;for(q=f.length;l<q;l++)g=f[l],h.push(" ",g.name,'="',a(g.value,!0),'"')}h[h.length]=!p||e?">":" />";p&&(j&&b[c]&&
0<h.length)&&(l=h[h.length-1],0<l.length&&"\n"!==l&&h.push("\n"))},end:function(a){h.push("</",a,">");j&&(b[a]&&0<h.length)&&(a=h[h.length-1],0<a.length&&"\n"!==a&&h.push("\n"))},text:function(b,e){0<b.length&&(h[h.length]=e?b:a(b))},cdata:function(a){h.push("<![CDATA[",a,"]]\x3e")},comment:function(a){h.push("\x3c!--",a,"--\x3e")},pi:function(a,b){b?h.push("<?",a," ",b,"?>"):h.push("<?",a,"?>");j&&h.push("\n")},doctype:function(a){h.push("<!DOCTYPE",a,">",j?"\n":"")},reset:function(){h.length=0},
getContent:function(){return h.join("").replace(/\n$/,"")}}};
(function(f){f.html.Serializer=function(h,j){var d=new f.html.Writer(h);h=h||{};h.validate="validate"in h?h.validate:!0;this.schema=j=j||new f.html.Schema;this.writer=d;this.serialize=function(b){function a(b){var p=e[b.type],l,f,g,k,r,h,m,t;if(p)p(b);else{p=b.name;l=b.shortEnded;f=b.attributes;if(c&&f&&1<f.length){r=[];r.map={};t=j.getElementRule(b.name);h=0;for(m=t.attributesOrder.length;h<m;h++)g=t.attributesOrder[h],g in f.map&&(k=f.map[g],r.map[g]=k,r.push({name:g,value:k}));h=0;for(m=f.length;h<
m;h++)g=f[h].name,g in r.map||(k=f.map[g],r.map[g]=k,r.push({name:g,value:k}));f=r}d.start(b.name,f,l);if(!l){if(b=b.firstChild){do a(b);while(b=b.next)}d.end(p)}}}var e,c;c=h.validate;e={3:function(a){d.text(a.value,a.raw)},8:function(a){d.comment(a.value)},7:function(a){d.pi(a.name,a.value)},10:function(a){d.doctype(a.value)},4:function(a){d.cdata(a.value)},11:function(b){if(b=b.firstChild){do a(b);while(b=b.next)}}};d.reset();if(1==b.type&&!h.inner)a(b);else e[11](b);return d.getContent()}}})(tinymce);
(function(f){var h=f.each,j=f.is,d=f.isWebKit,b=f.isIE,a=f.html.Entities,e=/^([a-z0-9],?)+$/i,c=f.html.Schema.blockElementsMap,n=/^[ \t\r\n]*$/;f.create("tinymce.dom.DOMUtils",{doc:null,root:null,files:null,pixelStyles:/^(top|left|bottom|right|width|height|borderWidth)$/,props:{"for":"htmlFor","class":"className",className:"className",checked:"checked",disabled:"disabled",maxlength:"maxLength",readonly:"readOnly",selected:"selected",value:"value",id:"id",name:"name",type:"type"},DOMUtils:function(a,
c){var e;this.doc=a;this.win=window;this.files={};this.cssFlicker=!1;this.counter=0;this.stdMode=!f.isIE||8<=a.documentMode;this.boxModel=!f.isIE||"CSS1Compat"==a.compatMode||this.stdMode;this.hasOuterHTML="outerHTML"in a.createElement("a");this.settings=c=f.extend({keep_values:!1,hex_colors:1},c);this.schema=c.schema;this.styles=new f.html.Styles({url_converter:c.url_converter,url_converter_scope:c.url_converter_scope},c.schema);if(f.isIE6)try{a.execCommand("BackgroundImageCache",!1,!0)}catch(g){this.cssFlicker=
!0}if(b&&c.schema)for(e in"abbr article aside audio canvas details figcaption figure footer header hgroup mark menu meter nav output progress section summary time video".replace(/\w+/g,function(g){a.createElement(g)}),c.schema.getCustomElements())a.createElement(e);f.addUnload(this.destroy,this)},getRoot:function(){var a=this.settings;return a&&this.get(a.root_element)||this.doc.body},getViewPort:function(a){var b;a=!a?this.win:a;b=a.document;b=this.boxModel?b.documentElement:b.body;return{x:a.pageXOffset||
b.scrollLeft,y:a.pageYOffset||b.scrollTop,w:a.innerWidth||b.clientWidth,h:a.innerHeight||b.clientHeight}},getRect:function(a){var b;a=this.get(a);b=this.getPos(a);a=this.getSize(a);return{x:b.x,y:b.y,w:a.w,h:a.h}},getSize:function(a){var b,c;a=this.get(a);b=this.getStyle(a,"width");c=this.getStyle(a,"height");-1===b.indexOf("px")&&(b=0);-1===c.indexOf("px")&&(c=0);return{w:parseInt(b)||a.offsetWidth||a.clientWidth,h:parseInt(c)||a.offsetHeight||a.clientHeight}},getParent:function(a,b,c){return this.getParents(a,
b,c,!1)},getParents:function(a,b,c,g){var k=this,e,d=k.settings,f=[];a=k.get(a);g=void 0===g;d.strict_root&&(c=c||k.getRoot());j(b,"string")&&(e=b,b="*"===b?function(a){return 1==a.nodeType}:function(a){return k.is(a,e)});for(;a&&!(a==c||!a.nodeType||9===a.nodeType);){if(!b||b(a))if(g)f.push(a);else return a;a=a.parentNode}return g?f:null},get:function(a){var b;return a&&(this.doc&&"string"==typeof a)&&(b=a,(a=this.doc.getElementById(a))&&a.id!==b)?this.doc.getElementsByName(b)[1]:a},getNext:function(a,
b){return this._findSib(a,b,"nextSibling")},getPrev:function(a,b){return this._findSib(a,b,"previousSibling")},select:function(a,b){return f.dom.Sizzle(a,this.get(b)||this.get(this.settings.root_element)||this.doc,[])},is:function(a,b){var c;if(void 0===a.length){if("*"===b)return 1==a.nodeType;if(e.test(b)){b=b.toLowerCase().split(/,/);a=a.nodeName.toLowerCase();for(c=b.length-1;0<=c;c--)if(b[c]==a)return!0;return!1}}return 0<f.dom.Sizzle.matches(b,a.nodeType?[a]:a).length},add:function(a,b,c,g,
k){var e=this;return this.run(a,function(a){var p;p=j(b,"string")?e.doc.createElement(b):b;e.setAttribs(p,c);g&&(g.nodeType?p.appendChild(g):e.setHTML(p,g));return!k?a.appendChild(p):p})},create:function(a,b,c){return this.add(this.doc.createElement(a),a,b,c,1)},createHTML:function(a,b,c){var g,k;g="<"+a;for(k in b)b.hasOwnProperty(k)&&(g+=" "+k+'="'+this.encode(b[k])+'"');return"undefined"!=typeof c?g+">"+c+"</"+a+">":g+" />"},remove:function(a,b){return this.run(a,function(a){var g,c=a.parentNode;
if(!c)return null;if(b)for(;g=a.firstChild;)!f.isIE||3!==g.nodeType||g.nodeValue?c.insertBefore(g,a):a.removeChild(g);return c.removeChild(a)})},setStyle:function(a,c,e){var g=this;return g.run(a,function(k){var d;d=k.style;c=c.replace(/-(\D)/g,function(a,b){return b.toUpperCase()});if(g.pixelStyles.test(c)&&(f.is(e,"number")||/^[\-0-9\.]+$/.test(e)))e+="px";switch(c){case "opacity":if(b&&(d.filter=""===e?"":"alpha(opacity="+100*e+")",!a.currentStyle||!a.currentStyle.hasLayout))d.display="inline-block";
d[c]=d["-moz-opacity"]=d["-khtml-opacity"]=e||"";break;case "float":b?d.styleFloat=e:d.cssFloat=e;break;default:d[c]=e||""}g.settings.update_styles&&g.setAttrib(k,"data-mce-style")})},getStyle:function(a,c,e){if(a=this.get(a)){if(this.doc.defaultView&&e){c=c.replace(/[A-Z]/g,function(a){return"-"+a});try{return this.doc.defaultView.getComputedStyle(a,null).getPropertyValue(c)}catch(g){return null}}c=c.replace(/-(\D)/g,function(a,b){return b.toUpperCase()});"float"==c&&(c=b?"styleFloat":"cssFloat");
return a.currentStyle&&e?a.currentStyle[c]:a.style?a.style[c]:void 0}},setStyles:function(a,b){var c=this,g=c.settings,k;k=g.update_styles;g.update_styles=0;h(b,function(b,g){c.setStyle(a,g,b)});g.update_styles=k;g.update_styles&&c.setAttrib(a,g.cssText)},removeAllAttribs:function(a){return this.run(a,function(a){var b,g=a.attributes;for(b=g.length-1;0<=b;b--)a.removeAttributeNode(g.item(b))})},setAttrib:function(a,b,c){var g=this;if(a&&b)return g.settings.strict&&(b=b.toLowerCase()),this.run(a,function(a){var e=
g.settings;if(null!==c)switch(b){case "style":if(!j(c,"string")){h(c,function(b,c){g.setStyle(a,c,b)});return}e.keep_values&&(c&&!g._isRes(c)?a.setAttribute("data-mce-style",c,2):a.removeAttribute("data-mce-style",2));a.style.cssText=c;break;case "class":a.className=c||"";break;case "src":case "href":e.keep_values&&(e.url_converter&&(c=e.url_converter.call(e.url_converter_scope||g,c,b,a)),g.setAttrib(a,"data-mce-"+b,c,2));break;case "shape":a.setAttribute("data-mce-style",c)}j(c)&&null!==c&&0!==c.length?
a.setAttribute(b,""+c,2):a.removeAttribute(b,2)})},setAttribs:function(a,b){var c=this;return this.run(a,function(a){h(b,function(b,e){c.setAttrib(a,e,b)})})},getAttrib:function(a,c,e){var g;a=this.get(a);if(!a||1!==a.nodeType)return void 0===e?!1:e;j(e)||(e="");if(/^(src|href|style|coords|shape)$/.test(c)&&(g=a.getAttribute("data-mce-"+c)))return g;b&&this.props[c]&&(g=(g=a[this.props[c]])&&g.nodeValue?g.nodeValue:g);g||(g=a.getAttribute(c,2));if(/^(checked|compact|declare|defer|disabled|ismap|multiple|nohref|noshade|nowrap|readonly|selected)$/.test(c))return!0===
a[this.props[c]]&&""===g?c:g?c:"";if("FORM"===a.nodeName&&a.getAttributeNode(c))return a.getAttributeNode(c).nodeValue;if("style"===c&&(g=g||a.style.cssText))g=this.serializeStyle(this.parseStyle(g),a.nodeName),this.settings.keep_values&&!this._isRes(g)&&a.setAttribute("data-mce-style",g);d&&("class"===c&&g)&&(g=g.replace(/(apple|webkit)\-[a-z\-]+/gi,""));if(b)switch(c){case "rowspan":case "colspan":1===g&&(g="");break;case "size":if("+0"===g||20===g||0===g)g="";break;case "width":case "height":case "vspace":case "checked":case "disabled":case "readonly":0===
g&&(g="");break;case "hspace":-1===g&&(g="");break;case "maxlength":case "tabindex":if(32768===g||2147483647===g||"32768"===g)g="";break;case "multiple":case "compact":case "noshade":case "nowrap":return 65535===g?c:e;case "shape":g=g.toLowerCase();break;default:0===c.indexOf("on")&&g&&(g=(""+g).replace(/^function\s+\w+\(\)\s+\{\s+(.*)\s+\}$/,"$1"))}return void 0!==g&&null!==g&&""!==g?""+g:e},getPos:function(a,b){var c=0,g=0,k=this.doc;a=this.get(a);b=b||k.body;if(a){if(a.getBoundingClientRect)return a=
a.getBoundingClientRect(),g=this.boxModel?k.documentElement:k.body,c=a.left+(k.documentElement.scrollLeft||k.body.scrollLeft)-g.clientTop,g=a.top+(k.documentElement.scrollTop||k.body.scrollTop)-g.clientLeft,{x:c,y:g};for(k=a;k&&k!=b&&k.nodeType;)c+=k.offsetLeft||0,g+=k.offsetTop||0,k=k.offsetParent;for(k=a.parentNode;k&&k!=b&&k.nodeType;)c-=k.scrollLeft||0,g-=k.scrollTop||0,k=k.parentNode}return{x:c,y:g}},parseStyle:function(a){return this.styles.parse(a)},serializeStyle:function(a,b){return this.styles.serialize(a,
b)},loadCSS:function(a){var c=this,e=c.doc,g;a||(a="");g=c.select("head")[0];h(a.split(","),function(a){var d;c.files[a]||(c.files[a]=!0,d=c.create("link",{rel:"stylesheet",href:f._addVer(a)}),b&&(e.documentMode&&e.recalc)&&(d.onload=function(){e.recalc&&e.recalc();d.onload=null}),g.appendChild(d))})},addClass:function(a,b){return this.run(a,function(a){var c;if(!b)return 0;if(this.hasClass(a,b))return a.className;c=this.removeClass(a,b);return a.className=(""!=c?c+" ":"")+b})},removeClass:function(a,
b){var c=this,g;return c.run(a,function(a){var e;return c.hasClass(a,b)?(g||(g=RegExp("(^|\\s+)"+b+"(\\s+|$)","g")),e=a.className.replace(g," "),e=f.trim(" "!=e?e:""),a.className=e,e||(a.removeAttribute("class"),a.removeAttribute("className")),e):a.className})},hasClass:function(a,b){a=this.get(a);return!a||!b?!1:-1!==(" "+a.className+" ").indexOf(" "+b+" ")},show:function(a){return this.setStyle(a,"display","block")},hide:function(a){return this.setStyle(a,"display","none")},isHidden:function(a){a=
this.get(a);return!a||"none"==a.style.display||"none"==this.getStyle(a,"display")},uniqueId:function(a){return(!a?"mce_":a)+this.counter++},setHTML:function(a,c){var e=this;return e.run(a,function(a){if(b){for(;a.firstChild;)a.removeChild(a.firstChild);try{a.innerHTML="<br />"+c,a.removeChild(a.firstChild)}catch(k){a=e.create("div"),a.innerHTML="<br />"+c,h(a.childNodes,function(b,c){c&&a.appendChild(b)})}}else a.innerHTML=c;return c})},getOuterHTML:function(a){var b;a=this.get(a);if(!a)return null;
if(1===a.nodeType&&this.hasOuterHTML)return a.outerHTML;b=(a.ownerDocument||this.doc).createElement("body");b.appendChild(a.cloneNode(!0));return b.innerHTML},setOuterHTML:function(a,c,e){function g(a,b,c){c=c.createElement("body");c.innerHTML=b;for(b=c.lastChild;b;)k.insertAfter(b.cloneNode(!0),a),b=b.previousSibling;k.remove(a)}var k=this;return this.run(a,function(a){a=k.get(a);if(1==a.nodeType)if(e=e||a.ownerDocument||k.doc,b)try{b&&1==a.nodeType?a.outerHTML=c:g(a,c,e)}catch(d){g(a,c,e)}else g(a,
c,e)})},decode:a.decode,encode:a.encodeAllRaw,insertAfter:function(a,b){b=this.get(b);return this.run(a,function(a){var c,e;c=b.parentNode;(e=b.nextSibling)?c.insertBefore(a,e):c.appendChild(a);return a})},isBlock:function(a){var b=a.nodeType;return b?!!(1===b&&c[a.nodeName]):!!c[a]},replace:function(a,b,c){j(b,"array")&&(a=a.cloneNode(!0));return this.run(b,function(b){c&&h(f.grep(b.childNodes),function(b){a.appendChild(b)});return b.parentNode.replaceChild(a,b)})},rename:function(a,b){var c=this,
g;a.nodeName!=b.toUpperCase()&&(g=c.create(b),h(c.getAttribs(a),function(b){c.setAttrib(g,b.nodeName,c.getAttrib(a,b.nodeName))}),c.replace(g,a,1));return g||a},findCommonAncestor:function(a,b){for(var c=a,g;c;){for(g=b;g&&c!=g;)g=g.parentNode;if(c==g)break;c=c.parentNode}return!c&&a.ownerDocument?a.ownerDocument.documentElement:c},toHex:function(a){function b(a){a=parseInt(a).toString(16);return 1<a.length?a:"0"+a}var c=/^\s*rgb\s*?\(\s*?([0-9]+)\s*?,\s*?([0-9]+)\s*?,\s*?([0-9]+)\s*?\)\s*$/i.exec(a);
c&&(a="#"+b(c[1])+b(c[2])+b(c[3]));return a},getClasses:function(){function a(d){h(d.imports,function(b){a(b)});h(d.cssRules||d.rules,function(d){switch(d.type||1){case 1:d.selectorText&&h(d.selectorText.split(","),function(a){a=a.replace(/^\s*|\s*$|^\s\./g,"");if(!/\.mce/.test(a)&&/\.[\w\-]+$/.test(a)&&(e=a,a=f._replace(/.*\.([a-z0-9_\-]+).*/i,"$1",a),(!g||(a=g(a,e)))&&!c[a]))b.push({"class":a}),c[a]=1});break;case 3:a(d.styleSheet)}})}var b=[],c={},g=this.settings.class_filter,e;if(this.classes)return this.classes;
try{h(this.doc.styleSheets,a)}catch(d){}0<b.length&&(this.classes=b);return b},run:function(a,b,c){var g=this,e;g.doc&&"string"===typeof a&&(a=g.get(a));if(!a)return!1;c=c||this;return!a.nodeType&&(a.length||0===a.length)?(e=[],h(a,function(a,d){a&&("string"==typeof a&&(a=g.doc.getElementById(a)),e.push(b.call(c,a,d)))}),e):b.call(c,a)},getAttribs:function(a){var c;a=this.get(a);if(!a)return[];if(b){c=[];if("OBJECT"==a.nodeName)return a.attributes;"OPTION"===a.nodeName&&this.getAttrib(a,"selected")&&
c.push({specified:1,nodeName:"selected"});a.cloneNode(!1).outerHTML.replace(/<\/?[\w:\-]+ ?|=[\"][^\"]+\"|=\'[^\']+\'|=[\w\-]+|>/gi,"").replace(/[\w:\-]+/gi,function(a){c.push({specified:1,nodeName:a})});return c}return a.attributes},isEmpty:function(a,b){var c,g,e,d;if(a=a.firstChild){e=new f.dom.TreeWalker(a);b=b||this.schema?this.schema.getNonEmptyElements():null;do{g=a.nodeType;if(1===g){if(a.getAttribute("data-mce-bogus"))continue;d=a.nodeName.toLowerCase();if(b&&b[d]){c=a.parentNode;if("br"===
d&&this.isBlock(c)&&c.firstChild===a&&c.lastChild===a)continue;return!1}this.getAttribs(a);for(c=a.attributes.length;c--;)if(d=a.attributes[c].nodeName,"name"===d||"data-mce-bookmark"===d)return!1}if(3===g&&!n.test(a.nodeValue))return!1}while(a=e.next())}return!0},destroy:function(a){this.events&&this.events.destroy();this.win=this.doc=this.root=this.events=null;a||f.removeUnload(this.destroy)},createRng:function(){var a=this.doc;return a.createRange?a.createRange():new f.dom.Range(this)},nodeIndex:function(a,
b){var c=0,g,e;if(a){g=a.nodeType;for(a=a.previousSibling;a;a=a.previousSibling)if(e=a.nodeType,!(b&&3==e)||e!=g&&a.nodeValue.length)c++,g=e}return c},split:function(a,b,c){function g(a){var b,c=a.childNodes,d=a.nodeType;if(!(1==d&&"bookmark"==a.getAttribute("data-mce-type"))){for(b=c.length-1;0<=b;b--)g(c[b]);if(9!=d){if(3==d&&0<a.nodeValue.length){if(!e.isBlock(a.parentNode)||0<f.trim(a.nodeValue).length)return}else if(1==d&&(c=a.childNodes,1==c.length&&(c[0]&&1==c[0].nodeType&&"bookmark"==c[0].getAttribute("data-mce-type"))&&
a.parentNode.insertBefore(c[0],a),c.length||/^(br|hr|input|img)$/i.test(a.nodeName)))return;e.remove(a)}return a}}var e=this,d=e.createRng(),n,m;if(a&&b)return d.setStart(a.parentNode,e.nodeIndex(a)),d.setEnd(b.parentNode,e.nodeIndex(b)),n=d.extractContents(),d=e.createRng(),d.setStart(b.parentNode,e.nodeIndex(b)+1),d.setEnd(a.parentNode,e.nodeIndex(a)+1),d=d.extractContents(),m=a.parentNode,m.insertBefore(g(n),a),c?m.replaceChild(c,b):m.insertBefore(b,a),m.insertBefore(g(d),a),e.remove(a),c||b},
bind:function(a,b,c,g){this.events||(this.events=new f.dom.EventUtils);return this.events.add(a,b,c,g||this)},unbind:function(a,b,c){this.events||(this.events=new f.dom.EventUtils);return this.events.remove(a,b,c)},_findSib:function(a,b,c){var g=this,e=b;if(a){j(e,"string")&&(e=function(a){return g.is(a,b)});for(a=a[c];a;a=a[c])if(e(a))return a}return null},_isRes:function(a){return/^(top|left|bottom|right|width|height)/i.test(a)||/;\s*(top|left|bottom|right|width|height)/i.test(a)}});f.DOM=new f.dom.DOMUtils(document,
{process_html:0})})(tinymce);
(function(f){function h(f){function d(a,b){p(v,a,b)}function b(a,b){p(B,a,b)}function a(a){d(a.parentNode,K(a))}function e(a){b(a.parentNode,K(a)+1)}function c(a,b){var c;if(3==a.nodeType||0>b)return a;for(c=a.firstChild;c&&0<b;)--b,c=c.nextSibling;return c?c:a}function n(a,b,c,g){var e,k;if(a==c)return b==g?0:b<g?-1:1;for(e=c;e&&e.parentNode!=a;)e=e.parentNode;if(e){k=0;for(c=a.firstChild;c!=e&&k<b;)k++,c=c.nextSibling;return b<=k?-1:1}for(e=a;e&&e.parentNode!=c;)e=e.parentNode;if(e){k=0;for(c=c.firstChild;c!=
e&&k<g;)k++,c=c.nextSibling;return k<g?-1:1}for(b=f.findCommonAncestor(a,c);a&&a.parentNode!=b;)a=a.parentNode;a||(a=b);for(g=c;g&&g.parentNode!=b;)g=g.parentNode;g||(g=b);if(a==g)return 0;for(c=b.firstChild;c;){if(c==a)return-1;if(c==g)return 1;c=c.nextSibling}}function p(a,b,c){a?(m[y]=b,m[z]=c):(m[s]=b,m[A]=c);for(b=m[s];b.parentNode;)b=b.parentNode;for(c=m[y];c.parentNode;)c=c.parentNode;c==b?0<n(m[y],m[z],m[s],m[A])&&m.collapse(a):m.collapse(a);m.collapsed=m[y]==m[s]&&m[z]==m[A];m.commonAncestorContainer=
f.findCommonAncestor(m[y],m[s])}function l(a){var b,c=0,e=0,d;if(m[y]==m[s])return q(a);b=m[s];for(d=b.parentNode;d;b=d,d=d.parentNode){if(d==m[y]){var f=b;d=e=c=c=d=b=void 0;a!=C&&(b=t.createDocumentFragment());d=g(f,a);b&&b.appendChild(d);c=K(f);c-=m[z];if(!(0>=c))for(d=f.previousSibling;0<c;)e=d.previousSibling,d=u(d,a),b&&b.insertBefore(d,b.firstChild),--c,d=e;a!=x&&(m.setEndBefore(f),m.collapse(B));a=b;return a}++c}b=m[y];for(d=b.parentNode;d;b=d,d=d.parentNode){if(d==m[s]){f=b;d=e=c=d=c=b=void 0;
a!=C&&(b=t.createDocumentFragment());d=k(f,a);b&&b.appendChild(d);c=K(f);++c;c=m[A]-c;for(d=f.nextSibling;0<c;)e=d.nextSibling,d=u(d,a),b&&b.appendChild(d),--c,d=e;a!=x&&(m.setStartAfter(f),m.collapse(v));return b}++e}e-=c;for(b=m[y];0<e;)b=b.parentNode,e--;for(c=m[s];0>e;)c=c.parentNode,e++;e=b.parentNode;for(d=c.parentNode;e!=d;e=e.parentNode,d=d.parentNode)b=e,c=d;var n;a!=C&&(f=t.createDocumentFragment());n=k(b,a);f&&f.appendChild(n);e=K(b);d=K(c);++e;e=d-e;for(n=b.nextSibling;0<e;)d=n.nextSibling,
n=u(n,a),f&&f.appendChild(n),n=d,--e;n=g(c,a);f&&f.appendChild(n);a!=x&&(m.setStartAfter(b),m.collapse(v));return f}function q(a){var b,g,e,k;a!=C&&(b=t.createDocumentFragment());if(m[z]==m[A])return b;if(3==m[y].nodeType){g=m[y].nodeValue;g=g.substring(m[z],m[A]);a!=x&&(m[y].deleteData(m[z],m[A]-m[z]),m.collapse(v));if(a==C)return;b.appendChild(t.createTextNode(g));return b}e=c(m[y],m[z]);for(g=m[A]-m[z];0<g;)k=e.nextSibling,e=u(e,a),b&&b.appendChild(e),--g,e=k;a!=x&&m.collapse(v);return b}function g(a,
b){var g=c(m[s],m[A]-1),e,k,d,f=g!=m[s];if(g==a)return r(g,f,B,b);e=g.parentNode;for(k=r(e,B,B,b);e;){for(;g;)d=g.previousSibling,g=r(g,f,B,b),b!=C&&k.insertBefore(g,k.firstChild),f=v,g=d;if(e==a)return k;g=e.previousSibling;e=e.parentNode;d=r(e,B,B,b);b!=C&&d.appendChild(k);k=d}}function k(a,b){var g=c(m[y],m[z]),e=g!=m[y],k,d,f;if(g==a)return r(g,e,v,b);k=g.parentNode;for(d=r(k,B,v,b);k;){for(;g;)f=g.nextSibling,g=r(g,e,v,b),b!=C&&d.appendChild(g),e=v,g=f;if(k==a)return d;g=k.nextSibling;k=k.parentNode;
f=r(k,B,v,b);b!=C&&f.appendChild(d);d=f}}function r(a,b,c,g){var e;if(b)return u(a,g);if(3==a.nodeType){b=a.nodeValue;c?(e=m[z],c=b.substring(e),b=b.substring(0,e)):(e=m[A],c=b.substring(0,e),b=b.substring(e));g!=x&&(a.nodeValue=b);if(g==C)return;a=a.cloneNode(B);a.nodeValue=c;return a}if(g!=C)return a.cloneNode(B)}function u(a,b){if(b!=C)return b==x?a.cloneNode(v):a;a.parentNode.removeChild(a)}var m=this,t=f.doc,x=1,C=2,v=!0,B=!1,z="startOffset",y="startContainer",s="endContainer",A="endOffset",
L=tinymce.extend,K=f.nodeIndex;L(m,{startContainer:t,startOffset:0,endContainer:t,endOffset:0,collapsed:v,commonAncestorContainer:t,START_TO_START:0,START_TO_END:1,END_TO_END:2,END_TO_START:3,setStart:d,setEnd:b,setStartBefore:a,setStartAfter:function(a){d(a.parentNode,K(a)+1)},setEndBefore:function(a){b(a.parentNode,K(a))},setEndAfter:e,collapse:function(a){a?(m[s]=m[y],m[A]=m[z]):(m[y]=m[s],m[z]=m[A]);m.collapsed=v},selectNode:function(b){a(b);e(b)},selectNodeContents:function(a){d(a,0);b(a,1===
a.nodeType?a.childNodes.length:a.nodeValue.length)},compareBoundaryPoints:function(a,b){var c=m[y],g=m[z],e=m[s],k=m[A],d=b.startContainer,f=b.startOffset,j=b.endContainer,l=b.endOffset;if(0===a)return n(c,g,d,f);if(1===a)return n(e,k,d,f);if(2===a)return n(e,k,j,l);if(3===a)return n(c,g,j,l)},deleteContents:function(){l(C)},extractContents:function(){return l(0)},cloneContents:function(){return l(x)},insertNode:function(a){var b=this[y],c=this[z],g;(3===b.nodeType||4===b.nodeType)&&b.nodeValue?c?
c>=b.nodeValue.length?f.insertAfter(a,b):(c=b.splitText(c),b.parentNode.insertBefore(a,c)):b.parentNode.insertBefore(a,b):(0<b.childNodes.length&&(g=b.childNodes[c]),g?b.insertBefore(a,g):b.appendChild(a))},surroundContents:function(a){var b=m.extractContents();m.insertNode(a);a.appendChild(b);m.selectNode(a)},cloneRange:function(){return L(new h(f),{startContainer:m[y],startOffset:m[z],endContainer:m[s],endOffset:m[A],collapsed:m.collapsed,commonAncestorContainer:m.commonAncestorContainer})}})}f.Range=
h})(tinymce.dom);
(function(){tinymce.dom.TridentSelection=function(f){function h(a,b){var c,d=0,j,l,h,g,k,r,u=-1,m;c=a.duplicate();c.collapse(b);m=c.parentElement();if(m.ownerDocument===f.dom.doc){for(;"false"===m.contentEditable;)m=m.parentNode;if(!m.hasChildNodes())return{node:m,inside:1};h=m.children;for(j=h.length-1;d<=j;)if(r=Math.floor((d+j)/2),g=h[r],c.moveToElementText(g),u=c.compareEndPoints(b?"StartToStart":"EndToEnd",a),0<u)j=r-1;else if(0>u)d=r+1;else return{node:g};if(0>u){g?c.collapse(!1):(c.moveToElementText(m),
c.collapse(!0),g=m,l=!0);c.setEndPoint(b?"EndToStart":"EndToEnd",a);if(0<c.compareEndPoints(b?"StartToStart":"StartToEnd",a)){c=a.duplicate();c.collapse(b);for(k=-1;m==c.parentElement()&&0!=c.move("character",-1);)k++}k=k||c.text.replace("\r\n"," ").length}else c.collapse(!0),c.setEndPoint(b?"StartToStart":"StartToEnd",a),k=c.text.replace("\r\n"," ").length;return{node:g,position:u,offset:k,inside:l}}}var j=this,d=f.dom,b=!0;this.getBookmark=function(a){function b(a){var c,g,e,f,n=[];c=a.parentNode;
for(g=d.getRoot().parentNode;c!=g&&9!==c.nodeType;){e=c.children;for(f=e.length;f--;)if(a===e[f]){n.push(f);break}a=c;c=c.parentNode}return n}function c(a){if(a=h(n,a))return{position:a.position,offset:a.offset,indexes:b(a.node),inside:a.inside}}var n=f.getRng(),j={};2===a&&(n.item?j.start={ctrl:!0,indexes:b(n.item(0))}:(j.start=c(!0),f.isCollapsed()||(j.end=c())));return j};this.moveToBookmark=function(a){function b(a){var c,g,e,f;c=d.getRoot();for(g=a.length-1;0<=g;g--)f=c.children,e=a[g],e<=f.length-
1&&(c=f[e]);return c}function c(c){var d=a[c?"start":"end"],g,k;d&&(g=0<d.position,k=j.createTextRange(),k.moveToElementText(b(d.indexes)),offset=d.offset,void 0!==offset?(k.collapse(d.inside||g),k.moveStart("character",g?-offset:offset)):k.collapse(c),f.setEndPoint(c?"StartToStart":"EndToStart",k),c&&f.collapse(!0))}var f,j=d.doc.body;a.start&&(a.start.ctrl?(f=j.createControlRange(),f.addElement(b(a.start.indexes))):(f=j.createTextRange(),c(!0),c()),f.select())};this.addRange=function(a){function e(a){var e,
f,n,v,u;n=d.create("a");e=a?j:q;f=a?h:g;v=c.duplicate();if(e==k||e==k.documentElement)e=r,f=0;3==e.nodeType?(e.parentNode.insertBefore(n,e),v.moveToElementText(n),v.moveStart("character",f),d.remove(n),c.setEndPoint(a?"StartToStart":"EndToEnd",v)):(u=e.childNodes,u.length?(f>=u.length?d.insertAfter(n,u[u.length-1]):e.insertBefore(n,u[f]),v.moveToElementText(n)):(n=k.createTextNode("\ufeff"),e.appendChild(n),v.moveToElementText(n.parentNode),v.collapse(b)),c.setEndPoint(a?"StartToStart":"EndToEnd",
v),d.remove(n))}var c,n,j,h,q,g,k=f.dom.doc,r=k.body;j=a.startContainer;h=a.startOffset;q=a.endContainer;g=a.endOffset;c=r.createTextRange();if(j==q&&(1==j.nodeType&&h==g-1)&&h==g-1)try{n=r.createControlRange();n.addElement(j.childNodes[h]);n.select();return}catch(u){}e(!0);e();c.select()};this.getRangeAt=function(){function a(a){var g=h(b,a),d,f,n=0,j;d=g.node;f=g.offset;if(g.inside&&!d.hasChildNodes())c[a?"setStart":"setEnd"](d,0);else if(void 0===f)c[a?"setStartBefore":"setEndAfter"](d);else{if(0>
g.position){g=g.inside?d.firstChild:d.nextSibling;if(!g){c[a?"setStartAfter":"setEndAfter"](d);return}if(!f){if(3==g.nodeType)c[a?"setStart":"setEnd"](g,0);else c[a?"setStartBefore":"setEndBefore"](g);return}for(;g;){j=g.nodeValue;n+=j.length;if(n>=f){d=g;n-=f;n=j.length-n;break}g=g.nextSibling}}else{g=d.previousSibling;if(!g)return c[a?"setStartBefore":"setEndBefore"](d);if(!f){if(3==d.nodeType)c[a?"setStart":"setEnd"](g,d.nodeValue.length);else c[a?"setStartAfter":"setEndAfter"](g);return}for(;g;){n+=
g.nodeValue.length;if(n>=f){d=g;n-=f;break}g=g.previousSibling}}c[a?"setStart":"setEnd"](d,n)}}var b=f.getRng(),c=d.createRng(),n,p,l,q;n=b.item?b.item(0):b.parentElement();if(n.ownerDocument!=d.doc)return c;p=f.isCollapsed();if(b.item)return c.setStart(n.parentNode,d.nodeIndex(n)),c.setEnd(c.startContainer,c.startOffset+1),c;try{a(!0),p||a()}catch(g){if(-2147024809==g.number)q=j.getBookmark(2),l=b.duplicate(),l.collapse(!0),n=l.parentElement(),p||(l=b.duplicate(),l.collapse(!1),l=l.parentElement(),
l.innerHTML=l.innerHTML),n.innerHTML=n.innerHTML,j.moveToBookmark(q),b=f.getRng(),a(!0),p||a();else throw g;}return c}}})();
(function(){function f(a,b,c,g,e,d){e=0;for(var k=g.length;e<k;e++){var f=g[e];if(f){for(var f=f[a],m=!1;f;){if(f.sizcache===c){m=g[f.sizset];break}1===f.nodeType&&!d&&(f.sizcache=c,f.sizset=e);if(f.nodeName.toLowerCase()===b){m=f;break}f=f[a]}g[e]=m}}}function h(a,b,g,e,d,k){d=0;for(var f=e.length;d<f;d++){var m=e[d];if(m){for(var m=m[a],n=!1;m;){if(m.sizcache===g){n=e[m.sizset];break}if(1===m.nodeType)if(k||(m.sizcache=g,m.sizset=d),"string"!==typeof b){if(m===b){n=!0;break}}else if(0<c.filter(b,
[m]).length){n=m;break}m=m[a]}e[d]=n}}}var j=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,d=0,b=Object.prototype.toString,a=!1,e=!0;[0,0].sort(function(){e=!1;return 0});var c=function(a,e,d,k){d=d||[];var f=e=e||document;if(1!==e.nodeType&&9!==e.nodeType)return[];if(!a||"string"!==typeof a)return d;var m=[],h,l,t,r,u=!0,q=c.isXML(e),G=a,O;do if(j.exec(""),h=j.exec(G))if(G=h[3],m.push(h[1]),h[2]){r=h[3];break}while(h);
if(1<m.length&&p.exec(a))if(2===m.length&&n.relative[m[0]])l=x(m[0]+m[1],e);else for(l=n.relative[m[0]]?[e]:c(m.shift(),e);m.length;)a=m.shift(),n.relative[a]&&(a+=m.shift()),l=x(a,l);else if(!k&&(1<m.length&&9===e.nodeType&&!q&&n.match.ID.test(m[0])&&!n.match.ID.test(m[m.length-1]))&&(h=c.find(m.shift(),e,q),e=h.expr?c.filter(h.expr,h.set)[0]:h.set[0]),e){h=k?{expr:m.pop(),set:g(k)}:c.find(m.pop(),1===m.length&&("~"===m[0]||"+"===m[0])&&e.parentNode?e.parentNode:e,q);l=h.expr?c.filter(h.expr,h.set):
h.set;for(0<m.length?t=g(l):u=!1;m.length;)h=O=m.pop(),n.relative[O]?h=m.pop():O="",null==h&&(h=e),n.relative[O](t,h,q)}else t=[];t||(t=l);t||c.error(O||a);if("[object Array]"===b.call(t))if(u)if(e&&1===e.nodeType)for(a=0;null!=t[a];a++)t[a]&&(!0===t[a]||1===t[a].nodeType&&c.contains(e,t[a]))&&d.push(l[a]);else for(a=0;null!=t[a];a++)t[a]&&1===t[a].nodeType&&d.push(l[a]);else d.push.apply(d,t);else g(t,d);r&&(c(r,f,d,k),c.uniqueSort(d));return d};c.uniqueSort=function(b){if(r&&(a=e,b.sort(r),a))for(var c=
1;c<b.length;c++)b[c]===b[c-1]&&b.splice(c--,1);return b};c.matches=function(a,b){return c(a,null,null,b)};c.find=function(a,b,c){var g;if(!a)return[];for(var e=0,d=n.order.length;e<d;e++){var k=n.order[e],f;if(f=n.leftMatch[k].exec(a)){var m=f[1];f.splice(1,1);if("\\"!==m.substr(m.length-1)&&(f[1]=(f[1]||"").replace(/\\/g,""),g=n.find[k](f,b,c),null!=g)){a=a.replace(n.match[k],"");break}}}g||(g=b.getElementsByTagName("*"));return{set:g,expr:a}};c.filter=function(a,b,g,e){for(var d=a,k=[],f=b,m,j,
h=b&&b[0]&&c.isXML(b[0]);a&&b.length;){for(var l in n.filter)if(null!=(m=n.leftMatch[l].exec(a))&&m[2]){var p=n.filter[l],t,r;r=m[1];j=!1;m.splice(1,1);if("\\"!==r.substr(r.length-1)){f===k&&(k=[]);if(n.preFilter[l])if(m=n.preFilter[l](m,f,g,k,e,h)){if(!0===m)continue}else j=t=!0;if(m)for(var x=0;null!=(r=f[x]);x++)if(r){t=p(r,m,x,f);var u=e^!!t;g&&null!=t?u?j=!0:f[x]=!1:u&&(k.push(r),j=!0)}if(void 0!==t){g||(f=k);a=a.replace(n.match[l],"");if(!j)return[];break}}}if(a===d)if(null==j)c.error(a);else break;
d=a}return f};c.error=function(a){throw"Syntax error, unrecognized expression: "+a;};var n=c.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(['"]*)(.*?)\3|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\((even|odd|[\dn+\-]*)\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,
PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(a){return a.getAttribute("href")}},relative:{"+":function(a,b){var g="string"===typeof b,e=g&&!/\W/.test(b),g=g&&!e;e&&(b=b.toLowerCase());for(var e=0,d=a.length,k;e<d;e++)if(k=a[e]){for(;(k=k.previousSibling)&&1!==k.nodeType;);a[e]=g||k&&k.nodeName.toLowerCase()===b?k||!1:k===b}g&&c.filter(b,a,!0)},">":function(a,b){var g="string"===
typeof b,e,d=0,k=a.length;if(g&&!/\W/.test(b))for(b=b.toLowerCase();d<k;d++){if(e=a[d])g=e.parentNode,a[d]=g.nodeName.toLowerCase()===b?g:!1}else{for(;d<k;d++)(e=a[d])&&(a[d]=g?e.parentNode:e.parentNode===b);g&&c.filter(b,a,!0)}},"":function(a,b,c){var g=d++,e=h,k;"string"===typeof b&&!/\W/.test(b)&&(k=b=b.toLowerCase(),e=f);e("parentNode",b,g,a,k,c)},"~":function(a,b,c){var g=d++,e=h,k;"string"===typeof b&&!/\W/.test(b)&&(k=b=b.toLowerCase(),e=f);e("previousSibling",b,g,a,k,c)}},find:{ID:function(a,
b,c){if("undefined"!==typeof b.getElementById&&!c)return(a=b.getElementById(a[1]))?[a]:[]},NAME:function(a,b){if("undefined"!==typeof b.getElementsByName){for(var c=[],g=b.getElementsByName(a[1]),e=0,d=g.length;e<d;e++)g[e].getAttribute("name")===a[1]&&c.push(g[e]);return 0===c.length?null:c}},TAG:function(a,b){return b.getElementsByTagName(a[1])}},preFilter:{CLASS:function(a,b,c,g,e,d){a=" "+a[1].replace(/\\/g,"")+" ";if(d)return a;d=0;for(var k;null!=(k=b[d]);d++)k&&(e^(k.className&&0<=(" "+k.className+
" ").replace(/[\t\n]/g," ").indexOf(a))?c||g.push(k):c&&(b[d]=!1));return!1},ID:function(a){return a[1].replace(/\\/g,"")},TAG:function(a){return a[1].toLowerCase()},CHILD:function(a){if("nth"===a[1]){var b=/(-?)(\d*)n((?:\+|-)?\d*)/.exec("even"===a[2]&&"2n"||"odd"===a[2]&&"2n+1"||!/\D/.test(a[2])&&"0n+"+a[2]||a[2]);a[2]=b[1]+(b[2]||1)-0;a[3]=b[3]-0}a[0]=d++;return a},ATTR:function(a,b,c,g,e,d){b=a[1].replace(/\\/g,"");!d&&n.attrMap[b]&&(a[1]=n.attrMap[b]);"~="===a[2]&&(a[4]=" "+a[4]+" ");return a},
PSEUDO:function(a,b,g,e,d){if("not"===a[1])if(1<(j.exec(a[3])||"").length||/^\w/.test(a[3]))a[3]=c(a[3],null,null,b);else return a=c.filter(a[3],b,g,1^d),g||e.push.apply(e,a),!1;else if(n.match.POS.test(a[0])||n.match.CHILD.test(a[0]))return!0;return a},POS:function(a){a.unshift(!0);return a}},filters:{enabled:function(a){return!1===a.disabled&&"hidden"!==a.type},disabled:function(a){return!0===a.disabled},checked:function(a){return!0===a.checked},selected:function(a){a.parentNode.selectedIndex;return!0===
a.selected},parent:function(a){return!!a.firstChild},empty:function(a){return!a.firstChild},has:function(a,b,g){return!!c(g[3],a).length},header:function(a){return/h\d/i.test(a.nodeName)},text:function(a){return"text"===a.type},radio:function(a){return"radio"===a.type},checkbox:function(a){return"checkbox"===a.type},file:function(a){return"file"===a.type},password:function(a){return"password"===a.type},submit:function(a){return"submit"===a.type},image:function(a){return"image"===a.type},reset:function(a){return"reset"===
a.type},button:function(a){return"button"===a.type||"button"===a.nodeName.toLowerCase()},input:function(a){return/input|select|textarea|button/i.test(a.nodeName)}},setFilters:{first:function(a,b){return 0===b},last:function(a,b,c,g){return b===g.length-1},even:function(a,b){return 0===b%2},odd:function(a,b){return 1===b%2},lt:function(a,b,c){return b<c[3]-0},gt:function(a,b,c){return b>c[3]-0},nth:function(a,b,c){return c[3]-0===b},eq:function(a,b,c){return c[3]-0===b}},filter:{PSEUDO:function(a,
b,g,e){var d=b[1],k=n.filters[d];if(k)return k(a,g,b,e);if("contains"===d)return 0<=(a.textContent||a.innerText||c.getText([a])||"").indexOf(b[3]);if("not"===d){b=b[3];g=0;for(e=b.length;g<e;g++)if(b[g]===a)return!1;return!0}c.error("Syntax error, unrecognized expression: "+d)},CHILD:function(a,b){var c=b[1],g=a;switch(c){case "only":case "first":for(;g=g.previousSibling;)if(1===g.nodeType)return!1;if("first"===c)return!0;g=a;case "last":for(;g=g.nextSibling;)if(1===g.nodeType)return!1;return!0;case "nth":var c=
b[2],e=b[3];if(1===c&&0===e)return!0;var d=b[0],k=a.parentNode;if(k&&(k.sizcache!==d||!a.nodeIndex)){for(var f=0,g=k.firstChild;g;g=g.nextSibling)1===g.nodeType&&(g.nodeIndex=++f);k.sizcache=d}g=a.nodeIndex-e;return 0===c?0===g:0===g%c&&0<=g/c}},ID:function(a,b){return 1===a.nodeType&&a.getAttribute("id")===b},TAG:function(a,b){return"*"===b&&1===a.nodeType||a.nodeName.toLowerCase()===b},CLASS:function(a,b){return-1<(" "+(a.className||a.getAttribute("class"))+" ").indexOf(b)},ATTR:function(a,b){var c=
b[1],c=n.attrHandle[c]?n.attrHandle[c](a):null!=a[c]?a[c]:a.getAttribute(c),g=c+"",e=b[2],d=b[4];return null==c?"!="===e:"="===e?g===d:"*="===e?0<=g.indexOf(d):"~="===e?0<=(" "+g+" ").indexOf(d):!d?g&&!1!==c:"!="===e?g!==d:"^="===e?0===g.indexOf(d):"$="===e?g.substr(g.length-d.length)===d:"|="===e?g===d||g.substr(0,d.length+1)===d+"-":!1},POS:function(a,b,c,g){var e=n.setFilters[b[2]];if(e)return e(a,c,b,g)}}},p=n.match.POS,l=function(a,b){return"\\"+(b-0+1)},q;for(q in n.match)n.match[q]=RegExp(n.match[q].source+
/(?![^\[]*\])(?![^\(]*\))/.source),n.leftMatch[q]=RegExp(/(^(?:.|\r|\n)*?)/.source+n.match[q].source.replace(/\\(\d+)/g,l));var g=function(a,b){a=Array.prototype.slice.call(a,0);return b?(b.push.apply(b,a),b):a};try{Array.prototype.slice.call(document.documentElement.childNodes,0)[0].nodeType}catch(k){g=function(a,c){var g=c||[],e=0;if("[object Array]"===b.call(a))Array.prototype.push.apply(g,a);else if("number"===typeof a.length)for(var d=a.length;e<d;e++)g.push(a[e]);else for(;a[e];e++)g.push(a[e]);
return g}}var r;document.documentElement.compareDocumentPosition?r=function(b,c){if(!b.compareDocumentPosition||!c.compareDocumentPosition)return b==c&&(a=!0),b.compareDocumentPosition?-1:1;var g=b.compareDocumentPosition(c)&4?-1:b===c?0:1;0===g&&(a=!0);return g}:"sourceIndex"in document.documentElement?r=function(b,c){if(!b.sourceIndex||!c.sourceIndex)return b==c&&(a=!0),b.sourceIndex?-1:1;var g=b.sourceIndex-c.sourceIndex;0===g&&(a=!0);return g}:document.createRange&&(r=function(b,c){if(!b.ownerDocument||
!c.ownerDocument)return b==c&&(a=!0),b.ownerDocument?-1:1;var g=b.ownerDocument.createRange(),e=c.ownerDocument.createRange();g.setStart(b,0);g.setEnd(b,0);e.setStart(c,0);e.setEnd(c,0);g=g.compareBoundaryPoints(Range.START_TO_END,e);0===g&&(a=!0);return g});c.getText=function(a){for(var b="",g,e=0;a[e];e++)g=a[e],3===g.nodeType||4===g.nodeType?b+=g.nodeValue:8!==g.nodeType&&(b+=c.getText(g.childNodes));return b};l=document.createElement("div");q="script"+(new Date).getTime();l.innerHTML="<a name='"+
q+"'/>";var u=document.documentElement;u.insertBefore(l,u.firstChild);document.getElementById(q)&&(n.find.ID=function(a,b,c){if("undefined"!==typeof b.getElementById&&!c)return(b=b.getElementById(a[1]))?b.id===a[1]||"undefined"!==typeof b.getAttributeNode&&b.getAttributeNode("id").nodeValue===a[1]?[b]:void 0:[]},n.filter.ID=function(a,b){var c="undefined"!==typeof a.getAttributeNode&&a.getAttributeNode("id");return 1===a.nodeType&&c&&c.nodeValue===b});u.removeChild(l);u=l=null;l=document.createElement("div");
l.appendChild(document.createComment(""));0<l.getElementsByTagName("*").length&&(n.find.TAG=function(a,b){var c=b.getElementsByTagName(a[1]);if("*"===a[1]){for(var g=[],e=0;c[e];e++)1===c[e].nodeType&&g.push(c[e]);c=g}return c});l.innerHTML="<a href='#'></a>";l.firstChild&&("undefined"!==typeof l.firstChild.getAttribute&&"#"!==l.firstChild.getAttribute("href"))&&(n.attrHandle.href=function(a){return a.getAttribute("href",2)});l=null;if(document.querySelectorAll){var m=c,l=document.createElement("div");
l.innerHTML="<p class='TEST'></p>";if(!(l.querySelectorAll&&0===l.querySelectorAll(".TEST").length)){var c=function(a,b,e,d){b=b||document;if(!d&&9===b.nodeType&&!c.isXML(b))try{return g(b.querySelectorAll(a),e)}catch(k){}return m(a,b,e,d)},t;for(t in m)c[t]=m[t];l=null}}t=document.createElement("div");t.innerHTML="<div class='test e'></div><div class='test'></div>";t.getElementsByClassName&&0!==t.getElementsByClassName("e").length&&(t.lastChild.className="e",1!==t.getElementsByClassName("e").length&&
(n.order.splice(1,0,"CLASS"),n.find.CLASS=function(a,b,c){if("undefined"!==typeof b.getElementsByClassName&&!c)return b.getElementsByClassName(a[1])},t=null));c.contains=document.compareDocumentPosition?function(a,b){return!!(a.compareDocumentPosition(b)&16)}:function(a,b){return a!==b&&(a.contains?a.contains(b):!0)};c.isXML=function(a){return(a=(a?a.ownerDocument||a:0).documentElement)?"HTML"!==a.nodeName:!1};var x=function(a,b){for(var g=[],e="",d,k=b.nodeType?[b]:b;d=n.match.PSEUDO.exec(a);)e+=
d[0],a=a.replace(n.match.PSEUDO,"");a=n.relative[a]?a+"*":a;d=0;for(var f=k.length;d<f;d++)c(a,k[d],g);return c.filter(e,g)};window.tinymce.dom.Sizzle=c})();
(function(f){var h=f.each,j=f.DOM,d=f.isIE,b;f.create("tinymce.dom.EventUtils",{EventUtils:function(){this.inits=[];this.events=[]},add:function(a,b,c,n){var p,l=this,q=l.events,g;if(b instanceof Array)return g=[],h(b,function(b){g.push(l.add(a,b,c,n))}),g;if(a&&a.hasOwnProperty&&a instanceof Array)return g=[],h(a,function(a){a=j.get(a);g.push(l.add(a,b,c,n))}),g;if(a=j.get(a)){p=function(a){if(!l.disabled){if((a=a||window.event)&&d)a.target||(a.target=a.srcElement),f.extend(a,l._stoppers);return!n?
c(a):c.call(n,a)}};if("unload"==b)return f.unloads.unshift({func:p}),p;if("init"==b)return l.domLoaded?p():l.inits.push(p),p;q.push({obj:a,name:b,func:c,cfunc:p,scope:n});l._add(a,b,p);return c}},remove:function(a,b,c){var d=this,f=d.events,l=!1,q;if(a&&a.hasOwnProperty&&a instanceof Array)return q=[],h(a,function(a){a=j.get(a);q.push(d.remove(a,b,c))}),q;a=j.get(a);h(f,function(g,k){if(g.obj==a&&g.name==b&&(!c||g.func==c||g.cfunc==c))return f.splice(k,1),d._remove(a,b,g.cfunc),l=!0,!1});return l},
clear:function(a){var b=this.events,c,d;if(a){a=j.get(a);for(c=b.length-1;0<=c;c--)d=b[c],d.obj===a&&(this._remove(d.obj,d.name,d.cfunc),d.obj=d.cfunc=null,b.splice(c,1))}},cancel:function(a){if(!a)return!1;this.stop(a);return this.prevent(a)},stop:function(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0;return!1},prevent:function(a){a.preventDefault?a.preventDefault():a.returnValue=!1;return!1},destroy:function(){var a=this;h(a.events,function(b){a._remove(b.obj,b.name,b.cfunc);b.obj=
b.cfunc=null});a.events=[];a=null},_add:function(a,b,c){a.attachEvent?a.attachEvent("on"+b,c):a.addEventListener?a.addEventListener(b,c,!1):a["on"+b]=c},_remove:function(a,b,c){if(a)try{a.detachEvent?a.detachEvent("on"+b,c):a.removeEventListener?a.removeEventListener(b,c,!1):a["on"+b]=null}catch(d){}},_pageInit:function(){this.domLoaded||(this.domLoaded=!0,h(this.inits,function(a){a()}),this.inits=[])},_wait:function(a){var b=this,c=a.document;a.tinyMCE_GZ&&tinyMCE_GZ.loaded?b.domLoaded=1:(c.attachEvent?
(c.attachEvent("onreadystatechange",function(){"complete"===c.readyState&&(c.detachEvent("onreadystatechange",arguments.callee),b._pageInit(a))}),c.documentElement.doScroll&&a==a.top&&function(){if(!b.domLoaded){try{c.documentElement.doScroll("left")}catch(d){setTimeout(arguments.callee,0);return}b._pageInit(a)}}()):c.addEventListener&&b._add(a,"DOMContentLoaded",function(){b._pageInit(a)}),b._add(a,"load",function(){b._pageInit(a)}))},_stoppers:{preventDefault:function(){this.returnValue=!1},stopPropagation:function(){this.cancelBubble=
!0}}});b=f.dom.Event=new f.dom.EventUtils;b._wait(window);f.addUnload(function(){b.destroy()})})(tinymce);
(function(f){f.dom.Element=function(h,j){var d=this,b;d.settings=j=j||{};d.id=h;d.dom=b=j.dom||f.DOM;f.isIE||b.get(d.id);f.each("getPos,getRect,getParent,add,setStyle,getStyle,setStyles,setAttrib,setAttribs,getAttrib,addClass,removeClass,hasClass,getOuterHTML,setOuterHTML,remove,show,hide,isHidden,setHTML,get".split(/,/),function(a){d[a]=function(){var e=[h],c;for(c=0;c<arguments.length;c++)e.push(arguments[c]);e=b[a].apply(b,e);d.update(a);return e}});f.extend(d,{on:function(a,b,c){return f.dom.Event.add(d.id,
a,b,c)},getXY:function(){return{x:parseInt(d.getStyle("left")),y:parseInt(d.getStyle("top"))}},getSize:function(){var a=b.get(d.id);return{w:parseInt(d.getStyle("width")||a.clientWidth),h:parseInt(d.getStyle("height")||a.clientHeight)}},moveTo:function(a,b){d.setStyles({left:a,top:b})},moveBy:function(a,b){var c=d.getXY();d.moveTo(c.x+a,c.y+b)},resizeTo:function(a,b){d.setStyles({width:a,height:b})},resizeBy:function(a,b){var c=d.getSize();d.resizeTo(c.w+a,c.h+b)},update:function(a){f.isIE6&&j.blocker&&
(a=a||"",0===a.indexOf("get")||(0===a.indexOf("has")||0===a.indexOf("is"))||("remove"==a?b.remove(d.blocker):(d.blocker?a=b.get(d.blocker):(d.blocker=b.uniqueId(),a=b.add(j.container||b.getRoot(),"iframe",{id:d.blocker,style:"position:absolute;",frameBorder:0,src:'javascript:""'}),b.setStyle(a,"opacity",0)),b.setStyles(a,{left:d.getStyle("left",1),top:d.getStyle("top",1),width:d.getStyle("width",1),height:d.getStyle("height",1),display:d.getStyle("display",1),zIndex:parseInt(d.getStyle("zIndex",1)||
0)-1}))))}})}})(tinymce);
(function(f){var h=f.is,j=f.isIE,d=f.each;f.create("tinymce.dom.Selection",{Selection:function(b,a,e){var c=this;c.dom=b;c.win=a;c.serializer=e;d(["onBeforeSetContent","onBeforeGetContent","onSetContent","onGetContent"],function(a){c[a]=new f.util.Dispatcher(c)});c.win.getSelection||(c.tridentSel=new f.dom.TridentSelection(c));f.isIE&&b.boxModel&&this._fixIESelection();f.addUnload(c.destroy,c)},setCursorLocation:function(b,a){var e=this.dom.createRng();e.setStart(b,a);e.setEnd(b,a);this.setRng(e);
this.collapse(!1)},getContent:function(b){var a=this.getRng(),e=this.dom.create("body"),c=this.getSel(),d,f;b=b||{};d=f="";b.get=!0;b.format=b.format||"html";b.forced_root_block="";this.onBeforeGetContent.dispatch(this,b);if("text"==b.format)return this.isCollapsed()?"":a.text||(c.toString?c.toString():"");a.cloneContents?(a=a.cloneContents())&&e.appendChild(a):h(a.item)||h(a.htmlText)?(e.innerHTML="<br>"+(a.item?a.item(0).outerHTML:a.htmlText),e.removeChild(e.firstChild)):e.innerHTML=a.toString();
/^\s/.test(e.innerHTML)&&(d=" ");/\s+$/.test(e.innerHTML)&&(f=" ");b.getInner=!0;b.content=this.isCollapsed()?"":d+this.serializer.serialize(e,b)+f;this.onGetContent.dispatch(this,b);return b.content},setContent:function(b,a){var e=this.getRng(),c,d=this.win.document,f;a=a||{format:"html"};a.set=!0;a.content=b;a.no_events||this.onBeforeSetContent.dispatch(this,a);b=a.content;if(e.insertNode){b+='<span id="__caret">_</span>';e.startContainer==d&&e.endContainer==d?d.body.innerHTML=b:(e.deleteContents(),
0==d.body.childNodes.length?d.body.innerHTML=b:e.createContextualFragment?e.insertNode(e.createContextualFragment(b)):(c=d.createDocumentFragment(),f=d.createElement("div"),c.appendChild(f),f.outerHTML=b,e.insertNode(c)));c=this.dom.get("__caret");e=d.createRange();e.setStartBefore(c);e.setEndBefore(c);this.setRng(e);this.dom.remove("__caret");try{this.setRng(e)}catch(j){}}else e.item&&(d.execCommand("Delete",!1,null),e=this.getRng()),/^\s+/.test(b)?(e.pasteHTML('<span id="__mce_tmp">_</span>'+b),
this.dom.remove("__mce_tmp")):e.pasteHTML(b);a.no_events||this.onSetContent.dispatch(this,a)},getStart:function(){var b=this.getRng(),a,e;if(b.duplicate||b.item){if(b.item)return b.item(0);a=b.duplicate();a.collapse(1);a=a.parentElement();for(b=e=b.parentElement();e=e.parentNode;)if(e==a){a=b;break}return a}a=b.startContainer;1==a.nodeType&&a.hasChildNodes()&&(a=a.childNodes[Math.min(a.childNodes.length-1,b.startOffset)]);return a&&3==a.nodeType?a.parentNode:a},getEnd:function(){var b=this.getRng(),
a;if(b.duplicate||b.item){if(b.item)return b.item(0);b=b.duplicate();b.collapse(0);return(a=b.parentElement())&&"BODY"==a.nodeName?a.lastChild||a:a}a=b.endContainer;b=b.endOffset;1==a.nodeType&&a.hasChildNodes()&&(a=a.childNodes[0<b?b-1:b]);return a&&3==a.nodeType?a.parentNode:a},getBookmark:function(b,a){function e(a,b){var c=0;d(f.select(a),function(a,g){a==b&&(c=g)});return c}var c=this,f=c.dom,j,h,q,g,k;if(2==b){if(c.tridentSel)return c.tridentSel.getBookmark(b);j=function(b,g){var e=b[g?"startContainer":
"endContainer"],d=b[g?"startOffset":"endOffset"],k=[],f,j=0;if(3==e.nodeType){if(a)for(f=e.previousSibling;f&&3==f.nodeType;f=f.previousSibling)d+=f.nodeValue.length;k.push(d)}else f=e.childNodes,d>=f.length&&f.length&&(j=1,d=Math.max(0,f.length-1)),k.push(c.dom.nodeIndex(f[d],a)+j);for(;e&&e!=r;e=e.parentNode)k.push(c.dom.nodeIndex(e,a));return k};q=c.getRng(!0);var r=f.getRoot();g={};g.start=j(q,!0);c.isCollapsed()||(g.end=j(q));return g}if(b)return{rng:c.getRng()};j=c.getRng();q=f.uniqueId();g=
tinyMCE.activeEditor.selection.isCollapsed();if(j.duplicate||j.item){if(j.item)return k=j.item(0),h=k.nodeName,{name:h,index:e(h,k)};h=j.duplicate();try{j.collapse(),j.pasteHTML('<span data-mce-type="bookmark" id="'+q+'_start" style="overflow:hidden;line-height:0px">\ufeff</span>'),g||(h.collapse(!1),j.moveToElementText(h.parentElement()),0==j.compareEndPoints("StartToEnd",h)&&h.move("character",-1),h.pasteHTML('<span data-mce-type="bookmark" id="'+q+'_end" style="overflow:hidden;line-height:0px">\ufeff</span>'))}catch(u){return null}}else{k=
c.getNode();h=k.nodeName;if("IMG"==h)return{name:h,index:e(h,k)};h=j.cloneRange();g||(h.collapse(!1),h.insertNode(f.create("span",{"data-mce-type":"bookmark",id:q+"_end",style:"overflow:hidden;line-height:0px"},"\ufeff")));j.collapse(!0);j.insertNode(f.create("span",{"data-mce-type":"bookmark",id:q+"_start",style:"overflow:hidden;line-height:0px"},"\ufeff"))}c.moveToBookmark({id:q,keep:1});return{id:q}},moveToBookmark:function(b){var a=this.dom,e,c,h,p,l,q;if(b)if(b.start){e=a.createRng();c=a.getRoot();
var g=function(a){var g=b[a?"start":"end"],d,k,f;if(g){f=g[0];k=c;for(d=g.length-1;1<=d;d--){k=k.childNodes;if(g[d]>k.length-1)return;k=k[g[d]]}3===k.nodeType&&(f=Math.min(g[0],k.nodeValue.length));1===k.nodeType&&(f=Math.min(g[0],k.childNodes.length));a?e.setStart(k,f):e.setEnd(k,f)}return!0};if(this.tridentSel)return this.tridentSel.moveToBookmark(b);g(!0)&&g()&&this.setRng(e)}else if(b.id){var g=function(c){var g=a.get(b.id+"_"+c),e,k,j;j=b.keep;if(g&&(e=g.parentNode,"start"==c?(j?(e=g.firstChild,
k=1):k=a.nodeIndex(g),h=p=e,l=q=k):(j?(e=g.firstChild,k=1):k=a.nodeIndex(g),p=e,q=k),!j)){j=g.previousSibling;e=g.nextSibling;for(d(f.grep(g.childNodes),function(a){3==a.nodeType&&(a.nodeValue=a.nodeValue.replace(/\uFEFF/g,""))});g=a.get(b.id+"_"+c);)a.remove(g,1);j&&(e&&j.nodeType==e.nodeType&&3==j.nodeType&&!f.isOpera)&&(k=j.nodeValue.length,j.appendData(e.nodeValue),a.remove(e),"start"==c?(h=p=j,l=q=k):(p=j,q=k))}},k=function(b){a.isBlock(b)&&!b.innerHTML&&(b.innerHTML=!j?'<br data-mce-bogus="1" />':
" ");return b};g("start");g("end");h&&(e=a.createRng(),e.setStart(k(h),l),e.setEnd(k(p),q),this.setRng(e))}else b.name?this.select(a.select(b.name)[b.index]):b.rng&&this.setRng(b.rng)},select:function(b,a){var e=this.dom,c=e.createRng();b&&(e=e.nodeIndex(b),c.setStart(b.parentNode,e),c.setEnd(b.parentNode,e+1),a&&(e=function(a,b){var e=new f.dom.TreeWalker(a,a);do{if(3==a.nodeType&&0!=f.trim(a.nodeValue).length){b?c.setStart(a,0):c.setEnd(a,a.nodeValue.length);break}if("BR"==a.nodeName){b?c.setStartBefore(a):
c.setEndBefore(a);break}}while(a=b?e.next():e.prev())},e(b,1),e(b)),this.setRng(c));return b},isCollapsed:function(){var b=this.getRng(),a=this.getSel();return!b||b.item?!1:b.compareEndPoints?0===b.compareEndPoints("StartToEnd",b):!a||b.collapsed},collapse:function(b){var a=this.getRng(),e;a.item&&(e=a.item(0),a=this.win.document.body.createTextRange(),a.moveToElementText(e));a.collapse(!!b);this.setRng(a)},getSel:function(){var b=this.win;return b.getSelection?b.getSelection():b.document.selection},
getRng:function(b){var a,e,c=this.win.document;if(b&&this.tridentSel)return this.tridentSel.getRangeAt(0);try{if(a=this.getSel())e=0<a.rangeCount?a.getRangeAt(0):a.createRange?a.createRange():c.createRange()}catch(d){}f.isIE&&(e&&e.setStart&&c.selection.createRange().item)&&(b=c.selection.createRange().item(0),e=c.createRange(),e.setStartBefore(b),e.setEndAfter(b));e||(e=c.createRange?c.createRange():c.body.createTextRange());this.selectedRange&&this.explicitRange&&(0===e.compareBoundaryPoints(e.START_TO_START,
this.selectedRange)&&0===e.compareBoundaryPoints(e.END_TO_END,this.selectedRange)?e=this.explicitRange:this.explicitRange=this.selectedRange=null);return e},setRng:function(b){var a;if(this.tridentSel)if(b.cloneRange)this.tridentSel.addRange(b);else try{b.select()}catch(e){}else if(a=this.getSel()){this.explicitRange=b;try{a.removeAllRanges()}catch(c){}a.addRange(b);this.selectedRange=a.getRangeAt(0)}},setNode:function(b){this.setContent(this.dom.getOuterHTML(b));return b},getNode:function(){var b=
this.getRng();this.getSel();var a,e=b.startContainer,c=b.endContainer;if(!b)return this.dom.getRoot();if(b.setStart){a=b.commonAncestorContainer;if(!b.collapsed&&(b.startContainer==b.endContainer&&2>b.endOffset-b.startOffset&&b.startContainer.hasChildNodes()&&(a=b.startContainer.childNodes[b.startOffset]),3===e.nodeType&&3===c.nodeType)){var d=function(a,b){for(var c=a;a&&3===a.nodeType&&0===a.length;)a=b?a.nextSibling:a.previousSibling;return a||c},e=e.length===b.startOffset?d(e.nextSibling,!0):
e.parentNode,c=0===b.endOffset?d(c.previousSibling,!1):c.parentNode;if(e&&e===c)return e}return a&&3==a.nodeType?a.parentNode:a}return b.item?b.item(0):b.parentElement()},getSelectedBlocks:function(b,a){var e=this.dom,c,d,j,h=[];c=e.getParent(b||this.getStart(),e.isBlock);d=e.getParent(a||this.getEnd(),e.isBlock);c&&h.push(c);if(c&&d&&c!=d){j=c;for(var q=new f.dom.TreeWalker(c,e.getRoot());(j=q.next())&&j!=d;)e.isBlock(j)&&h.push(j)}d&&c!=d&&h.push(d);return h},normalize:function(){function b(b){var d,
j,h,g=a.dom;h=g.getRoot();var k;d=e[(b?"start":"end")+"Container"];j=e[(b?"start":"end")+"Offset"];9===d.nodeType&&(d=d.body,j=0);if(d===h&&d.hasChildNodes()&&(d=d.childNodes[Math.min(!b&&0<j?j-1:j,d.childNodes.length-1)],j=0,d.hasChildNodes())){k=d;h=new f.dom.TreeWalker(d,h);do{if(3===k.nodeType){j=b?0:k.nodeValue.length-1;d=k;break}if("BR"===k.nodeName){j=g.nodeIndex(k);d=k.parentNode;break}}while(k=b?h.next():h.prev());c=!0}if(c)e["set"+(b?"Start":"End")](d,j)}var a=this,e,c;f.isIE||(e=a.getRng(),
b(!0),e.collapsed&&b(),c&&a.setRng(e))},destroy:function(b){this.win=null;b||f.removeUnload(this.destroy)},_fixIESelection:function(){function b(a,b){var c=f.createTextRange();try{c.moveToPoint(a,b)}catch(g){c=null}return c}function a(a){if(a.button){if(a=b(a.x,a.y))0<a.compareEndPoints("StartToStart",h)?a.setEndPoint("StartToStart",h):a.setEndPoint("EndToEnd",h),a.select()}else e()}function e(){var b=d.selection.createRange();h&&(!b.item&&0===b.compareEndPoints("StartToEnd",b))&&h.select();c.unbind(d,
"mouseup",e);c.unbind(d,"mousemove",a);h=j=0}var c=this.dom,d=c.doc,f=d.body,j,h,g;d.documentElement.unselectable=!0;c.bind(d,["mousedown","contextmenu"],function(k){if("HTML"===k.target.nodeName&&(j&&e(),g=d.documentElement,!(g.scrollHeight>g.clientHeight)&&(j=1,h=b(k.x,k.y))))c.bind(d,"mouseup",e),c.bind(d,"mousemove",a),c.win.focus(),h.select()})}})})(tinymce);
(function(f){f.dom.Serializer=function(h,j,d){var b,a,e=f.isIE,c=f.each,n;h.apply_source_formatting||(h.indent=!1);h.remove_trailing_brs=!0;j=j||f.DOM;d=d||new f.html.Schema(h);h.entity_encoding=h.entity_encoding||"named";b=new f.util.Dispatcher(self);a=new f.util.Dispatcher(self);n=new f.html.DomParser(h,d);n.addAttributeFilter("src,href,style",function(a,b){for(var c=a.length,g,e,d="data-mce-"+b,f=h.url_converter,m=h.url_converter_scope;c--;)g=a[c],e=g.attributes.map[d],void 0!==e?(g.attr(b,0<e.length?
e:null),g.attr(d,null)):(e=g.attributes.map[b],"style"===b?e=j.serializeStyle(j.parseStyle(e),g.name):f&&(e=f.call(m,e,b,g.name)),g.attr(b,0<e.length?e:null))});n.addAttributeFilter("class",function(a){for(var b=a.length,c,g;b--;)c=a[b],g=c.attr("class").replace(/\s*mce(Item\w+|Selected)\s*/g,""),c.attr("class",0<g.length?g:null)});n.addAttributeFilter("data-mce-type",function(a,b,c){b=a.length;for(var g;b--;)g=a[b],"bookmark"===g.attributes.map["data-mce-type"]&&!c.cleanup&&g.remove()});n.addNodeFilter("script,style",
function(a,b){function c(a){return a.replace(/(\x3c!--\[CDATA\[|\]\]--\x3e)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*(\/\/\s*\x3c!--|\/\/\s*<!\[CDATA\[|\x3c!--|<!\[CDATA\[)[\r\n]*/g,"").replace(/\s*(\/\/\s*\]\]>|\/\/\s*--\x3e|\]\]>|--\x3e|\]\]--\x3e)\s*$/g,"")}for(var g=a.length,e,d;g--;)e=a[g],d=e.firstChild?e.firstChild.value:"","script"===b?(e.attr("type",(e.attr("type")||"text/javascript").replace(/^mce\-/,"")),0<d.length&&(e.firstChild.value="// <![CDATA[\n"+c(d)+"\n// ]]\x3e")):
0<d.length&&(e.firstChild.value="\x3c!--\n"+c(d)+"\n--\x3e")});n.addNodeFilter("#comment",function(a){for(var b=a.length,c;b--;)c=a[b],0===c.value.indexOf("[CDATA[")?(c.name="#cdata",c.type=4,c.value=c.value.replace(/^\[CDATA\[|\]\]$/g,"")):0===c.value.indexOf("mce:protected ")&&(c.name="#text",c.type=3,c.raw=!0,c.value=unescape(c.value).substr(14))});n.addNodeFilter("xml:namespace,input",function(a,b){for(var c=a.length,g;c--;)g=a[c],7===g.type?g.remove():1===g.type&&"input"===b&&!("type"in g.attributes.map)&&
g.attr("type","text")});h.fix_list_elements&&n.addNodeFilter("ul,ol",function(a){for(var b=a.length,c,g;b--;)c=a[b],g=c.parent,("ul"===g.name||"ol"===g.name)&&c.prev&&"li"===c.prev.name&&c.prev.append(c)});n.addNodeFilter("tr,th,td",function(a){for(var b=a.length;b--;){var c=a[b];"middle"===c.attr("align")&&c.attr("align","center");"center"===c.attr("valign")&&c.attr("valign","middle")}});n.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style",function(a,b){for(var c=a.length;c--;)a[c].attr(b,
null)});return{schema:d,addNodeFilter:n.addNodeFilter,addAttributeFilter:n.addAttributeFilter,onPreProcess:b,onPostProcess:a,serialize:function(p,l){var q,g,k;e&&0<j.select("script,style,select,map").length?(q=p.innerHTML,p=p.cloneNode(!1),j.setHTML(p,q)):p=p.cloneNode(!0);q=p.ownerDocument.implementation;q.createHTMLDocument&&(g=q.createHTMLDocument(""),c("BODY"==p.nodeName?p.childNodes:[p],function(a){g.body.appendChild(g.importNode(a,!0))}),p="BODY"!=p.nodeName?g.body.firstChild:g.body,k=j.doc,
j.doc=g);l=l||{};l.format=l.format||"html";l.no_events||(l.node=p,b.dispatch(self,l));q=new f.html.Serializer(h,d);l.content=q.serialize(n.parse(l.getInner?p.innerHTML:f.trim(j.getOuterHTML(p),l),l));l.cleanup||(l.content=l.content.replace(/\uFEFF|\u200B/g,""));l.no_events||a.dispatch(self,l);k&&(j.doc=k);l.node=null;return l.content},addRules:function(a){d.addValidElements(a)},setRules:function(a){d.setValidElements(a)}}}})(tinymce);
(function(f){f.dom.ScriptLoader=function(){var h={},j=[],d={},b=[],a=0;this.isDone=function(a){return 2==h[a]};this.markDone=function(a){h[a]=2};this.add=this.load=function(a,b,f){void 0==h[a]&&(j.push(a),h[a]=0);b&&(d[a]||(d[a]=[]),d[a].push({func:b,scope:f||this}))};this.loadQueue=function(a,b){this.loadScripts(j,a,b)};this.loadScripts=function(e,c,j){function p(a){f.each(d[a],function(a){a.func.call(a.scope)});d[a]=void 0}var l;b.push({func:c,scope:j||this});l=function(){var c=f.grep(e);e.length=
0;f.each(c,function(b){if(2==h[b])p(b);else if(1!=h[b]){h[b]=1;a++;a:{var c=function(){d.remove(q);m&&(m.onreadystatechange=m.onload=m=null);h[b]=2;a--;p(b);l()},e=function(){"undefined"!==typeof console&&console.log&&console.log("Failed to load: "+b)},d=f.DOM,m,j,n,q;q=d.uniqueId();if(f.isIE6&&(j=new f.util.URI(b),n=location,j.host==n.hostname&&j.port==n.port&&j.protocol+":"==n.protocol&&"file"!=j.protocol.toLowerCase())){f.util.XHR.send({url:f._addVer(j.getURI()),success:function(a){var b=d.create("script",
{type:"text/javascript"});b.text=a;document.getElementsByTagName("head")[0].appendChild(b);d.remove(b);c()},error:e});break a}m=d.create("script",{id:q,type:"text/javascript",src:f._addVer(b)});f.isIE||(m.onload=c);m.onerror=e;f.isOpera||(m.onreadystatechange=function(){var a=m.readyState;("complete"==a||"loaded"==a)&&c()});(document.getElementsByTagName("head")[0]||document.body).appendChild(m)}}});a||(f.each(b,function(a){a.func.call(a.scope)}),b.length=0)};l()}};f.ScriptLoader=new f.dom.ScriptLoader})(tinymce);
tinymce.dom.TreeWalker=function(f,h){function j(b,a,e,c){if(b){if(!c&&b[a])return b[a];if(b!=h){if(a=b[e])return a;for(b=b.parentNode;b&&b!=h;b=b.parentNode)if(a=b[e])return a}}}var d=f;this.current=function(){return d};this.next=function(b){return d=j(d,"firstChild","nextSibling",b)};this.prev=function(b){return d=j(d,"lastChild","previousSibling",b)}};
(function(f){f.dom.RangeUtils=function(h){this.walk=function(j,d){function b(a){var b;b=a[0];3===b.nodeType&&(b===n&&p>=b.nodeValue.length)&&a.splice(0,1);b=a[a.length-1];0===q&&(0<a.length&&b===l&&3===b.nodeType)&&a.splice(a.length-1,1);return a}function a(a,b,c){for(var g=[];a&&a!=c;a=a[b])g.push(a);return g}function e(a,b){do{if(a.parentNode==b)return a;a=a.parentNode}while(a)}function c(c,g,e){var f=e?"nextSibling":"previousSibling";r=c;for(u=r.parentNode;r&&r!=g;r=u)u=r.parentNode,m=a(r==c?r:
r[f],f),m.length&&(e||m.reverse(),d(b(m)))}var n=j.startContainer,p=j.startOffset,l=j.endContainer,q=j.endOffset,g,k,r,u,m;k=h.select("td.mceSelected,th.mceSelected");if(0<k.length)f.each(k,function(a){d([a])});else{1==n.nodeType&&n.hasChildNodes()&&(n=n.childNodes[p]);1==l.nodeType&&l.hasChildNodes()&&(l=l.childNodes[Math.min(q-1,l.childNodes.length-1)]);if(n==l)return d(b([n]));g=h.findCommonAncestor(n,l);for(r=n;r;r=r.parentNode){if(r===l)return c(n,g,!0);if(r===g)break}for(r=l;r;r=r.parentNode){if(r===
n)return c(l,g);if(r===g)break}k=e(n,g)||n;g=e(l,g)||l;c(n,k,!0);m=a(k==n?k:k.nextSibling,"nextSibling",g==l?g.nextSibling:g);m.length&&d(b(m));c(l,g)}};this.split=function(f){var d=f.startContainer,b=f.startOffset,a=f.endContainer;f=f.endOffset;d==a&&3==d.nodeType?0<b&&b<d.nodeValue.length&&(a=d.splitText(b),d=a.previousSibling,f>b?(d=a=a.splitText(f-b).previousSibling,f=a.nodeValue.length,b=0):f=0):(3==d.nodeType&&(0<b&&b<d.nodeValue.length)&&(d=d.splitText(b),b=0),3==a.nodeType&&(0<f&&f<a.nodeValue.length)&&
(a=a.splitText(f).previousSibling,f=a.nodeValue.length));return{startContainer:d,startOffset:b,endContainer:a,endOffset:f}}};f.dom.RangeUtils.compareRanges=function(f,j){if(f&&j)if(f.item||f.duplicate){if(f.item&&j.item&&f.item(0)===j.item(0)||f.isEqual&&j.isEqual&&j.isEqual(f))return!0}else return f.startContainer==j.startContainer&&f.startOffset==j.startOffset;return!1}})(tinymce);
(function(f){var h=f.dom.Event,j=f.each;f.create("tinymce.ui.KeyboardNavigation",{KeyboardNavigation:function(d,b){var a=this,e=d.root,c=d.items,n=d.enableUpDown,p=d.enableLeftRight||!d.enableUpDown,l=d.excludeFromTabOrder,q,g,k,r,u;b=b||f.DOM;q=function(a){u=a.target.id};g=function(a){b.setAttrib(a.target.id,"tabindex","-1")};r=function(){var a=b.get(u);b.setAttrib(a,"tabindex","0");a.focus()};a.focus=function(){b.get(u).focus()};a.destroy=function(){j(c,function(a){b.unbind(b.get(a.id),"focus",
q);b.unbind(b.get(a.id),"blur",g)});b.unbind(b.get(e),"focus",r);b.unbind(b.get(e),"keydown",k);c=b=e=a.focus=q=g=k=r=null;a.destroy=function(){}};a.moveFocus=function(a,g){var e=-1,f;if(u){j(c,function(a,b){if(a.id===u)return e=b,!1});e+=a;0>e?e=c.length-1:e>=c.length&&(e=0);f=c[e];b.setAttrib(u,"tabindex","-1");b.setAttrib(f.id,"tabindex","0");b.get(f.id).focus();if(d.actOnFocus)d.onAction(f.id);g&&h.cancel(g)}};k=function(b){switch(b.keyCode){case 37:p&&a.moveFocus(-1);break;case 39:p&&a.moveFocus(1);
break;case 38:n&&a.moveFocus(-1);break;case 40:n&&a.moveFocus(1);break;case 27:d.onCancel&&(d.onCancel(),h.cancel(b));break;case 14:case 13:case 32:d.onAction&&(d.onAction(u),h.cancel(b))}};j(c,function(a,c){var e;a.id||(a.id=b.uniqueId("_mce_item_"));l?(b.bind(a.id,"blur",g),e="-1"):e=0===c?"0":"-1";b.setAttrib(a.id,"tabindex",e);b.bind(b.get(a.id),"focus",q)});c[0]&&(u=c[0].id);b.setAttrib(e,"tabindex","-1");b.bind(b.get(e),"focus",r);b.bind(b.get(e),"keydown",k)}})})(tinymce);
(function(f){var h=f.DOM,j=f.is;f.create("tinymce.ui.Control",{Control:function(d,b,a){this.id=d;this.settings=b=b||{};this.rendered=!1;this.onRender=new f.util.Dispatcher(this);this.classPrefix="";this.scope=b.scope||this;this.active=this.disabled=0;this.editor=a},setAriaProperty:function(d,b){var a=h.get(this.id+"_aria")||h.get(this.id);a&&h.setAttrib(a,"aria-"+d,!!b)},focus:function(){h.get(this.id).focus()},setDisabled:function(d){d!=this.disabled&&(this.setAriaProperty("disabled",d),this.setState("Disabled",
d),this.setState("Enabled",!d),this.disabled=d)},isDisabled:function(){return this.disabled},setActive:function(d){d!=this.active&&(this.setState("Active",d),this.active=d,this.setAriaProperty("pressed",d))},isActive:function(){return this.active},setState:function(d,b){var a=h.get(this.id);d=this.classPrefix+d;b?h.addClass(a,d):h.removeClass(a,d)},isRendered:function(){return this.rendered},renderHTML:function(){},renderTo:function(d){h.setHTML(d,this.renderHTML())},postRender:function(){var d;j(this.disabled)&&
(d=this.disabled,this.disabled=-1,this.setDisabled(d));j(this.active)&&(d=this.active,this.active=-1,this.setActive(d))},remove:function(){h.remove(this.id);this.destroy()},destroy:function(){f.dom.Event.clear(this.id)}})})(tinymce);tinymce.create("tinymce.ui.Container:tinymce.ui.Control",{Container:function(f,h,j){this.parent(f,h,j);this.controls=[];this.lookup={}},add:function(f){this.lookup[f.id]=f;this.controls.push(f);return f},get:function(f){return this.lookup[f]}});
tinymce.create("tinymce.ui.Separator:tinymce.ui.Control",{Separator:function(f,h){this.parent(f,h);this.classPrefix="mceSeparator";this.setDisabled(!0)},renderHTML:function(){return tinymce.DOM.createHTML("span",{"class":this.classPrefix,role:"separator","aria-orientation":"vertical",tabindex:"-1"})}});
(function(f){var h=f.is;f.create("tinymce.ui.MenuItem:tinymce.ui.Control",{MenuItem:function(f,d){this.parent(f,d);this.classPrefix="mceMenuItem"},setSelected:function(f){this.setState("Selected",f);this.setAriaProperty("checked",!!f);this.selected=f},isSelected:function(){return this.selected},postRender:function(){this.parent();h(this.selected)&&this.setSelected(this.selected)}})})(tinymce);
(function(f){var h=f.DOM,j=f.walk;f.create("tinymce.ui.Menu:tinymce.ui.MenuItem",{Menu:function(d,b){this.parent(d,b);this.items={};this.collapsed=!1;this.menuCount=0;this.onAddItem=new f.util.Dispatcher(this)},expand:function(d){d&&j(this,function(b){b.expand&&b.expand()},"items",this);this.collapsed=!1},collapse:function(d){d&&j(this,function(b){b.collapse&&b.collapse()},"items",this);this.collapsed=!0},isCollapsed:function(){return this.collapsed},add:function(d){d.settings||(d=new f.ui.MenuItem(d.id||
h.uniqueId(),d));this.onAddItem.dispatch(this,d);return this.items[d.id]=d},addSeparator:function(){return this.add({separator:!0})},addMenu:function(d){d.collapse||(d=this.createMenu(d));this.menuCount++;return this.add(d)},hasMenus:function(){return 0!==this.menuCount},remove:function(d){delete this.items[d.id]},removeAll:function(){j(this,function(d){d.removeAll?d.removeAll():d.remove();d.destroy()},"items",this);this.items={}},createMenu:function(d){d=new f.ui.Menu(d.id||h.uniqueId(),d);d.onAddItem.add(this.onAddItem.dispatch,
this.onAddItem);return d}})})(tinymce);
(function(f){var h=f.is,j=f.DOM,d=f.each,b=f.dom.Event,a=f.dom.Element;f.create("tinymce.ui.DropMenu:tinymce.ui.Menu",{DropMenu:function(a,b){b=b||{};b.container=b.container||j.doc.body;b.offset_x=b.offset_x||0;b.offset_y=b.offset_y||0;b.vp_offset_x=b.vp_offset_x||0;b.vp_offset_y=b.vp_offset_y||0;h(b.icons)&&!b.icons&&(b["class"]+=" mceNoIcons");this.parent(a,b);this.onShowMenu=new f.util.Dispatcher(this);this.onHideMenu=new f.util.Dispatcher(this);this.classPrefix="mceMenu"},createMenu:function(a){var b=
this.settings;a.container=a.container||b.container;a.parent=this;a.constrain=a.constrain||b.constrain;a["class"]=a["class"]||b["class"];a.vp_offset_x=a.vp_offset_x||b.vp_offset_x;a.vp_offset_y=a.vp_offset_y||b.vp_offset_y;a.keyboard_focus=b.keyboard_focus;a=new f.ui.DropMenu(a.id||j.uniqueId(),a);a.onAddItem.add(this.onAddItem.dispatch,this.onAddItem);return a},focus:function(){this.keyboardNav&&this.keyboardNav.focus()},update:function(){var a=this.settings,b=j.get("menu_"+this.id+"_tbl"),d=j.get("menu_"+
this.id+"_co"),f,h;f=a.max_width?Math.min(b.clientWidth,a.max_width):b.clientWidth;h=a.max_height?Math.min(b.clientHeight,a.max_height):b.clientHeight;j.boxModel?this.element.setStyles({width:f,height:h}):this.element.setStyles({width:f+2,height:h+2});a.max_width&&j.setStyle(d,"width",f);a.max_height&&(j.setStyle(d,"height",h),b.clientHeight<a.max_height&&j.setStyle(d,"overflow","hidden"))},showMenu:function(e,c,h){var p=this,l=p.settings,q,g=j.getViewPort(),k,r,u,m,t=p.classPrefix;p.collapse(1);
p.isMenuVisible||(p.rendered?q=j.get("menu_"+p.id):(q=j.add(p.settings.container,p.renderNode()),d(p.items,function(a){a.postRender()}),p.element=new a("menu_"+p.id,{blocker:1,container:l.container})),f.isOpera||j.setStyles(q,{left:-65535,top:-65535}),j.show(q),p.update(),e+=l.offset_x||0,c+=l.offset_y||0,g.w-=4,g.h-=4,l.constrain&&(k=q.clientWidth-2,r=q.clientHeight-2,u=g.x+g.w,g=g.y+g.h,e+l.vp_offset_x+k>u&&(e=h?h-k:Math.max(0,u-l.vp_offset_x-k)),c+l.vp_offset_y+r>g&&(c=Math.max(0,g-l.vp_offset_y-
r))),j.setStyles(q,{left:e,top:c}),p.element.update(),p.isMenuVisible=1,p.mouseClickFunc=b.add(q,"click",function(a){var c;if((a=a.target)&&(a=j.getParent(a,"tr"))&&!j.hasClass(a,t+"ItemSub"))if(c=p.items[a.id],!c.isDisabled()){for(m=p;m;)m.hideMenu&&m.hideMenu(),m=m.settings.parent;if(c.settings.onclick)c.settings.onclick(a);return b.cancel(a)}}),p.hasMenus()&&(p.mouseOverFunc=b.add(q,"mouseover",function(a){var b;if((a=a.target)&&(a=j.getParent(a,"tr")))b=p.items[a.id],p.lastMenu&&p.lastMenu.collapse(1),
!b.isDisabled()&&(a&&j.hasClass(a,t+"ItemSub"))&&(a=j.getRect(a),b.showMenu(a.x+a.w-2,a.y-2,a.x),p.lastMenu=b,j.addClass(j.get(b.id).firstChild,t+"ItemActive"))})),b.add(q,"keydown",p._keyHandler,p),p.onShowMenu.dispatch(p),l.keyboard_focus&&p._setupKeyboardNav())},hideMenu:function(a){var c=j.get("menu_"+this.id),d;this.isMenuVisible&&(this.keyboardNav&&this.keyboardNav.destroy(),b.remove(c,"mouseover",this.mouseOverFunc),b.remove(c,"click",this.mouseClickFunc),b.remove(c,"keydown",this._keyHandler),
j.hide(c),this.isMenuVisible=0,a||this.collapse(1),this.element&&this.element.hide(),(d=j.get(this.id))&&j.removeClass(d.firstChild,this.classPrefix+"ItemActive"),this.onHideMenu.dispatch(this))},add:function(a){var b;a=this.parent(a);this.isRendered&&(b=j.get("menu_"+this.id))&&this._add(j.select("tbody",b)[0],a);return a},collapse:function(a){this.parent(a);this.hideMenu(1)},remove:function(a){j.remove(a.id);this.destroy();return this.parent(a)},destroy:function(){var a=j.get("menu_"+this.id);this.keyboardNav&&
this.keyboardNav.destroy();b.remove(a,"mouseover",this.mouseOverFunc);b.remove(j.select("a",a),"focus",this.mouseOverFunc);b.remove(a,"click",this.mouseClickFunc);b.remove(a,"keydown",this._keyHandler);this.element&&this.element.remove();j.remove(a)},renderNode:function(){var b=this,c=b.settings,f,h,l;l=j.create("div",{role:"listbox",id:"menu_"+b.id,"class":c["class"],style:"position:absolute;left:0;top:0;z-index:200000;outline:0"});b.settings.parent&&j.setAttrib(l,"aria-parent","menu_"+b.settings.parent.id);
h=j.add(l,"div",{role:"presentation",id:"menu_"+b.id+"_co","class":b.classPrefix+(c["class"]?" "+c["class"]:"")});b.element=new a("menu_"+b.id,{blocker:1,container:c.container});c.menu_line&&j.add(h,"span",{"class":b.classPrefix+"Line"});c=j.add(h,"table",{role:"presentation",id:"menu_"+b.id+"_tbl",border:0,cellPadding:0,cellSpacing:0});f=j.add(c,"tbody");d(b.items,function(a){b._add(f,a)});b.rendered=!0;return l},_setupKeyboardNav:function(){var a,b,d=this;a=j.select("#menu_"+d.id)[0];b=j.select("a[role=option]",
"menu_"+d.id);b.splice(0,0,a);d.keyboardNav=new f.ui.KeyboardNavigation({root:"menu_"+d.id,items:b,onCancel:function(){d.hideMenu()},enableUpDown:!0});a.focus()},_keyHandler:function(a){switch(a.keyCode){case 37:this.settings.parent&&(this.hideMenu(),this.settings.parent.focus(),b.cancel(a));break;case 39:this.mouseOverFunc&&this.mouseOverFunc(a)}},_add:function(a,b){var d,f=b.settings,h,q,g,k=this.classPrefix;f.separator?(q=j.add(a,"tr",{id:b.id,"class":k+"ItemSeparator"}),j.add(q,"td",{"class":k+
"ItemSeparator"}),(d=q.previousSibling)&&j.addClass(d,"mceLast")):(d=q=j.add(a,"tr",{id:b.id,"class":k+"Item "+k+"ItemEnabled"}),d=g=j.add(d,f.titleItem?"th":"td"),d=h=j.add(d,"a",{id:b.id+"_aria",role:f.titleItem?"presentation":"option",href:"javascript:;",onclick:"return false;",onmousedown:"return false;"}),f.parent&&(j.setAttrib(h,"aria-haspopup","true"),j.setAttrib(h,"aria-owns","menu_"+b.id)),j.addClass(g,f["class"]),h=j.add(d,"span",{"class":"mceIcon"+(f.icon?" mce_"+f.icon:"")}),f.icon_src&&
j.add(h,"img",{src:f.icon_src}),d=j.add(d,f.element||"span",{"class":"mceText",title:b.settings.title},b.settings.title),b.settings.style&&j.setAttrib(d,"style",b.settings.style),1==a.childNodes.length&&j.addClass(q,"mceFirst"),(d=q.previousSibling)&&j.hasClass(d,k+"ItemSeparator")&&j.addClass(q,"mceFirst"),b.collapse&&j.addClass(q,k+"ItemSub"),(d=q.previousSibling)&&j.removeClass(d,"mceLast"),j.addClass(q,"mceLast"))}})})(tinymce);
(function(f){var h=f.DOM;f.create("tinymce.ui.Button:tinymce.ui.Control",{Button:function(f,d,b){this.parent(f,d,b);this.classPrefix="mceButton"},renderHTML:function(){var f=this.classPrefix,d=this.settings,b,a;a=h.encode(d.label||"");b='<a role="button" id="'+this.id+'" href="javascript:;" class="'+f+" "+f+"Enabled "+d["class"]+(a?" "+f+"Labeled":"")+'" onmousedown="return false;" onclick="return false;" aria-labelledby="'+this.id+'_voice" title="'+h.encode(d.title)+'">';b=d.image&&(!this.editor||
!this.editor.forcedHighContrastMode)?b+('<img class="mceIcon" src="'+d.image+'" alt="'+h.encode(d.title)+'" />'+a):b+('<span class="mceIcon '+d["class"]+'"></span>'+(a?'<span class="'+f+'Label">'+a+"</span>":""));b+='<span class="mceVoiceLabel mceIconOnly" style="display: none;" id="'+this.id+'_voice">'+d.title+"</span>";return b+"</a>"},postRender:function(){var h=this,d=h.settings;f.dom.Event.add(h.id,"click",function(b){if(!h.isDisabled())return d.onclick.call(d.scope,b)})}})})(tinymce);
(function(f){var h=f.DOM,j=f.dom.Event,d=f.each,b=f.util.Dispatcher;f.create("tinymce.ui.ListBox:tinymce.ui.Control",{ListBox:function(a,d,c){this.parent(a,d,c);this.items=[];this.onChange=new b(this);this.onPostRender=new b(this);this.onAdd=new b(this);this.onRenderMenu=new f.util.Dispatcher(this);this.classPrefix="mceListBox"},select:function(a){var b=this,c,f;if(void 0==a)return b.selectByIndex(-1);f=a&&a.call?a:function(b){return b==a};a!=b.selectedValue&&(d(b.items,function(a,d){if(f(a.value))return c=
1,b.selectByIndex(d),!1}),c||b.selectByIndex(-1))},selectByIndex:function(a){var b,c,d;a!=this.selectedIndex&&(b=h.get(this.id+"_text"),d=h.get(this.id+"_voiceDesc"),(c=this.items[a])?(this.selectedValue=c.value,this.selectedIndex=a,h.setHTML(b,h.encode(c.title)),h.setHTML(d,this.settings.title+" - "+c.title),h.removeClass(b,"mceTitle"),h.setAttrib(this.id,"aria-valuenow",c.title)):(h.setHTML(b,h.encode(this.settings.title)),h.setHTML(d,h.encode(this.settings.title)),h.addClass(b,"mceTitle"),this.selectedValue=
this.selectedIndex=null,h.setAttrib(this.id,"aria-valuenow",this.settings.title)))},add:function(a,b,c){c=c||{};c=f.extend(c,{title:a,value:b});this.items.push(c);this.onAdd.dispatch(this,c)},getLength:function(){return this.items.length},renderHTML:function(){var a="",a=this.settings,b=this.classPrefix,a='<span role="listbox" aria-haspopup="true" aria-labelledby="'+this.id+'_voiceDesc" aria-describedby="'+this.id+'_voiceDesc"><table role="presentation" tabindex="0" id="'+this.id+'" cellpadding="0" cellspacing="0" class="'+
b+" "+b+"Enabled"+(a["class"]?" "+a["class"]:"")+'"><tbody><tr>',a=a+("<td>"+h.createHTML("span",{id:this.id+"_voiceDesc","class":"voiceLabel",style:"display:none;"},this.settings.title)),a=a+(h.createHTML("a",{id:this.id+"_text",tabindex:-1,href:"javascript:;","class":"mceText",onclick:"return false;",onmousedown:"return false;"},h.encode(this.settings.title))+"</td>"),a=a+("<td>"+h.createHTML("a",{id:this.id+"_open",tabindex:-1,href:"javascript:;","class":"mceOpen",onclick:"return false;",onmousedown:"return false;"},
'<span><span style="display:none;" class="mceIconOnly" aria-hidden="true">\u25bc</span></span>')+"</td>");return a+"</tr></tbody></table></span>"},showMenu:function(){var a=this,b,c=h.get(this.id),n;if(!(a.isDisabled()||0==a.items.length)){if(a.menu&&a.menu.isMenuVisible)return a.hideMenu();a.isMenuRendered||(a.renderMenu(),a.isMenuRendered=!0);b=h.getPos(c);n=a.menu;n.settings.offset_x=b.x;n.settings.offset_y=b.y;n.settings.keyboard_focus=!f.isOpera;a.oldID&&n.items[a.oldID].setSelected(0);d(a.items,
function(b){b.value===a.selectedValue&&(n.items[b.id].setSelected(1),a.oldID=b.id)});n.showMenu(0,c.clientHeight);j.add(h.doc,"mousedown",a.hideMenu,a);h.addClass(a.id,a.classPrefix+"Selected")}},hideMenu:function(a){if(this.menu&&this.menu.isMenuVisible&&(h.removeClass(this.id,this.classPrefix+"Selected"),!a||!("mousedown"==a.type&&(a.target.id==this.id+"_text"||a.target.id==this.id+"_open"))))if(!a||!h.getParent(a.target,".mceMenu"))h.removeClass(this.id,this.classPrefix+"Selected"),j.remove(h.doc,
"mousedown",this.hideMenu,this),this.menu.hideMenu()},renderMenu:function(){var a=this,b;b=a.settings.control_manager.createDropMenu(a.id+"_menu",{menu_line:1,"class":a.classPrefix+"Menu mceNoIcons",max_width:150,max_height:150});b.onHideMenu.add(function(){a.hideMenu();a.focus()});b.add({title:a.settings.title,"class":"mceMenuItemTitle",onclick:function(){!1!==a.settings.onselect("")&&a.select("")}});d(a.items,function(c){void 0===c.value?b.add({title:c.title,role:"option","class":"mceMenuItemTitle",
onclick:function(){!1!==a.settings.onselect("")&&a.select("")}}):(c.id=h.uniqueId(),c.role="option",c.onclick=function(){!1!==a.settings.onselect(c.value)&&a.select(c.value)},b.add(c))});a.onRenderMenu.dispatch(a,b);a.menu=b},postRender:function(){var a=this,b=a.classPrefix;j.add(a.id,"click",a.showMenu,a);j.add(a.id,"keydown",function(b){32==b.keyCode&&(a.showMenu(b),j.cancel(b))});j.add(a.id,"focus",function(){a._focused||(a.keyDownHandler=j.add(a.id,"keydown",function(b){40==b.keyCode&&(a.showMenu(),
j.cancel(b))}),a.keyPressHandler=j.add(a.id,"keypress",function(b){var d;13==b.keyCode&&(d=a.selectedValue,a.selectedValue=null,j.cancel(b),a.settings.onselect(d))}));a._focused=1});j.add(a.id,"blur",function(){j.remove(a.id,"keydown",a.keyDownHandler);j.remove(a.id,"keypress",a.keyPressHandler);a._focused=0});if(f.isIE6||!h.boxModel)j.add(a.id,"mouseover",function(){h.hasClass(a.id,b+"Disabled")||h.addClass(a.id,b+"Hover")}),j.add(a.id,"mouseout",function(){h.hasClass(a.id,b+"Disabled")||h.removeClass(a.id,
b+"Hover")});a.onPostRender.dispatch(a,h.get(a.id))},destroy:function(){this.parent();j.clear(this.id+"_text");j.clear(this.id+"_open")}})})(tinymce);
(function(f){var h=f.DOM,j=f.dom.Event,d=f.each;f.create("tinymce.ui.NativeListBox:tinymce.ui.ListBox",{NativeListBox:function(b,a){this.parent(b,a);this.classPrefix="mceNativeListBox"},setDisabled:function(b){h.get(this.id).disabled=b;this.setAriaProperty("disabled",b)},isDisabled:function(){return h.get(this.id).disabled},select:function(b){var a=this,e,c;if(void 0==b)return a.selectByIndex(-1);c=b&&b.call?b:function(a){return a==b};b!=a.selectedValue&&(d(a.items,function(b,d){if(c(b.value))return e=
1,a.selectByIndex(d),!1}),e||a.selectByIndex(-1))},selectByIndex:function(b){h.get(this.id).selectedIndex=b+1;this.selectedValue=this.items[b]?this.items[b].value:null},add:function(b,a,d){d=d||{};d.value=a;this.isRendered()&&h.add(h.get(this.id),"option",d,b);b={title:b,value:a,attribs:d};this.items.push(b);this.onAdd.dispatch(this,b)},getLength:function(){return this.items.length},renderHTML:function(){var b;b=h.createHTML("option",{value:""},"-- "+this.settings.title+" --");d(this.items,function(a){b+=
h.createHTML("option",{value:a.value},a.title)});b=h.createHTML("select",{id:this.id,"class":"mceNativeListBox","aria-labelledby":this.id+"_aria"},b);return b+=h.createHTML("span",{id:this.id+"_aria",style:"display: none"},this.settings.title)},postRender:function(){function b(b){if((b=a.items[b.target.selectedIndex-1])&&(b=b.value))if(a.onChange.dispatch(a,b),a.settings.onselect)a.settings.onselect(b)}var a=this,d=!0;a.rendered=!0;j.add(a.id,"change",b);j.add(a.id,"keydown",function(c){var h;j.remove(a.id,
"change",void 0);d=!1;h=j.add(a.id,"blur",function(){d||(d=!0,j.add(a.id,"change",b),j.remove(a.id,"blur",h))});if(f.isWebKit&&(37==c.keyCode||39==c.keyCode))return j.prevent(c);if(13==c.keyCode||32==c.keyCode)return b(c),j.cancel(c)});a.onPostRender.dispatch(a,h.get(a.id))}})})(tinymce);
(function(f){var h=f.DOM,j=f.dom.Event;f.create("tinymce.ui.MenuButton:tinymce.ui.Button",{MenuButton:function(d,b,a){this.parent(d,b,a);this.onRenderMenu=new f.util.Dispatcher(this);b.menu_container=b.menu_container||h.doc.body},showMenu:function(){var d,b=h.get(this.id),a;if(!this.isDisabled()){this.isMenuRendered||(this.renderMenu(),this.isMenuRendered=!0);if(this.isMenuVisible)return this.hideMenu();h.getPos(this.settings.menu_container);d=h.getPos(b);a=this.menu;a.settings.offset_x=d.x;a.settings.offset_y=
d.y;a.settings.vp_offset_x=d.x;a.settings.vp_offset_y=d.y;a.settings.keyboard_focus=this._focused;a.showMenu(0,b.clientHeight);j.add(h.doc,"mousedown",this.hideMenu,this);this.setState("Selected",1);this.isMenuVisible=1}},renderMenu:function(){var d=this,b;b=d.settings.control_manager.createDropMenu(d.id+"_menu",{menu_line:1,"class":this.classPrefix+"Menu",icons:d.settings.icons});b.onHideMenu.add(function(){d.hideMenu();d.focus()});d.onRenderMenu.dispatch(d,b);d.menu=b},hideMenu:function(d){var b=
this;if(!d||!("mousedown"==d.type&&h.getParent(d.target,function(a){return a.id===b.id||a.id===b.id+"_open"}))){if(!d||!h.getParent(d.target,".mceMenu"))b.setState("Selected",0),j.remove(h.doc,"mousedown",b.hideMenu,b),b.menu&&b.menu.hideMenu();b.isMenuVisible=0}},postRender:function(){var d=this,b=d.settings;j.add(d.id,"click",function(){if(!d.isDisabled()){if(b.onclick)b.onclick(d.value);d.showMenu()}})}})})(tinymce);
(function(f){var h=f.DOM,j=f.dom.Event;f.create("tinymce.ui.SplitButton:tinymce.ui.MenuButton",{SplitButton:function(d,b,a){this.parent(d,b,a);this.classPrefix="mceSplitButton"},renderHTML:function(){var d,b=this.settings,a;d="<tbody><tr>";a=b.image?h.createHTML("img ",{src:b.image,role:"presentation","class":"mceAction "+b["class"]}):h.createHTML("span",{"class":"mceAction "+b["class"]},"");a+=h.createHTML("span",{"class":"mceVoiceLabel mceIconOnly",id:this.id+"_voice",style:"display:none;"},b.title);
d+="<td >"+h.createHTML("a",{role:"button",id:this.id+"_action",tabindex:"-1",href:"javascript:;","class":"mceAction "+b["class"],onclick:"return false;",onmousedown:"return false;",title:b.title},a)+"</td>";a=h.createHTML("span",{"class":"mceOpen "+b["class"]},'<span style="display:none;" class="mceIconOnly" aria-hidden="true">\u25bc</span>');d+="<td >"+h.createHTML("a",{role:"button",id:this.id+"_open",tabindex:"-1",href:"javascript:;","class":"mceOpen "+b["class"],onclick:"return false;",onmousedown:"return false;",
title:b.title},a)+"</td>";d=h.createHTML("table",{role:"presentation","class":"mceSplitButton mceSplitButtonEnabled "+b["class"],cellpadding:"0",cellspacing:"0",title:b.title},d+"</tr></tbody>");return h.createHTML("div",{id:this.id,role:"button",tabindex:"0","aria-labelledby":this.id+"_voice","aria-haspopup":"true"},d)},postRender:function(){var d=this,b=d.settings,a;b.onclick&&(a=function(a){d.isDisabled()||(b.onclick(d.value),j.cancel(a))},j.add(d.id+"_action","click",a),j.add(d.id,["click","keydown"],
function(b){if((32===b.keyCode||13===b.keyCode||14===b.keyCode)&&!b.altKey&&!b.ctrlKey&&!b.metaKey)a(),j.cancel(b);else if("click"===b.type||40===b.keyCode)d.showMenu(),j.cancel(b)}));j.add(d.id+"_open","click",function(a){d.showMenu();j.cancel(a)});j.add([d.id,d.id+"_open"],"focus",function(){d._focused=1});j.add([d.id,d.id+"_open"],"blur",function(){d._focused=0});if(f.isIE6||!h.boxModel)j.add(d.id,"mouseover",function(){h.hasClass(d.id,"mceSplitButtonDisabled")||h.addClass(d.id,"mceSplitButtonHover")}),
j.add(d.id,"mouseout",function(){h.hasClass(d.id,"mceSplitButtonDisabled")||h.removeClass(d.id,"mceSplitButtonHover")})},destroy:function(){this.parent();j.clear(this.id+"_action");j.clear(this.id+"_open");j.clear(this.id)}})})(tinymce);
(function(f){var h=f.DOM,j=f.dom.Event,d=f.is,b=f.each;f.create("tinymce.ui.ColorSplitButton:tinymce.ui.SplitButton",{ColorSplitButton:function(a,b,c){this.parent(a,b,c);this.settings=b=f.extend({colors:"000000,993300,333300,003300,003366,000080,333399,333333,800000,FF6600,808000,008000,008080,0000FF,666699,808080,FF0000,FF9900,99CC00,339966,33CCCC,3366FF,800080,999999,FF00FF,FFCC00,FFFF00,00FF00,00FFFF,00CCFF,993366,C0C0C0,FF99CC,FFCC99,FFFF99,CCFFCC,CCFFFF,99CCFF,CC99FF,FFFFFF",grid_width:8,default_color:"#888888"},
this.settings);this.onShowMenu=new f.util.Dispatcher(this);this.onHideMenu=new f.util.Dispatcher(this);this.value=b.default_color},showMenu:function(){var a=this,b,c;if(!a.isDisabled()){a.isMenuRendered||(a.renderMenu(),a.isMenuRendered=!0);if(a.isMenuVisible)return a.hideMenu();b=h.get(a.id);h.show(a.id+"_menu");h.addClass(b,"mceSplitButtonSelected");c=h.getPos(b);h.setStyles(a.id+"_menu",{left:c.x,top:c.y+b.clientHeight,zIndex:2E5});b=0;j.add(h.doc,"mousedown",a.hideMenu,a);a.onShowMenu.dispatch(a);
a._focused&&(a._keyHandler=j.add(a.id+"_menu","keydown",function(b){27==b.keyCode&&a.hideMenu()}),h.select("a",a.id+"_menu")[0].focus());a.isMenuVisible=1}},hideMenu:function(a){var b=this;if(b.isMenuVisible&&(!a||!("mousedown"==a.type&&h.getParent(a.target,function(a){return a.id===b.id+"_open"})))){if(!a||!h.getParent(a.target,".mceSplitButtonMenu"))h.removeClass(b.id,"mceSplitButtonSelected"),j.remove(h.doc,"mousedown",b.hideMenu,b),j.remove(b.id+"_menu","keydown",b._keyHandler),h.hide(b.id+"_menu");
b.isMenuVisible=0;b.onHideMenu.dispatch()}},renderMenu:function(){var a=this,e,c=0,n=a.settings,p,l,q,g,k;g=h.add(n.menu_container,"div",{role:"listbox",id:a.id+"_menu","class":n.menu_class+" "+n["class"],style:"position:absolute;left:0;top:-1000px;"});e=h.add(g,"div",{"class":n["class"]+" mceSplitButtonMenu"});h.add(e,"span",{"class":"mceMenuLine"});p=h.add(e,"table",{role:"presentation","class":"mceColorSplitMenu"});l=h.add(p,"tbody");c=0;b(d(n.colors,"array")?n.colors:n.colors.split(","),function(b){b=
b.replace(/^#/,"");c--||(q=h.add(l,"tr"),c=n.grid_width-1);p=h.add(q,"td");p=h.add(p,"a",{role:"option",href:"javascript:;",style:{backgroundColor:"#"+b},title:a.editor.getLang("colors."+b,b),"data-mce-color":"#"+b});a.editor.forcedHighContrastMode&&(p=h.add(p,"canvas",{width:16,height:16,"aria-hidden":"true"}),p.getContext&&(k=p.getContext("2d"))?(k.fillStyle="#"+b,k.fillRect(0,0,16,16)):h.remove(p))});n.more_colors_func&&(p=h.add(l,"tr"),p=h.add(p,"td",{colspan:n.grid_width,"class":"mceMoreColors"}),
p=h.add(p,"a",{role:"option",id:a.id+"_more",href:"javascript:;",onclick:"return false;","class":"mceMoreColors"},n.more_colors_title),j.add(p,"click",function(a){n.more_colors_func.call(n.more_colors_scope||this);return j.cancel(a)}));h.addClass(e,"mceColorSplitMenu");new f.ui.KeyboardNavigation({root:a.id+"_menu",items:h.select("a",a.id+"_menu"),onCancel:function(){a.hideMenu();a.focus()}});j.add(a.id+"_menu","mousedown",function(a){return j.cancel(a)});j.add(a.id+"_menu","click",function(b){var c;
(b=h.getParent(b.target,"a",l))&&("a"==b.nodeName.toLowerCase()&&(c=b.getAttribute("data-mce-color")))&&a.setColor(c);return j.cancel(b)});return g},setColor:function(a){this.displayColor(a);this.hideMenu();this.settings.onselect(a)},displayColor:function(a){h.setStyle(this.id+"_preview","backgroundColor",a);this.value=a},postRender:function(){var a=this.id;this.parent();h.add(a+"_action","div",{id:a+"_preview","class":"mceColorPreview"});h.setStyle(this.id+"_preview","backgroundColor",this.value)},
destroy:function(){this.parent();j.clear(this.id+"_menu");j.clear(this.id+"_more");h.remove(this.id+"_menu")}})})(tinymce);
(function(f){var h=f.DOM,j=f.each,d=f.dom.Event;f.create("tinymce.ui.ToolbarGroup:tinymce.ui.Container",{renderHTML:function(){var b=[],a=this.controls,d=f.each,c=this.settings;b.push('<div id="'+this.id+'" role="group" aria-labelledby="'+this.id+'_voice">');b.push("<span role='application'>");b.push('<span id="'+this.id+'_voice" class="mceVoiceLabel" style="display:none;">'+h.encode(c.name)+"</span>");d(a,function(a){b.push(a.renderHTML())});b.push("</span>");b.push("</div>");return b.join("")},
focus:function(){h.get(this.id).focus()},postRender:function(){var b=this,a=[];j(b.controls,function(b){j(b.controls,function(b){b.id&&a.push(b)})});b.keyNav=new f.ui.KeyboardNavigation({root:b.id,items:a,onCancel:function(){f.isWebKit&&h.get(b.editor.id+"_ifr").focus();b.editor.focus()},excludeFromTabOrder:!b.settings.tab_focus_toolbar})},destroy:function(){this.parent();this.keyNav.destroy();d.clear(this.id)}})})(tinymce);
(function(f){var h=f.DOM;f.create("tinymce.ui.Toolbar:tinymce.ui.Container",{renderHTML:function(){var f="",d,b,a=this.settings,e,c,n,p;p=this.controls;for(e=0;e<p.length;e++){b=p[e];c=p[e-1];n=p[e+1];0===e&&(d="mceToolbarStart",b.Button?d+=" mceToolbarStartButton":b.SplitButton?d+=" mceToolbarStartSplitButton":b.ListBox&&(d+=" mceToolbarStartListBox"),f+=h.createHTML("td",{"class":d},h.createHTML("span",null,"\x3c!-- IE --\x3e")));if(c&&b.ListBox&&(c.Button||c.SplitButton))f+=h.createHTML("td",{"class":"mceToolbarEnd"},
h.createHTML("span",null,"\x3c!-- IE --\x3e"));f=h.stdMode?f+('<td style="position: relative">'+b.renderHTML()+"</td>"):f+("<td>"+b.renderHTML()+"</td>");if(n&&b.ListBox&&(n.Button||n.SplitButton))f+=h.createHTML("td",{"class":"mceToolbarStart"},h.createHTML("span",null,"\x3c!-- IE --\x3e"))}d="mceToolbarEnd";b.Button?d+=" mceToolbarEndButton":b.SplitButton?d+=" mceToolbarEndSplitButton":b.ListBox&&(d+=" mceToolbarEndListBox");f+=h.createHTML("td",{"class":d},h.createHTML("span",null,"\x3c!-- IE --\x3e"));
return h.createHTML("table",{id:this.id,"class":"mceToolbar"+(a["class"]?" "+a["class"]:""),cellpadding:"0",cellspacing:"0",align:this.settings.align||"",role:"presentation",tabindex:"-1"},"<tbody><tr>"+f+"</tr></tbody>")}})})(tinymce);
(function(f){var h=f.util.Dispatcher;f.create("tinymce.AddOnManager",{AddOnManager:function(){this.items=[];this.urls={};this.lookup={};this.onAdd=new h(this)},get:function(f){if(this.lookup[f])return this.lookup[f].instance},dependencies:function(f){var d;this.lookup[f]&&(d=this.lookup[f].dependencies);return d||[]},requireLangPack:function(h){var d=f.settings;d&&(d.language&&!1!==d.language_load)&&f.ScriptLoader.add(this.urls[h]+"/langs/"+d.language+".js")},add:function(f,d,b){this.items.push(d);
this.lookup[f]={instance:d,dependencies:b};this.onAdd.dispatch(this,f,d);return d},createUrl:function(f,d){return"object"===typeof d?d:{prefix:f.prefix,resource:d,suffix:f.suffix}},addComponents:function(h,d){var b=this.urls[h];f.each(d,function(a){f.ScriptLoader.add(b+"/"+a)})},load:function(h,d,b,a){function e(){var e=c.dependencies(h);f.each(e,function(a){a=c.createUrl(d,a);c.load(a.resource,a,void 0,void 0)});b&&(a?b.call(a):b.call(f.ScriptLoader))}var c=this,n=d;c.urls[h]||("object"===typeof d&&
(n=d.prefix+d.resource+d.suffix),0!=n.indexOf("/")&&-1==n.indexOf("://")&&(n=f.baseURL+"/"+n),c.urls[h]=n.substring(0,n.lastIndexOf("/")),c.lookup[h]?e():f.ScriptLoader.add(n,e,a))}});f.PluginManager=new f.AddOnManager;f.ThemeManager=new f.AddOnManager})(tinymce);
(function(f){var h=f.each,j=f.extend,d=f.DOM,b=f.dom.Event,a=f.explode,e=f.util.Dispatcher,c=0;f.documentBaseURL=window.location.href.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,"");/[\/\\]$/.test(f.documentBaseURL)||(f.documentBaseURL+="/");f.baseURL=(new f.util.URI(f.documentBaseURL)).toAbsolute(f.baseURL);f.baseURI=new f.util.URI(f.baseURL);f.onBeforeUnload=new e(f);b.add(window,"beforeunload",function(a){f.onBeforeUnload.dispatch(f,a)});f.onAddEditor=new e(f);f.onRemoveEditor=new e(f);f.EditorManager=
j(f,{editors:[],i18n:{},activeEditor:null,init:function(e){function p(a,b,c){var g=a[b];if(g)return f.is(g,"string")&&(c=(c=g.replace(/\.\w+$/,""))?f.resolve(c):0,g=f.resolve(g)),g.apply(c||this,Array.prototype.slice.call(arguments,2))}var l=this,q,g=[],k;e=j({theme:"simple",language:"en"},e);l.settings=e;b.add(document,"init",function(){var b,j;p(e,"onpageload");switch(e.mode){case "exact":b=e.elements||"";0<b.length&&h(a(b),function(a){d.get(a)?(k=new f.Editor(a,e),g.push(k),k.render(1)):h(document.forms,
function(b){h(b.elements,function(b){b.name===a&&(a="mce_editor_"+c++,d.setAttrib(b,"id",a),k=new f.Editor(a,e),g.push(k),k.render(1))})})});break;case "textareas":case "specific_textareas":h(d.select("textarea"),function(a){if(!e.editor_deselector||!(e.editor_deselector.constructor===RegExp?e.editor_deselector.test(a.className):d.hasClass(a,e.editor_deselector)))if(!e.editor_selector||(e.editor_selector.constructor===RegExp?e.editor_selector.test(a.className):d.hasClass(a,e.editor_selector))){q=
d.get(a.name);!a.id&&!q&&(a.id=a.name);if(!a.id||l.get(a.id))a.id=d.uniqueId();k=new f.Editor(a.id,e);g.push(k);k.render(1)}})}e.oninit&&(b=j=0,h(g,function(a){j++;a.initialized?b++:a.onInit.add(function(){b++;b==j&&p(e,"oninit")});b==j&&p(e,"oninit")}))})},get:function(a){return void 0===a?this.editors:this.editors[a]},getInstanceById:function(a){return this.get(a)},add:function(a){var b=this.editors;b[a.id]=a;b.push(a);this._setActive(a);this.onAddEditor.dispatch(this,a);return a},remove:function(a){var b,
c=this.editors;if(!c[a.id])return null;delete c[a.id];for(b=0;b<c.length;b++)if(c[b]==a){c.splice(b,1);break}this.activeEditor==a&&this._setActive(c[0]);a.destroy();this.onRemoveEditor.dispatch(this,a);return a},execCommand:function(a,b,c){var d=this.get(c),g;switch(a){case "mceFocus":return d.focus(),!0;case "mceAddEditor":case "mceAddControl":return this.get(c)||(new f.Editor(c,this.settings)).render(),!0;case "mceAddFrameControl":g=c.window;g.tinyMCE=tinyMCE;g.tinymce=f;f.DOM.doc=g.document;f.DOM.win=
g;d=new f.Editor(c.element_id,c);d.render();if(f.isIE){var e=function(){d.destroy();g.detachEvent("onunload",e);g=g.tinyMCE=g.tinymce=null};g.attachEvent("onunload",e)}c.page_window=null;return!0;case "mceRemoveEditor":case "mceRemoveControl":return d&&d.remove(),!0;case "mceToggleEditor":if(!d)return this.execCommand("mceAddControl",0,c),!0;d.isHidden()?d.show():d.hide();return!0}return this.activeEditor?this.activeEditor.execCommand(a,b,c):!1},execInstanceCommand:function(a,b,c,d){return(a=this.get(a))?
a.execCommand(b,c,d):!1},triggerSave:function(){h(this.editors,function(a){a.save()})},addI18n:function(a,b){var c=this.i18n;f.is(a,"string")?h(b,function(b,g){c[a+"."+g]=b}):h(a,function(a,b){h(a,function(a,d){h(a,function(a,e){"common"===d?c[b+"."+e]=a:c[b+"."+d+"."+e]=a})})})},_setActive:function(a){this.selectedInstance=this.activeEditor=a}})})(tinymce);
(function(f){var h=f.DOM,j=f.dom.Event,d=f.extend,b=f.util.Dispatcher,a=f.each,e=f.isGecko,c=f.isIE,n=f.is,p=f.ThemeManager,l=f.PluginManager,q=f.explode;f.create("tinymce.Editor",{Editor:function(c,e){var h=this;h.id=h.editorId=c;h.execCommands={};h.queryStateCommands={};h.queryValueCommands={};h.isNotDirty=!1;h.plugins={};a("onPreInit onBeforeRenderUI onPostRender onInit onRemove onActivate onDeactivate onClick onEvent onMouseUp onMouseDown onDblClick onKeyDown onKeyUp onKeyPress onContextMenu onSubmit onReset onPaste onPreProcess onPostProcess onBeforeSetContent onBeforeGetContent onSetContent onGetContent onLoadContent onSaveContent onNodeChange onChange onBeforeExecCommand onExecCommand onUndo onRedo onVisualAid onSetProgressState".split(" "),
function(a){h[a]=new b(h)});h.settings=e=d({id:c,language:"en",docs_language:"en",theme:"simple",skin:"default",delta_width:0,delta_height:0,popup_css:"",plugins:"",document_base_url:f.documentBaseURL,add_form_submit_trigger:1,submit_patch:1,add_unload_trigger:1,convert_urls:1,relative_urls:1,remove_script_host:1,table_inline_editing:0,object_resizing:1,cleanup:1,accessibility_focus:1,custom_shortcuts:1,custom_undo_redo_keyboard_shortcuts:1,custom_undo_redo_restore_selection:1,custom_undo_redo:1,
doctype:f.isIE6?'<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">':"<!DOCTYPE>",visual_table_class:"mceItemTable",visual:1,font_size_style_values:"xx-small,x-small,small,medium,large,x-large,xx-large",font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",apply_source_formatting:1,directionality:"ltr",forced_root_block:"p",hidden_input:1,padd_empty_editor:1,render_ui:1,init_theme:1,force_p_newlines:1,indentation:"30px",keep_styles:1,fix_table_elements:1,inline_styles:1,
convert_fonts_to_spans:!0,indent:"simple",indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,ul,li,area,table,thead,tfoot,tbody,tr",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,ul,li,area,table,thead,tfoot,tbody,tr",validate:!0,entity_encoding:"named",url_converter:h.convertURL,url_converter_scope:h,ie7_compat:!0},e);h.documentBaseURI=new f.util.URI(e.document_base_url||f.documentBaseURL,{base_uri:tinyMCE.baseURI});h.baseURI=f.baseURI;h.contentCSS=
[];h.execCallback("setup",h)},render:function(){var b=this,c=b.settings,d=b.id,e=f.ScriptLoader;if(j.domLoaded){if(tinyMCE.settings=c,b.getElement()&&(!f.isIDevice||f.isIOS5))!/TEXTAREA|INPUT/i.test(b.getElement().nodeName)&&(c.hidden_input&&h.getParent(d,"form"))&&h.insertAfter(h.create("input",{type:"hidden",name:d}),d),f.WindowManager&&(b.windowManager=new f.WindowManager(b)),"xml"==c.encoding&&b.onGetContent.add(function(a,b){b.save&&(b.content=h.encode(b.content))}),c.add_form_submit_trigger&&
b.onSubmit.addToTop(function(){b.initialized&&(b.save(),b.isNotDirty=1)}),c.add_unload_trigger&&(b._beforeUnload=tinyMCE.onBeforeUnload.add(function(){b.initialized&&(!b.destroyed&&!b.isHidden())&&b.save({format:"raw",no_events:!0})})),f.addUnload(b.destroy,b),c.submit_patch&&b.onBeforeRenderUI.add(function(){var a=b.getElement().form;a&&!a._mceOldSubmit&&(!a.submit.nodeType&&!a.submit.length&&(b.formElement=a,a._mceOldSubmit=a.submit,a.submit=function(){f.triggerSave();b.isNotDirty=1;return b.formElement._mceOldSubmit(b.formElement)}),
a=null)}),c.language&&!1!==c.language_load&&e.add(f.baseURL+"/langs/"+c.language+".js"),c.theme&&("-"!=c.theme.charAt(0)&&!p.urls[c.theme])&&p.load(c.theme,"themes/"+c.theme+"/editor_template"+f.suffix+".js"),a(q(c.plugins),function(b){b&&!l.urls[b]&&("-"==b.charAt(0)?(b=b.substr(1,b.length),b=l.dependencies(b),a(b,function(a){a=l.createUrl({prefix:"plugins/",resource:a,suffix:"/editor_plugin"+f.suffix+".js"},a);l.load(a.resource,a)})):"safari"!=b&&l.load(b,{prefix:"plugins/",resource:b,suffix:"/editor_plugin"+
f.suffix+".js"}))}),e.loadQueue(function(){b.removed||b.init()})}else j.add(document,"init",function(){b.render()})},init:function(){function b(c){var e=l.get(c),h=l.urls[c]||f.documentBaseURL.replace(/\/$/,"");e&&-1===f.inArray(B,c)&&(a(l.dependencies(c),function(a){b(a)}),e=new e(d,h),d.plugins[c]=e,e.init&&(e.init(d,h),B.push(c)))}var d=this,j=d.settings,n,m,t=d.getElement(),x,C,v,B=[];f.add(d);j.aria_label=j.aria_label||h.getAttrib(t,"aria-label",d.getLang("aria.rich_text_area"));j.theme&&(j.theme=
j.theme.replace(/-/,""),x=p.get(j.theme),d.theme=new x,d.theme.init&&j.init_theme&&d.theme.init(d,p.urls[j.theme]||f.documentBaseURL.replace(/\/$/,"")));a(q(j.plugins.replace(/\-/g,"")),b);!1!==j.popup_css&&(j.popup_css=j.popup_css?d.documentBaseURI.toAbsolute(j.popup_css):d.baseURI.toAbsolute("themes/"+j.theme+"/skins/"+j.skin+"/dialog.css"));j.popup_css_add&&(j.popup_css+=","+d.documentBaseURI.toAbsolute(j.popup_css_add));d.controlManager=new f.ControlManager(d);j.custom_undo_redo&&(d.onBeforeExecCommand.add(function(a,
b,c,g,e){"Undo"!=b&&("Redo"!=b&&"mceRepaint"!=b&&(!e||!e.skip_undo))&&d.undoManager.beforeChange()}),d.onExecCommand.add(function(a,b,c,g,e){"Undo"!=b&&("Redo"!=b&&"mceRepaint"!=b&&(!e||!e.skip_undo))&&d.undoManager.add()}));d.onExecCommand.add(function(a,b){/^(FontName|FontSize)$/.test(b)||d.nodeChanged()});e&&(v=function(a,b){(!b||!b.initial)&&d.execCommand("mceRepaint")},d.onUndo.add(v),d.onRedo.add(v),d.onSetContent.add(v));d.onBeforeRenderUI.dispatch(d,d.controlManager);j.render_ui&&(n=j.width||
t.style.width||t.offsetWidth,m=j.height||t.style.height||t.offsetHeight,d.orgDisplay=t.style.display,v=/^[0-9\.]+(|px)$/i,v.test(""+n)&&(n=Math.max(parseInt(n)+(x.deltaWidth||0),100)),v.test(""+m)&&(m=Math.max(parseInt(m)+(x.deltaHeight||0),100)),x=d.theme.renderUI({targetNode:t,width:n,height:m,deltaWidth:j.delta_width,deltaHeight:j.delta_height}),d.editorContainer=x.editorContainer);document.domain&&location.hostname!=document.domain&&(f.relaxedDomain=document.domain);h.setStyles(x.sizeContainer||
x.editorContainer,{width:n,height:m});j.content_css&&f.each(q(j.content_css),function(a){d.contentCSS.push(d.documentBaseURI.toAbsolute(a))});m=(x.iframeHeight||m)+("number"==typeof m?x.deltaHeight||0:"");100>m&&(m=100);d.iframeHTML=j.doctype+'<html><head xmlns="http://www.w3.org/1999/xhtml">';j.document_base_url!=f.documentBaseURL&&(d.iframeHTML+='<base href="'+d.documentBaseURI.getURI()+'" />');d.iframeHTML=j.ie7_compat?d.iframeHTML+'<meta http-equiv="X-UA-Compatible" content="IE=7" />':d.iframeHTML+
'<meta http-equiv="X-UA-Compatible" content="IE=edge" />';d.iframeHTML+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';for(n=0;n<d.contentCSS.length;n++)d.iframeHTML+='<link type="text/css" rel="stylesheet" href="'+d.contentCSS[n]+'" />';n=j.body_id||"tinymce";-1!=n.indexOf("=")&&(n=d.getParam("body_id","","hash"),n=n[d.id]||n);t=j.body_class||"";-1!=t.indexOf("=")&&(t=d.getParam("body_class","","hash"),t=t[d.id]||"");d.iframeHTML+='</head><body id="'+n+'" class="mceContentBody '+
t+'"><br></body></html>';if(f.relaxedDomain&&(c||f.isOpera&&11>parseFloat(opera.version())))C='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinyMCE.get("'+d.id+'");document.write(ed.iframeHTML);document.close();ed.setupIframe();})()';h.add(x.iframeContainer,"iframe",{id:d.id+"_ifr",src:C||'javascript:""',frameBorder:"0",allowTransparency:"true",title:j.aria_label,style:{width:"100%",height:m,display:"block"}});d.contentAreaContainer=x.iframeContainer;
h.get(x.editorContainer).style.display=d.orgDisplay;h.get(d.id).style.display="none";h.setAttrib(d.id,"aria-hidden",!0);(!f.relaxedDomain||!C)&&d.setupIframe();t=x=null},setupIframe:function(){var b=this,d=b.settings;h.get(b.id);var l=b.getDoc();if(!c||!f.relaxedDomain)l.open(),l.write(b.iframeHTML),l.close(),f.relaxedDomain&&(l.domain=f.relaxedDomain);l=b.getBody();l.disabled=!0;d.readonly||(l.contentEditable=!0);l.disabled=!1;b.schema=new f.html.Schema(d);b.dom=new f.dom.DOMUtils(b.getDoc(),{keep_values:!0,
url_converter:b.convertURL,url_converter_scope:b,hex_colors:d.force_hex_style_colors,class_filter:d.class_filter,update_styles:1,fix_ie_paragraphs:1,schema:b.schema});b.parser=new f.html.DomParser(d,b.schema);b.settings.allow_html_in_named_anchor||b.parser.addAttributeFilter("name",function(a){for(var b=a.length,c,d,g,e;b--;)if(e=a[b],"a"===e.name&&e.firstChild){g=e.parent;c=e.lastChild;do d=c.prev,g.insert(c,e),c=d;while(c)}});b.parser.addAttributeFilter("src,href,style",function(a,c){for(var d=
a.length,e,f=b.dom,k,h;d--;)e=a[d],k=e.attr(c),h="data-mce-"+c,e.attributes.map[h]||("style"===c?e.attr(h,f.serializeStyle(f.parseStyle(k),e.name)):e.attr(h,b.convertURL(k,c,e.name)))});b.parser.addNodeFilter("script",function(a){for(var b=a.length,c;b--;)c=a[b],c.attr("type","mce-"+(c.attr("type")||"text/javascript"))});b.parser.addNodeFilter("#cdata",function(a){for(var b=a.length,c;b--;)c=a[b],c.type=8,c.name="#comment",c.value="[CDATA["+c.value+"]]"});b.parser.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",
function(a){for(var c=a.length,d,e=b.schema.getNonEmptyElements();c--;)d=a[c],d.isEmpty(e)&&(d.empty().append(new f.html.Node("br",1)).shortEnded=!0)});b.serializer=new f.dom.Serializer(d,b.dom,b.schema);b.selection=new f.dom.Selection(b.dom,b.getWin(),b.serializer);b.formatter=new f.Formatter(this);b.formatter.register({alignleft:[{selector:"p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li",styles:{textAlign:"left"}},{selector:"img,table",collapsed:!1,styles:{"float":"left"}}],aligncenter:[{selector:"p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li",
styles:{textAlign:"center"}},{selector:"img",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"}},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"}}],alignright:[{selector:"p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li",styles:{textAlign:"right"}},{selector:"img,table",collapsed:!1,styles:{"float":"right"}}],alignfull:[{selector:"p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li",styles:{textAlign:"justify"}}],bold:[{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}},
{inline:"b",remove:"all"}],italic:[{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all"}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all"}],forecolor:{inline:"span",styles:{color:"%value"},wrap_links:!1},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},wrap_links:!1},fontname:{inline:"span",
styles:{fontFamily:"%value"}},fontsize:{inline:"span",styles:{fontSize:"%value"}},fontsize_class:{inline:"span",attributes:{"class":"%value"}},blockquote:{block:"blockquote",wrapper:1,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(){return!0},onformat:function(c,d,e){a(e,function(a,d){b.dom.setAttrib(c,d,a)})}},removeformat:[{selector:"b,strong,em,i,font,u,strike,sup,sub",remove:"all",split:!0,expand:!1,
block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]});a("p h1 h2 h3 h4 h5 h6 div address pre div code dt dd samp".split(/\s/),function(a){b.formatter.register(a,{block:a,remove:"all"})});b.formatter.register(b.settings.formats);b.undoManager=new f.UndoManager(b);b.undoManager.onAdd.add(function(a,c){if(a.hasUndo())return b.onChange.dispatch(b,c,a)});b.undoManager.onUndo.add(function(a,
c){return b.onUndo.dispatch(b,c,a)});b.undoManager.onRedo.add(function(a,c){return b.onRedo.dispatch(b,c,a)});b.forceBlocks=new f.ForceBlocks(b,{forced_root_block:d.forced_root_block});b.editorCommands=new f.EditorCommands(b);b.serializer.onPreProcess.add(function(a,c){return b.onPreProcess.dispatch(b,c,a)});b.serializer.onPostProcess.add(function(a,c){return b.onPostProcess.dispatch(b,c,a)});b.onPreInit.dispatch(b);d.gecko_spellcheck||(b.getBody().spellcheck=0);d.readonly||b._addEvents();b.controlManager.onPostRender.dispatch(b,
b.controlManager);b.onPostRender.dispatch(b);b.quirks=new f.util.Quirks(this);d.directionality&&(b.getBody().dir=d.directionality);d.nowrap&&(b.getBody().style.whiteSpace="nowrap");d.handle_node_change_callback&&b.onNodeChange.add(function(a,c,d){b.execCallback("handle_node_change_callback",b.id,d,-1,-1,!0,b.selection.isCollapsed())});d.save_callback&&b.onSaveContent.add(function(a,c){var d=b.execCallback("save_callback",b.id,c.content,b.getBody());d&&(c.content=d)});d.onchange_callback&&b.onChange.add(function(a,
c){b.execCallback("onchange_callback",b,c)});d.protect&&b.onBeforeSetContent.add(function(b,c){d.protect&&a(d.protect,function(a){c.content=c.content.replace(a,function(a){return"\x3c!--mce:protected "+escape(a)+"--\x3e"})})});d.convert_newlines_to_brs&&b.onBeforeSetContent.add(function(a,b){b.initial&&(b.content=b.content.replace(/\r?\n/g,"<br />"))});d.preformatted&&b.onPostProcess.add(function(a,b){b.content=b.content.replace(/^\s*<pre.*?>/,"");b.content=b.content.replace(/<\/pre>\s*$/,"");b.set&&
(b.content='<pre class="mceItemHidden">'+b.content+"</pre>")});d.verify_css_classes&&(b.serializer.attribValueFilter=function(c,d){var e,f;return"class"==c?(b.classesRE||(f=b.dom.getClasses(),0<f.length&&(e="",a(f,function(a){e+=(e?"|":"")+a["class"]}),b.classesRE=RegExp("("+e+")","gi"))),!b.classesRE||/(\bmceItem\w+\b|\bmceTemp\w+\b)/g.test(d)||b.classesRE.test(d)?d:""):d});d.cleanup_callback&&(b.onBeforeSetContent.add(function(a,c){c.content=b.execCallback("cleanup_callback","insert_to_editor",
c.content,c)}),b.onPreProcess.add(function(a,c){c.set&&b.execCallback("cleanup_callback","insert_to_editor_dom",c.node,c);c.get&&b.execCallback("cleanup_callback","get_from_editor_dom",c.node,c)}),b.onPostProcess.add(function(a,c){c.set&&(c.content=b.execCallback("cleanup_callback","insert_to_editor",c.content,c));c.get&&(c.content=b.execCallback("cleanup_callback","get_from_editor",c.content,c))}));d.save_callback&&b.onGetContent.add(function(a,c){c.save&&(c.content=b.execCallback("save_callback",
b.id,c.content,b.getBody()))});d.handle_event_callback&&b.onEvent.add(function(a,c,d){!1===b.execCallback("handle_event_callback",c,a,d)&&j.cancel(c)});b.onSetContent.add(function(){b.addVisual(b.getBody())});d.padd_empty_editor&&b.onPostProcess.add(function(a,b){b.content=b.content.replace(/^(<p[^>]*>(&nbsp;|&#160;|\s|\u00a0|)<\/p>[\r\n]*|<br \/>[\r\n]*)$/,"")});if(e){var n=function(b){a(b.dom.select("a"),function(a){var c=a.parentNode;b.dom.isBlock(c)&&c.lastChild===a&&b.dom.add(c,"br",{"data-mce-bogus":1})})};
b.onExecCommand.add(function(a,b){"CreateLink"===b&&n(a)});b.onSetContent.add(b.selection.onSetContent.add(n))}b.load({initial:!0,format:"html"});b.startContent=b.getContent({format:"raw"});b.undoManager.add();b.initialized=!0;b.onInit.dispatch(b);b.execCallback("setupcontent_callback",b.id,b.getBody(),b.getDoc());b.execCallback("init_instance_callback",b);b.focus(!0);b.nodeChanged({initial:1});a(b.contentCSS,function(a){b.dom.loadCSS(a)});d.auto_focus&&setTimeout(function(){var a=f.get(d.auto_focus);
a.selection.select(a.getBody(),1);a.selection.collapse(1);a.getBody().focus();a.getWin().focus()},100)},focus:function(a){var b,c=this.selection,d=this.settings.content_editable,e,h=this.getDoc();a||(a=c.getRng(),a.item&&(e=a.item(0)),this._refreshContentEditable(),c.normalize(),d||this.getWin().focus(),f.isGecko&&this.getBody().focus(),e&&e.ownerDocument==h&&(a=h.body.createControlRange(),a.addElement(e),a.select()));f.activeEditor!=this&&(null!=(b=f.activeEditor)&&b.onDeactivate.dispatch(b,this),
this.onActivate.dispatch(this,b));f._setActive(this)},execCallback:function(a){var b=this.settings[a],c;if(b){if(this.callbackLookup&&(c=this.callbackLookup[a]))b=c.func,c=c.scope;n(b,"string")&&(c=(c=b.replace(/\.\w+$/,""))?f.resolve(c):0,b=f.resolve(b),this.callbackLookup=this.callbackLookup||{},this.callbackLookup[a]={func:b,scope:c});return b.apply(c||this,Array.prototype.slice.call(arguments,1))}},translate:function(a){var b=this.settings.language||"en",c=f.i18n;return!a?"":c[b+"."+a]||a.replace(/{\#([^}]+)\}/g,
function(a,d){return c[b+"."+d]||"{#"+d+"}"})},getLang:function(a,b){return f.i18n[(this.settings.language||"en")+"."+a]||(n(b)?b:"{#"+a+"}")},getParam:function(b,c,d){var e=f.trim;b=n(this.settings[b])?this.settings[b]:c;var h;return"hash"===d?(h={},n(b,"string")?a(0<b.indexOf("=")?b.split(/[;,](?![^=;,]*(?:[;,]|$))/):b.split(","),function(a){a=a.split("=");1<a.length?h[e(a[0])]=e(a[1]):h[e(a[0])]=e(a)}):h=b,h):b},nodeChanged:function(a){var b=this.selection,d=b.getStart()||this.getBody();this.initialized&&
(a=a||{},d=c&&d.ownerDocument!=this.getDoc()?this.getBody():d,a.parents=[],this.dom.getParent(d,function(b){if("BODY"==b.nodeName)return!0;a.parents.push(b)}),this.onNodeChange.dispatch(this,a?a.controlManager||this.controlManager:this.controlManager,d,b.isCollapsed(),a))},addButton:function(a,b){this.buttons=this.buttons||{};this.buttons[a]=b},addCommand:function(a,b,c){this.execCommands[a]={func:b,scope:c||this}},addQueryStateHandler:function(a,b,c){this.queryStateCommands[a]={func:b,scope:c||this}},
addQueryValueHandler:function(a,b,c){this.queryValueCommands[a]={func:b,scope:c||this}},addShortcut:function(b,c,d,e){var f=this,h;if(!f.settings.custom_shortcuts)return!1;f.shortcuts=f.shortcuts||{};n(d,"string")&&(h=d,d=function(){f.execCommand(h,!1,null)});n(d,"object")&&(h=d,d=function(){f.execCommand(h[0],h[1],h[2])});a(q(b),function(b){var g={func:d,scope:e||this,desc:c,alt:!1,ctrl:!1,shift:!1};a(q(b,"+"),function(a){switch(a){case "alt":case "ctrl":case "shift":g[a]=!0;break;default:g.charCode=
a.charCodeAt(0),g.keyCode=a.toUpperCase().charCodeAt(0)}});f.shortcuts[(g.ctrl?"ctrl":"")+","+(g.alt?"alt":"")+","+(g.shift?"shift":"")+","+g.keyCode]=g});return!0},execCommand:function(b,c,d,e){var f=this,h=0,j;!/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint|SelectAll)$/.test(b)&&(!e||!e.skip_focus)&&f.focus();j={};f.onBeforeExecCommand.dispatch(f,b,c,d,j);if(j.terminate)return!1;if(f.execCallback("execcommand_callback",f.id,f.selection.getNode(),b,c,d))return f.onExecCommand.dispatch(f,
b,c,d,e),!0;if(j=f.execCommands[b])if(j=j.func.call(j.scope,c,d),!0!==j)return f.onExecCommand.dispatch(f,b,c,d,e),j;a(f.plugins,function(a){if(a.execCommand&&a.execCommand(b,c,d))return f.onExecCommand.dispatch(f,b,c,d,e),h=1,!1});if(h)return!0;if(f.theme&&f.theme.execCommand&&f.theme.execCommand(b,c,d)||f.editorCommands.execCommand(b,c,d))return f.onExecCommand.dispatch(f,b,c,d,e),!0;f.getDoc().execCommand(b,c,d);f.onExecCommand.dispatch(f,b,c,d,e)},queryCommandState:function(a){var b;if(!this._isHidden()){if(b=
this.queryStateCommands[a])if(b=b.func.call(b.scope),!0!==b)return b;b=this.editorCommands.queryCommandState(a);if(-1!==b)return b;try{return this.getDoc().queryCommandState(a)}catch(c){}}},queryCommandValue:function(a){var b;if(!this._isHidden()){if(b=this.queryValueCommands[a])if(b=b.func.call(b.scope),!0!==b)return b;b=this.editorCommands.queryCommandValue(a);if(n(b))return b;try{return this.getDoc().queryCommandValue(a)}catch(c){}}},show:function(){h.show(this.getContainer());h.hide(this.id);
this.load()},hide:function(){var a=this.getDoc();c&&a&&a.execCommand("SelectAll");this.save();h.hide(this.getContainer());h.setStyle(this.id,"display",this.orgDisplay)},isHidden:function(){return!h.isHidden(this.id)},setProgressState:function(a,b,c){this.onSetProgressState.dispatch(this,a,b,c);return a},load:function(a){var b=this.getElement(),c;if(b)return a=a||{},a.load=!0,c=this.setContent(n(b.value)?b.value:b.innerHTML,a),a.element=b,a.no_events||this.onLoadContent.dispatch(this,a),a.element=
null,c},save:function(b){var c=this,d=c.getElement(),e,f;if(d&&c.initialized)return b=b||{},b.save=!0,b.no_events||(c.undoManager.typing=!1,c.undoManager.add()),b.element=d,e=b.content=c.getContent(b),b.no_events||c.onSaveContent.dispatch(c,b),e=b.content,/TEXTAREA|INPUT/i.test(d.nodeName)?d.value=e:(d.innerHTML=e,(f=h.getParent(c.id,"form"))&&a(f.elements,function(a){if(a.name==c.id)return a.value=e,!1})),b.element=d=null,e},setContent:function(a,b){var c=this.getBody(),d;b=b||{};b.format=b.format||
"html";b.set=!0;b.content=a;b.no_events||this.onBeforeSetContent.dispatch(this,b);a=b.content;if(!f.isIE&&(0===a.length||/^\s+$/.test(a)))d=this.settings.forced_root_block,c.innerHTML=d?"<"+d+'><br data-mce-bogus="1"></'+d+">":'<br data-mce-bogus="1">',this.selection.select(c,!0),this.selection.collapse(!0);else return"raw"!==b.format&&(a=(new f.html.Serializer({},this.schema)).serialize(this.parser.parse(a))),b.content=f.trim(a),this.dom.setHTML(c,b.content),b.no_events||this.onSetContent.dispatch(this,
b),this.selection.normalize(),b.content},getContent:function(a){var b;a=a||{};a.format=a.format||"html";a.get=!0;a.no_events||this.onBeforeGetContent.dispatch(this,a);b="raw"==a.format?this.getBody().innerHTML:this.serializer.serialize(this.getBody(),a);a.content=f.trim(b);a.no_events||this.onGetContent.dispatch(this,a);return a.content},isDirty:function(){return f.trim(this.startContent)!=f.trim(this.getContent({format:"raw",no_events:1}))&&!this.isNotDirty},getContainer:function(){this.container||
(this.container=h.get(this.editorContainer||this.id+"_parent"));return this.container},getContentAreaContainer:function(){return this.contentAreaContainer},getElement:function(){return h.get(this.settings.content_element||this.id)},getWin:function(){var a;if(!this.contentWindow&&(a=h.get(this.id+"_ifr")))this.contentWindow=a.contentWindow;return this.contentWindow},getDoc:function(){var a;if(!this.contentDocument&&(a=this.getWin()))this.contentDocument=a.document;return this.contentDocument},getBody:function(){return this.bodyElement||
this.getDoc().body},convertURL:function(a,b,c){var d=this.settings;return d.urlconverter_callback?this.execCallback("urlconverter_callback",a,c,!0,b):!d.convert_urls||c&&"LINK"==c.nodeName||0===a.indexOf("file:")?a:d.relative_urls?this.documentBaseURI.toRelative(a):a=this.documentBaseURI.toAbsolute(a,d.remove_script_host)},addVisual:function(b){var c=this,d=c.settings;b=b||c.getBody();n(c.hasVisual)||(c.hasVisual=d.visual);a(c.dom.select("table,a",b),function(a){var b;switch(a.nodeName){case "TABLE":b=
c.dom.getAttrib(a,"border");if(!b||"0"==b)c.hasVisual?c.dom.addClass(a,d.visual_table_class):c.dom.removeClass(a,d.visual_table_class);break;case "A":(b=c.dom.getAttrib(a,"name"))&&(c.hasVisual?c.dom.addClass(a,"mceItemAnchor"):c.dom.removeClass(a,"mceItemAnchor"))}});c.onVisualAid.dispatch(c,b,c.hasVisual)},remove:function(){var a=this.getContainer();this.removed=1;this.hide();this.execCallback("remove_instance_callback",this);this.onRemove.dispatch(this);this.onExecCommand.listeners=[];f.remove(this);
h.remove(a)},destroy:function(a){this.destroyed||(a||(f.removeUnload(this.destroy),tinyMCE.onBeforeUnload.remove(this._beforeUnload),this.theme&&this.theme.destroy&&this.theme.destroy(),this.controlManager.destroy(),this.selection.destroy(),this.dom.destroy(),this.settings.content_editable||(j.clear(this.getWin()),j.clear(this.getDoc())),j.clear(this.getBody()),j.clear(this.formElement)),this.formElement&&(this.formElement.submit=this.formElement._mceOldSubmit,this.formElement._mceOldSubmit=null),
this.contentAreaContainer=this.formElement=this.container=this.settings.content_element=this.bodyElement=this.contentDocument=this.contentWindow=null,this.selection&&(this.selection=this.selection.win=this.selection.dom=this.selection.dom.doc=null),this.destroyed=1)},_addEvents:function(){function b(a,d){c.removed||!1!==c.onEvent.dispatch(c,a,d)&&c[n[a.fakeType||a.type]].dispatch(c,a,d)}var c=this,d,l=c.settings,m=c.dom,n={mouseup:"onMouseUp",mousedown:"onMouseDown",click:"onClick",keyup:"onKeyUp",
keydown:"onKeyDown",keypress:"onKeyPress",submit:"onSubmit",reset:"onReset",contextmenu:"onContextMenu",dblclick:"onDblClick",paste:"onPaste"};a(n,function(a,d){switch(d){case "contextmenu":m.bind(c.getDoc(),d,b);break;case "paste":m.bind(c.getBody(),d,function(a){b(a)});break;case "submit":case "reset":m.bind(c.getElement().form||h.getParent(c.id,"form"),d,b);break;default:m.bind(l.content_editable?c.getBody():c.getDoc(),d,b)}});m.bind(l.content_editable?c.getBody():e?c.getDoc():c.getWin(),"focus",
function(){c.focus(!0)});f.isGecko&&m.bind(c.getDoc(),"DOMNodeInserted",function(a){var b;a=a.target;if(1===a.nodeType&&"IMG"===a.nodeName&&(b=a.getAttribute("data-mce-src")))a.src=c.documentBaseURI.toAbsolute(b)});e&&(d=function(){var a=this.getDoc(),b=this.settings;if(e&&!b.readonly){this._refreshContentEditable();try{a.execCommand("styleWithCSS",0,!1)}catch(c){if(!this._isHidden())try{a.execCommand("useCSS",0,!0)}catch(d){}}if(!b.table_inline_editing)try{a.execCommand("enableInlineTableEditing",
!1,!1)}catch(f){}if(!b.object_resizing)try{a.execCommand("enableObjectResizing",!1,!1)}catch(g){}}},c.onBeforeExecCommand.add(d),c.onMouseDown.add(d));c.onMouseUp.add(c.nodeChanged);c.onKeyUp.add(function(a,b){var d=b.keyCode;(33<=d&&36>=d||37<=d&&40>=d||13==d||45==d||46==d||8==d||f.isMac&&(91==d||93==d)||b.ctrlKey)&&c.nodeChanged()});c.onKeyDown.add(function(a,b){if(8==b.keyCode){for(var c=a.selection.getRng().startContainer,d=a.selection.getRng().startOffset;c&&c.nodeType&&1!=c.nodeType&&c.parentNode;)c=
c.parentNode;c&&(c.parentNode&&"BLOCKQUOTE"===c.parentNode.tagName&&c.parentNode.firstChild==c&&0==d)&&(a.formatter.toggle("blockquote",null,c.parentNode),d=a.selection.getRng(),d.setStart(c,0),d.setEnd(c,0),a.selection.setRng(d),a.selection.collapse(!1))}});c.onReset.add(function(){c.setContent(c.startContent,{format:"raw"})});if(l.custom_shortcuts){l.custom_undo_redo_keyboard_shortcuts&&(c.addShortcut("ctrl+z",c.getLang("undo_desc"),"Undo"),c.addShortcut("ctrl+y",c.getLang("redo_desc"),"Redo"));
c.addShortcut("ctrl+b",c.getLang("bold_desc"),"Bold");c.addShortcut("ctrl+i",c.getLang("italic_desc"),"Italic");c.addShortcut("ctrl+u",c.getLang("underline_desc"),"Underline");for(d=1;6>=d;d++)c.addShortcut("ctrl+"+d,"",["FormatBlock",!1,"h"+d]);c.addShortcut("ctrl+7","",["FormatBlock",!1,"p"]);c.addShortcut("ctrl+8","",["FormatBlock",!1,"div"]);c.addShortcut("ctrl+9","",["FormatBlock",!1,"address"]);var p=function(b){var d=null;if(!b.altKey&&!b.ctrlKey&&!b.metaKey)return d;a(c.shortcuts,function(a){if(!(f.isMac&&
a.ctrl!=b.metaKey)&&(f.isMac||a.ctrl==b.ctrlKey))if(a.alt==b.altKey&&a.shift==b.shiftKey&&(b.keyCode==a.keyCode||b.charCode&&b.charCode==a.charCode))return d=a,!1});return d};c.onKeyUp.add(function(a,b){if(p(b))return j.cancel(b)});c.onKeyPress.add(function(a,b){if(p(b))return j.cancel(b)});c.onKeyDown.add(function(a,b){var c=p(b);if(c)return c.func.call(c.scope),j.cancel(b)})}f.isIE&&m.bind(c.getDoc(),"controlselect",function(a){var b=c.resizeInfo;a=a.target;"IMG"===a.nodeName&&(b&&m.unbind(b.node,
b.ev,b.cb),m.hasClass(a,"mceItemNoResize")?(ev="resizestart",b=m.bind(a,"resizestart",j.cancel,j)):(ev="resizeend",b=m.bind(a,ev,function(a){var b;a=a.target;if(b=m.getStyle(a,"width"))m.setAttrib(a,"width",b.replace(/[^0-9%]+/g,"")),m.setStyle(a,"width","");if(b=m.getStyle(a,"height"))m.setAttrib(a,"height",b.replace(/[^0-9%]+/g,"")),m.setStyle(a,"height","")})),b=c.resizeInfo={node:a,ev:ev,cb:b})});f.isOpera&&c.onClick.add(function(a,b){j.prevent(b)});if(l.custom_undo_redo){var q=function(){c.undoManager.typing=
!1;c.undoManager.add()};m.bind(c.getDoc(),"focusout",function(){!c.removed&&c.undoManager.typing&&q()});c.dom.bind(c.dom.getRoot(),"dragend",function(){q()});c.onKeyUp.add(function(a,b){var c=b.keyCode;(33<=c&&36>=c||37<=c&&40>=c||13==c||45==c||b.ctrlKey)&&q()});c.onKeyDown.add(function(a,b){var d=b.keyCode,e;if(8==d&&(e=c.getDoc().selection)&&e.createRange&&e.createRange().item)return c.undoManager.beforeChange(),a.dom.remove(e.createRange().item(0)),q(),j.cancel(b);if(33<=d&&36>=d||37<=d&&40>=d||
13==d||45==d)f.isIE&&13==d&&c.undoManager.beforeChange(),c.undoManager.typing&&q();else if((16>d||20<d)&&224!=d&&91!=d&&!c.undoManager.typing)c.undoManager.beforeChange(),c.undoManager.typing=!0,c.undoManager.add()});c.onMouseDown.add(function(){c.undoManager.typing&&q()})}if(f.isGecko){var v=function(){var b=c.dom.getAttribs(c.selection.getStart().cloneNode(!1));return function(){var d=c.selection.getStart();d!==c.getBody()&&(c.dom.setAttrib(d,"style",null),a(b,function(a){d.setAttributeNode(a.cloneNode(!0))}))}},
B=function(){var a=c.selection;return!a.isCollapsed()&&a.getStart()!=a.getEnd()};c.onKeyPress.add(function(a,b){var d;if((8==b.keyCode||46==b.keyCode)&&B())return d=v(),c.getDoc().execCommand("delete",!1,null),d(),j.cancel(b)});c.dom.bind(c.getDoc(),"cut",function(){var a;B()&&(a=v(),c.onKeyUp.addToTop(j.cancel,j),setTimeout(function(){a();c.onKeyUp.remove(j.cancel,j)},0))})}},_refreshContentEditable:function(){var a,b;this._isHidden()&&(a=this.getBody(),b=a.parentNode,b.removeChild(a),b.appendChild(a),
a.focus())},_isHidden:function(){var a;if(!e)return 0;a=this.selection.getSel();return!a||!a.rangeCount||0==a.rangeCount}})})(tinymce);
(function(f){var h=f.each,j=!0,d=!1;f.EditorCommands=function(b){function a(a,b,c){var e;a=a.toLowerCase();return(e=g.exec[a])?(e(a,b,c),j):d}function e(a){var b;a=a.toLowerCase();return(b=g.state[a])?b(a):-1}function c(a,b){b=b||"exec";h(a,function(a,c){h(c.toLowerCase().split(","),function(c){g[b][c]=a})})}function n(a,c,e){void 0===c&&(c=d);void 0===e&&(e=null);return b.getDoc().execCommand(a,c,e)}function p(a,b){r.toggle(a,b?{value:b}:void 0)}var l=b.dom,q=b.selection,g={state:{},exec:{},value:{}},
k=b.settings,r=b.formatter,u;f.extend(this,{execCommand:a,queryCommandState:e,queryCommandValue:function(a){var b;a=a.toLowerCase();return(b=g.value[a])?b(a):d},addCommands:c});c({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){b.undoManager.add()},"Cut,Copy,Paste":function(a){var c=b.getDoc(),d;try{n(a)}catch(e){d=j}if(d||!c.queryCommandSupported(a))f.isGecko?b.windowManager.confirm(b.getLang("clipboard_msg"),function(a){a&&open("http://www.mozilla.org/editor/midasdemo/securityprefs.html",
"_blank")}):b.windowManager.alert(b.getLang("clipboard_no_support"))},unlink:function(a){q.isCollapsed()&&q.select(q.getNode());n(a);q.collapse(d)},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(b){var c=b.substring(7);h(["left","center","right","full"],function(a){c!=a&&r.remove("align"+a)});p("align"+c);a("mceRepaint")},"InsertUnorderedList,InsertOrderedList":function(a){var b;n(a);if(a=l.getParent(q.getNode(),"ol,ul"))b=a.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(b.nodeName)&&(u=
q.getBookmark(void 0),l.split(b,a),q.moveToBookmark(u))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(a){p(a)},"ForeColor,HiliteColor,FontName":function(a,b,c){p(a,c)},FontSize:function(a,b,c){var d;1<=c&&7>=c&&(d=f.explode(k.font_size_style_values),c=(b=f.explode(k.font_size_classes))?b[c-1]||c:d[c-1]||c);p(a,c)},RemoveFormat:function(a){r.remove(a)},mceBlockQuote:function(){p("blockquote")},FormatBlock:function(a,b,c){return p(c||"p")},mceCleanup:function(){var a=q.getBookmark();
b.setContent(b.getContent({cleanup:j}),{cleanup:j});q.moveToBookmark(a)},mceRemoveNode:function(a,c,d){a=d||q.getNode();a!=b.getBody()&&(u=q.getBookmark(void 0),b.dom.remove(a,j),q.moveToBookmark(u))},mceSelectNodeDepth:function(a,c,e){var f=0;l.getParent(q.getNode(),function(a){if(1==a.nodeType&&f++==e)return q.select(a),d},b.getBody())},mceSelectNode:function(a,b,c){q.select(c)},mceInsertContent:function(a,c,d){var e,g,h,j,k;e=b.parser;g=new f.html.Serializer({},b.schema);a={content:d,format:"html"};
q.onBeforeSetContent.dispatch(q,a);d=a.content;-1==d.indexOf("{$caret}")&&(d+="{$caret}");d=d.replace(/\{\$caret\}/,'<span id="mce_marker" data-mce-type="bookmark">\ufeff</span>');q.isCollapsed()||b.getDoc().execCommand("Delete",!1,null);h=q.getNode();a={context:h.nodeName.toLowerCase()};k=e.parse(d,a);c=k.lastChild;if("mce_marker"==c.attr("id")){d=c;for(c=c.prev;c;c=c.walk(!0))if(3==c.type||!l.isBlock(c.name)){c.parent.insert(d,c,"br"===c.name);break}}if(a.invalid){q.setContent('<span id="mce_marker" data-mce-type="bookmark">\ufeff</span>');
h=b.selection.getNode();j=b.getBody();for(9==h.nodeType?h=c=j:c=h;c!==j;)h=c,c=c.parentNode;d=h==j?j.innerHTML:l.getOuterHTML(h);d=g.serialize(e.parse(d.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return g.serialize(k)})));h==j?l.setHTML(j,d):l.setOuterHTML(h,d)}else d=g.serialize(k),c=h.firstChild,e=h.lastChild,!c||c===e&&"BR"===c.nodeName?l.setHTML(h,d):q.setContent(d);d=l.get("mce_marker");c=l.getRect(d);h=l.getViewPort(b.getWin());if(c.y+c.h>h.y+h.h||c.y<h.y||c.x>h.x+
h.w||c.x<h.x)e=f.isIE?b.getDoc().documentElement:b.getBody(),e.scrollLeft=c.x,e.scrollTop=c.y-h.h+25;h=l.createRng();(c=d.previousSibling)&&3==c.nodeType?h.setStart(c,c.nodeValue.length):(h.setStartBefore(d),h.setEndBefore(d));l.remove(d);q.setRng(h);q.onSetContent.dispatch(q,a);b.addVisual()},mceInsertRawHTML:function(a,c,d){q.setContent("tiny_mce_marker");b.setContent(b.getContent().replace(/tiny_mce_marker/g,function(){return d}))},mceSetContent:function(a,c,d){b.setContent(d)},"Indent,Outdent":function(a){var b,
c,d;b=k.indentation;c=/[a-z%]+$/i.exec(b);b=parseInt(b);!e("InsertUnorderedList")&&!e("InsertOrderedList")?h(q.getSelectedBlocks(),function(e){"outdent"==a?(d=Math.max(0,parseInt(e.style.paddingLeft||0)-b),l.setStyle(e,"paddingLeft",d?d+c:"")):l.setStyle(e,"paddingLeft",parseInt(e.style.paddingLeft||0)+b+c)}):n(a)},mceRepaint:function(){if(f.isGecko)try{u=q.getBookmark(j),q.getSel()&&q.getSel().selectAllChildren(b.getBody()),q.collapse(j),q.moveToBookmark(u)}catch(a){}},mceToggleFormat:function(a,
b,c){r.toggle(c)},InsertHorizontalRule:function(){b.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){b.hasVisual=!b.hasVisual;b.addVisual()},mceReplaceContent:function(a,c,d){b.execCommand("mceInsertContent",!1,d.replace(/\{\$selection\}/g,q.getContent({format:"text"})))},mceInsertLink:function(a,b,c){"string"==typeof c&&(c={href:c});a=l.getParent(q.getNode(),"a");c.href=c.href.replace(" ","%20");(!a||!c.href)&&r.remove("link");c.href&&r.apply("link",c,a)},selectAll:function(){var a=
l.getRoot(),c=l.createRng();c.setStart(a,0);c.setEnd(a,a.childNodes.length);b.selection.setRng(c)}});c({"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(a){a="align"+a.substring(7);return r.match(a)},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(a){return r.match(a)},mceBlockQuote:function(){return r.match("blockquote")},Outdent:function(){var a;return k.inline_styles&&((a=l.getParent(q.getStart(),l.isBlock))&&0<parseInt(a.style.paddingLeft)||(a=l.getParent(q.getEnd(),
l.isBlock))&&0<parseInt(a.style.paddingLeft))?j:e("InsertUnorderedList")||e("InsertOrderedList")||!k.inline_styles&&!!l.getParent(q.getNode(),"BLOCKQUOTE")},"InsertUnorderedList,InsertOrderedList":function(a){return l.getParent(q.getNode(),"insertunorderedlist"==a?"UL":"OL")}},"state");c({"FontSize,FontName":function(a){var b=0,c;if(c=l.getParent(q.getNode(),"span"))b="fontsize"==a?c.style.fontSize:c.style.fontFamily.replace(/, /g,",").replace(/[\'\"]/g,"").toLowerCase();return b}},"value");k.custom_undo_redo&&
c({Undo:function(){b.undoManager.undo()},Redo:function(){b.undoManager.redo()}})}})(tinymce);
(function(f){var h=f.util.Dispatcher;f.UndoManager=function(j){var d,b=0,a=[],e;return d={typing:!1,onAdd:new h(d),onUndo:new h(d),onRedo:new h(d),beforeChange:function(){e=j.selection.getBookmark(2,!0)},add:function(c){var h;h=j.settings;var p;c=c||{};c.content=f.trim(j.getContent({format:"raw",no_events:1}));if((p=a[b])&&p.content==c.content)return null;a[b]&&(a[b].beforeBookmark=e);if(h.custom_undo_redo_levels&&a.length>h.custom_undo_redo_levels){for(h=0;h<a.length-1;h++)a[h]=a[h+1];a.length--;
b=a.length}c.bookmark=j.selection.getBookmark(2,!0);b<a.length-1&&(a.length=b+1);a.push(c);b=a.length-1;d.onAdd.dispatch(d,c);j.isNotDirty=0;return c},undo:function(){var c;d.typing&&(d.add(),d.typing=!1);0<b&&(c=a[--b],j.setContent(c.content,{format:"raw"}),j.selection.moveToBookmark(c.beforeBookmark),d.onUndo.dispatch(d,c));return c},redo:function(){var c;b<a.length-1&&(c=a[++b],j.setContent(c.content,{format:"raw"}),j.selection.moveToBookmark(c.bookmark),d.onRedo.dispatch(d,c));return c},clear:function(){a=
[];b=0;d.typing=!1},hasUndo:function(){return 0<b||this.typing},hasRedo:function(){return b<a.length-1&&!this.typing}}}})(tinymce);
(function(f){var h=f.dom.Event,j=f.isIE,d=f.isGecko,b=f.isOpera,a=!1;f.create("tinymce.ForceBlocks",{ForceBlocks:function(a){var b=a.settings,d;this.editor=a;this.dom=a.dom;d=(b.forced_root_block||"p").toLowerCase();b.element=d.toUpperCase();a.onPreInit.add(this.setup,this)},setup:function(){var a=this,b=a.editor,n=b.settings,p=b.dom,l=b.selection,q=b.schema.getBlockElements();if(n.forced_root_block){var g=function(){var a=l.getStart(),d=b.getBody(),e,f,g,h,j,v,B;if(a&&1===a.nodeType){for(;a!=d;){if(q[a.nodeName])return;
a=a.parentNode}e=l.getRng();e.setStart?(f=e.startContainer,g=e.startOffset,h=e.endContainer,j=e.endOffset):(e.item&&(e=b.getDoc().body.createTextRange(),e.moveToElementText(e.item(0))),tmpRng=e.duplicate(),tmpRng.collapse(!0),g=-1*tmpRng.move("character",-16777215),tmpRng.collapsed||(tmpRng=e.duplicate(),tmpRng.collapse(!1),j=-1*tmpRng.move("character",-16777215)-g));for(a=d.firstChild;a;a)3===a.nodeType||1==a.nodeType&&!q[a.nodeName]?(v||(v=p.create(n.forced_root_block),a.parentNode.insertBefore(v,
a)),B=a,a=a.nextSibling,v.appendChild(B)):(v=null,a=a.nextSibling);if(e.setStart)e.setStart(f,g),e.setEnd(h,j),l.setRng(e);else try{e=b.getDoc().body.createTextRange(),e.moveToElementText(d),e.collapse(!0),e.moveStart("character",g),0<j&&e.moveEnd("character",j),e.select()}catch(z){}b.nodeChanged()}};b.onKeyUp.add(g);b.onClick.add(g)}n.force_br_newlines&&j&&b.onKeyPress.add(function(a,b){var c;if(13==b.keyCode&&"LI"!=l.getNode().nodeName)return l.setContent('<br id="__" /> ',{format:"raw"}),c=p.get("__"),
c.removeAttribute("id"),l.select(c),l.collapse(),h.cancel(b)});n.force_p_newlines&&(j?(f.addUnload(function(){a._previousFormats=0}),b.onKeyPress.add(function(b,c){a._previousFormats=0;if(13==c.keyCode&&!c.shiftKey&&b.selection.isCollapsed()&&n.keep_styles){var d;d=b.selection.getStart();var f,g,h;do/^(SPAN|STRONG|B|EM|I|FONT|STRIKE|U)$/.test(d.nodeName)&&(f?(g=d.cloneNode(!1),g.appendChild(f),f=g):f=h=d.cloneNode(!1),f.removeAttribute("id"));while(d=d.parentNode);d=f?{wrapper:f,inner:h}:void 0;a._previousFormats=
d}}),b.onKeyUp.add(function(b,c){if(13==c.keyCode&&!c.shiftKey){var d=b.selection.getStart(),f=a._previousFormats;if(!d.hasChildNodes()&&f&&(d=p.getParent(d,p.isBlock))&&"LI"!=d.nodeName)d.innerHTML="",a._previousFormats?(d.appendChild(f.wrapper),f.inner.innerHTML="\ufeff"):d.innerHTML="\ufeff",l.select(d,1),l.collapse(!0),b.getDoc().execCommand("Delete",!1,null),a._previousFormats=0}})):b.onKeyPress.add(function(b,c){13==c.keyCode&&(!c.shiftKey&&!a.insertPara(c))&&h.cancel(c)}),d&&b.onKeyDown.add(function(b,
c){(8==c.keyCode||46==c.keyCode)&&!c.shiftKey&&a.backspaceDelete(c,8==c.keyCode)}));f.isWebKit&&b.onKeyPress.add(function(a,b){if(13==b.keyCode&&(b.shiftKey||n.force_br_newlines&&!p.getParent(l.getNode(),"h1,h2,h3,h4,h5,h6,ol,ul"))){var c=l.getRng(),d,e=p.create("div",null," "),f=p.getViewPort(a.getWin()).h;c.insertNode(d=p.create("br"));c.setStartAfter(d);c.setEndAfter(d);l.setRng(c);l.getSel().focusNode==d.previousSibling&&(l.select(p.insertAfter(p.doc.createTextNode("\u00a0"),d)),l.collapse(!0));
p.insertAfter(e,d);c=p.getPos(e).y;p.remove(e);c>f&&a.getWin().scrollTo(0,c);h.cancel(b)}});j&&"P"!=n.element&&(b.onKeyPress.add(function(){a.lastElm=l.getNode().nodeName}),b.onKeyUp.add(function(b,c){var d;d=l.getNode();if(1===b.getBody().childNodes.length&&"P"==d.nodeName)d=p.rename(d,n.element),l.select(d),l.collapse(),b.nodeChanged();else if(13==c.keyCode&&(!c.shiftKey&&"P"!=a.lastElm)&&(d=p.getParent(d,"p")))p.rename(d,n.element),b.nodeChanged()}))},getParentBlock:function(a){var b=this.dom;
return b.getParent(a,b.isBlock)},insertPara:function(){function d(c,e){var g=[],h,k;c.innerHTML="";if(j.keep_styles){k=e;do/^(SPAN|STRONG|B|EM|I|FONT|STRIKE|U)$/.test(k.nodeName)&&(h=k.cloneNode(a),f.setAttrib(h,"id",""),g.push(h));while(k=k.parentNode)}if(0<g.length){k=g.length-1;for(h=c;0<=k;k--)h=h.appendChild(g[k]);g[0].innerHTML=b?"\u00a0":"<br />";return g[0]}c.innerHTML=b?"\u00a0":"<br />"}var c=this.editor,f=c.dom,h=c.getDoc(),j=c.settings,q=c.selection.getSel(),g=q.getRangeAt(0),k=h.body,
r,u,m,t,x,C,v,B,z,y,s,A=f.getViewPort(c.getWin());c.undoManager.beforeChange();r=h.createRange();r.setStart(q.anchorNode,q.anchorOffset);r.collapse(!0);u=h.createRange();u.setStart(q.focusNode,q.focusOffset);u.collapse(!0);t=(m=0>r.compareBoundaryPoints(r.START_TO_END,u))?q.anchorNode:q.focusNode;x=m?q.anchorOffset:q.focusOffset;C=m?q.focusNode:q.anchorNode;q=m?q.focusOffset:q.anchorOffset;if(t===C&&/^(TD|TH)$/.test(t.nodeName))return"BR"==t.firstChild.nodeName&&f.remove(t.firstChild),0==t.childNodes.length?
c.dom.add(t,j.element,null,"<br />"):(s=t.innerHTML,t.innerHTML="",c.dom.add(t,j.element,null,s)),B=c.dom.add(t,j.element,null,"<br />"),g=h.createRange(),g.selectNodeContents(B),g.collapse(1),c.selection.setRng(g),a;t==k&&(C==k&&k.firstChild&&c.dom.isBlock(k.firstChild))&&(t=C=t.firstChild,x=q=0,r=h.createRange(),r.setStart(t,0),u=h.createRange(),u.setStart(C,0));h.body.hasChildNodes()||h.body.appendChild(f.create("br"));t="HTML"==t.nodeName?h.body:t;t="BODY"==t.nodeName?t.firstChild:t;C="HTML"==
C.nodeName?h.body:C;C="BODY"==C.nodeName?C.firstChild:C;v=this.getParentBlock(t);B=this.getParentBlock(C);m=v?v.nodeName:j.element;if(s=this.dom.getParent(v,"li,pre"))return"LI"==s.nodeName?(c=c.selection,A=this.dom,h=s,A.isEmpty(h)?(k=A.getParent(h,"ul,ol"),A.getParent(k.parentNode,"ul,ol")||(A.split(k,h),k=A.create("p",0,'<br data-mce-bogus="1" />'),A.replace(k,h),c.select(k,1)),c=a):c=!0,c):!0;if(v&&("CAPTION"==v.nodeName||/absolute|relative|fixed/gi.test(f.getStyle(v,"position",1))))m=j.element,
v=null;if(B&&("CAPTION"==B.nodeName||/absolute|relative|fixed/gi.test(f.getStyle(v,"position",1))))m=j.element,B=null;if(/(TD|TABLE|TH|CAPTION)/.test(m)||v&&"DIV"==m&&/left|right/gi.test(f.getStyle(v,"float",1)))m=j.element,v=B=null;z=v&&v.nodeName==m?v.cloneNode(0):c.dom.create(m);B=B&&B.nodeName==m?B.cloneNode(0):c.dom.create(m);B.removeAttribute("id");if(s=/^(H[1-6])$/.test(m))s=v,v=s.ownerDocument.createRange(),v.setStart(g.endContainer,g.endOffset),v.setEndAfter(s),s=0==v.cloneContents().textContent.length;
s&&(B=c.dom.create(j.element));s=v=t;do{if(s==k||9==s.nodeType||this.dom.isBlock(s)||/(TD|TABLE|TH|CAPTION)/.test(s.nodeName))break;v=s}while(s=s.previousSibling?s.previousSibling:s.parentNode);s=y=C;do{if(s==k||9==s.nodeType||this.dom.isBlock(s)||/(TD|TABLE|TH|CAPTION)/.test(s.nodeName))break;y=s}while(s=s.nextSibling?s.nextSibling:s.parentNode);v.nodeName==m?r.setStart(v,0):r.setStartBefore(v);r.setEnd(t,x);z.appendChild(r.cloneContents()||h.createTextNode(""));try{u.setEndAfter(y)}catch(L){}u.setStart(C,
q);B.appendChild(u.cloneContents()||h.createTextNode(""));g=h.createRange();!v.previousSibling&&v.parentNode.nodeName==m?g.setStartBefore(v.parentNode):r.startContainer.nodeName==m&&0==r.startOffset?g.setStartBefore(r.startContainer):g.setStart(r.startContainer,r.startOffset);!y.nextSibling&&y.parentNode.nodeName==m?g.setEndAfter(y.parentNode):g.setEnd(u.endContainer,u.endOffset);g.deleteContents();b&&c.getWin().scrollTo(0,A.y);z.firstChild&&z.firstChild.nodeName==m&&(z.innerHTML=z.firstChild.innerHTML);
B.firstChild&&B.firstChild.nodeName==m&&(B.innerHTML=B.firstChild.innerHTML);f.isEmpty(z)&&d(z,t);f.isEmpty(B)&&d(B,C);b&&9.5>parseFloat(opera.version())?(g.insertNode(z),g.insertNode(B)):(g.insertNode(B),g.insertNode(z));B.normalize();z.normalize();c.selection.select(B,!0);c.selection.collapse(!0);h=c.dom.getPos(B).y;if(h<A.y||h+25>A.y+A.h)c.getWin().scrollTo(0,h<A.y?h:h-A.h+25);c.undoManager.add();return a},backspaceDelete:function(b,c){var d=this.editor,j=d.getBody(),l,q=d.selection,g=q.getRng(),
k=g.startContainer,r;if(!c&&g.collapsed&&1==k.nodeType&&g.startOffset==k.childNodes.length){r=new f.dom.TreeWalker(k.lastChild,k);for(l=k.lastChild;l;l=r.prev())if(3==l.nodeType){g.setStart(l,l.nodeValue.length);g.collapse(!0);q.setRng(g);return}}if(k&&(d.dom.isBlock(k)&&!/^(TD|TH)$/.test(k.nodeName)&&c)&&(0==k.childNodes.length||1==k.childNodes.length&&"BR"==k.firstChild.nodeName)){for(l=k;(l=l.previousSibling)&&!d.dom.isBlock(l););if(l){if(k!=j.firstChild){for(j=d.dom.doc.createTreeWalker(l,NodeFilter.SHOW_TEXT,
null,a);g=j.nextNode();)l=g;g=d.getDoc().createRange();g.setStart(l,l.nodeValue?l.nodeValue.length:0);g.setEnd(l,l.nodeValue?l.nodeValue.length:0);q.setRng(g);d.dom.remove(k)}return h.cancel(b)}}}})})(tinymce);
(function(f){var h=f.dom.Event,j=f.each,d=f.extend;f.create("tinymce.ControlManager",{ControlManager:function(b,a){var d=this;a=a||{};d.editor=b;d.controls={};d.onAdd=new f.util.Dispatcher(d);d.onPostRender=new f.util.Dispatcher(d);d.prefix=a.prefix||b.id+"_";d._cls={};d.onPostRender.add(function(){j(d.controls,function(a){a.postRender()})})},get:function(b){return this.controls[this.prefix+b]||this.controls[b]},setActive:function(b,a){var d=null;(d=this.get(b))&&d.setActive(a);return d},setDisabled:function(b,
a){var d=null;(d=this.get(b))&&d.setDisabled(a);return d},add:function(b){b&&(this.controls[b.id]=b,this.onAdd.dispatch(b,this));return b},createControl:function(b){var a,d=this,c=d.editor;j(c.plugins,function(c){if(c.createControl&&(a=c.createControl(b,d)))return!1});switch(b){case "|":case "separator":return d.createSeparator()}return!a&&c.buttons&&(a=c.buttons[b])?d.createButton(b,a):d.add(a)},createDropMenu:function(b,a,e){var c=this.editor,h,j,l;a=d({"class":"mceDropDown",constrain:c.settings.constrain_menus},
a);a["class"]=a["class"]+" "+c.getParam("skin")+"Skin";if(l=c.getParam("skin_variant"))a["class"]+=" "+c.getParam("skin")+"Skin"+l.substring(0,1).toUpperCase()+l.substring(1);b=this.prefix+b;h=this.controls[b]=new (e||this._cls.dropmenu||f.ui.DropMenu)(b,a);h.onAddItem.add(function(a,b){var d=b.settings;d.title=c.getLang(d.title,d.title);d.onclick||(d.onclick=function(){d.cmd&&c.execCommand(d.cmd,d.ui||!1,d.value)})});c.onRemove.add(function(){h.destroy()});f.isIE&&(h.onShowMenu.add(function(){c.focus();
j=c.selection.getBookmark(1)}),h.onHideMenu.add(function(){j&&(c.selection.moveToBookmark(j),j=0)}));return this.add(h)},createListBox:function(b,a,e){var c=this.editor;if(this.get(b))return null;a.title=c.translate(a.title);a.scope=a.scope||c;a.onselect||(a.onselect=function(b){c.execCommand(a.cmd,a.ui||!1,b||a.value)});a=d({title:a.title,"class":"mce_"+b,scope:a.scope,control_manager:this},a);b=this.prefix+b;c.settings.use_native_selects||c.settings.use_accessible_selects&&!f.isGecko?e=new f.ui.NativeListBox(b,
a):(e=e||this._cls.listbox||f.ui.ListBox,e=new e(b,a,c));this.controls[b]=e;f.isWebKit&&e.onPostRender.add(function(a,b){h.add(b,"mousedown",function(){c.bookmark=c.selection.getBookmark(1)});h.add(b,"focus",function(){c.selection.moveToBookmark(c.bookmark);c.bookmark=null})});e.hideMenu&&c.onMouseDown.add(e.hideMenu,e);return this.add(e)},createButton:function(b,a,e){var c=this.editor;if(this.get(b))return null;a.title=c.translate(a.title);a.label=c.translate(a.label);a.scope=a.scope||c;!a.onclick&&
!a.menu_button&&(a.onclick=function(){c.execCommand(a.cmd,a.ui||!1,a.value)});a=d({title:a.title,"class":"mce_"+b,unavailable_prefix:c.getLang("unavailable",""),scope:a.scope,control_manager:this},a);b=this.prefix+b;a.menu_button?(e=e||this._cls.menubutton||f.ui.MenuButton,b=new e(b,a,c),c.onMouseDown.add(b.hideMenu,b)):(e=this._cls.button||f.ui.Button,b=new e(b,a,c));return this.add(b)},createMenuButton:function(b,a,d){a=a||{};a.menu_button=1;return this.createButton(b,a,d)},createSplitButton:function(b,
a,e){var c=this.editor;if(this.get(b))return null;a.title=c.translate(a.title);a.scope=a.scope||c;a.onclick||(a.onclick=function(b){c.execCommand(a.cmd,a.ui||!1,b||a.value)});a.onselect||(a.onselect=function(b){c.execCommand(a.cmd,a.ui||!1,b||a.value)});a=d({title:a.title,"class":"mce_"+b,scope:a.scope,control_manager:this},a);b=this.prefix+b;b=this.add(new (e||this._cls.splitbutton||f.ui.SplitButton)(b,a,c));c.onMouseDown.add(b.hideMenu,b);return b},createColorSplitButton:function(b,a,e){var c=this.editor,
h,j;if(this.get(b))return null;a.title=c.translate(a.title);a.scope=a.scope||c;a.onclick||(a.onclick=function(b){f.isIE&&(j=c.selection.getBookmark(1));c.execCommand(a.cmd,a.ui||!1,b||a.value)});a.onselect||(a.onselect=function(b){c.execCommand(a.cmd,a.ui||!1,b||a.value)});a=d({title:a.title,"class":"mce_"+b,menu_class:c.getParam("skin")+"Skin",scope:a.scope,more_colors_title:c.getLang("more_colors")},a);b=this.prefix+b;h=new (e||this._cls.colorsplitbutton||f.ui.ColorSplitButton)(b,a,c);c.onMouseDown.add(h.hideMenu,
h);c.onRemove.add(function(){h.destroy()});f.isIE&&(h.onShowMenu.add(function(){c.focus();j=c.selection.getBookmark(1)}),h.onHideMenu.add(function(){j&&(c.selection.moveToBookmark(j),j=0)}));return this.add(h)},createToolbar:function(b,a,d){b=this.prefix+b;a=new (d||this._cls.toolbar||f.ui.Toolbar)(b,a,this.editor);return this.get(b)?null:this.add(a)},createToolbarGroup:function(b,a,d){b=this.prefix+b;a=new (d||this._cls.toolbarGroup||f.ui.ToolbarGroup)(b,a,this.editor);return this.get(b)?null:this.add(a)},
createSeparator:function(b){return new (b||this._cls.separator||f.ui.Separator)},setControlType:function(b,a){return this._cls[b.toLowerCase()]=a},destroy:function(){j(this.controls,function(b){b.destroy()});this.controls=null}})})(tinymce);
(function(f){var h=f.util.Dispatcher,j=f.each,d=f.isIE,b=f.isOpera;f.create("tinymce.WindowManager",{WindowManager:function(a){this.editor=a;this.onOpen=new h(this);this.onClose=new h(this);this.params={};this.features={}},open:function(a,e){var c="",h="modal"==this.editor.settings.dialog_type,p,l,q;q=f.DOM.getViewPort();a=a||{};e=e||{};l=b?q.w:screen.width;q=b?q.h:screen.height;a.name=a.name||"mc_"+(new Date).getTime();a.width=parseInt(a.width||320);a.height=parseInt(a.height||240);a.resizable=!0;
a.left=a.left||parseInt(l/2)-a.width/2;a.top=a.top||parseInt(q/2)-a.height/2;e.inline=!1;e.mce_width=a.width;e.mce_height=a.height;e.mce_auto_focus=a.auto_focus;h&&d&&(a.center=!0,a.help=!1,a.dialogWidth=a.width+"px",a.dialogHeight=a.height+"px",a.scroll=a.scrollbars||!1);j(a,function(a,b){f.is(a,"boolean")&&(a=a?"yes":"no");/^(name|url)$/.test(b)||(c=d&&h?c+((c?";":"")+b+":"+a):c+((c?",":"")+b+"="+a))});this.features=a;this.params=e;this.onOpen.dispatch(this,a,e);l=a.url||a.file;l=f._addVer(l);try{d&&
h?(p=1,window.showModalDialog(l,window,c)):p=window.open(l,a.name,c)}catch(g){}p||alert(this.editor.getLang("popup_blocked"))},close:function(a){a.close();this.onClose.dispatch(this)},createInstance:function(a,b,c,d,h,j){return new (f.resolve(a))(b,c,d,h,j)},confirm:function(a,b,c,d){d=d||window;b.call(c||this,d.confirm(this._decode(this.editor.getLang(a,a))))},alert:function(a,b,c,d){d=d||window;d.alert(this._decode(this.editor.getLang(a,a)));b&&b.call(c||this)},resizeBy:function(a,b,c){c.resizeBy(a,
b)},_decode:function(a){return f.DOM.decode(a).replace(/\\n/g,"\n")}})})(tinymce);
(function(f){f.Formatter=function(h){function j(a){return 1===a.nodeType&&("mceinline"===a.face||"mceinline"===a.style.fontFamily)}function d(a){return a?z[a]:z}function b(a,c){a&&("string"!==typeof a?y(a,function(a,c){b(c,a)}):(c=c.length?c:[c],y(c,function(a){a.deep===R&&(a.deep=!a.selector);a.split===R&&(a.split=!a.selector||a.inline);a.remove===R&&(a.selector&&!a.inline)&&(a.remove="none");a.selector&&a.inline&&(a.mixed=!0,a.block_expand=!0);"string"===typeof a.classes&&(a.classes=a.classes.split(/\s+/))}),
z[a]=c))}function a(a,b,e){function n(a){var b=a.startContainer,c=a.startOffset;if(1==b.nodeType||""===b.nodeValue)if(b=1==b.nodeType?b.childNodes[c]:b){b=new L(b,b.parentNode);for(c=b.current();c;c=b.next())if(3==c.nodeType&&!k(c)){a.setStart(c,0);break}}return a}function q(a,c){c=c||J;if(a){if(c.onformat)c.onformat(a,c,b,e);y(c.styles,function(c,d){s.setStyle(a,d,g(c,b))});y(c.attributes,function(c,d){s.setAttrib(a,d,g(c,b))});y(c.classes,function(c){c=g(c,b);s.hasClass(a,c)||s.addClass(a,c)})}}
function r(){var a=h.selection.getRng(),b=a.startContainer,c=a.endContainer;if(b!=c&&0==a.endOffset){a:{c=new L(c);for(e=c.current();e;e=c.prev())if(1<e.childNodes.length||e==b){b=e;break a}b=void 0}a.setEnd(b,3==b.nodeType?b.length:b.childNodes.length)}return a}function v(d,e,g){var h=[],n,r;n=J.inline||J.block;r=s.create(n);q(r);K.walk(d,function(d){function k(d){var p=d.nodeName.toLowerCase(),t=d.parentNode.nodeName.toLowerCase(),u;if(l(d.id,"tinymce"))y(d.childNodes,function(a){k(a)});else if(l(p,
"br"))m=0,J.block&&s.remove(d);else if(J.wrapper&&c(d,a,b))m=0;else if(J.block&&!J.wrapper&&/^(h[1-6]|p|div|pre|address|dl|dt|dd)$/.test(p))d=s.rename(d,n),q(d),h.push(d),m=0;else{if(J.selector&&(y(W,function(a){!("collapsed"in a&&a.collapsed!==N)&&(s.is(d,a.selector)&&!j(d))&&(q(d,a),u=!0)}),!J.inline||u)){m=0;return}if(T(n,p)&&T(t,n)&&(g||!(3===d.nodeType&&1===d.nodeValue.length&&65279===d.nodeValue.charCodeAt(0)))&&"_mce_caret"!==d.id)m||(m=r.cloneNode(H),d.parentNode.insertBefore(m,d),h.push(m)),
m.appendChild(d);else if("li"==p&&e){var p=d,aa=e,t=r,v=h,x=k,P=[],S=-1,D,A=-1,I=-1,z;y(p.childNodes,function(a,b){if("UL"===a.nodeName||"OL"===a.nodeName)return S=b,D=a,!1});y(p.childNodes,function(a,b){"SPAN"===a.nodeName&&"bookmark"==s.getAttrib(a,"data-mce-type")&&(a.id==aa.id+"_start"?A=b:a.id==aa.id+"_end"&&(I=b))});0>=S||A<S&&I>S?(y(f.grep(p.childNodes),x),m=0):(z=t.cloneNode(H),y(f.grep(p.childNodes),function(a,b){if(A<S&&b<S||A>S&&b>S)P.push(a),a.parentNode.removeChild(a)}),A<S?p.insertBefore(z,
D):A>S&&p.insertBefore(z,D.nextSibling),v.push(z),y(P,function(a){z.appendChild(a)}),m=z)}else m=0,y(f.grep(d.childNodes),k),m=0}}var m;y(d,k)});!1===J.wrap_links&&y(h,function(a){function b(a){var c,d,e;if("A"===a.nodeName){d=r.cloneNode(H);h.push(d);e=f.grep(a.childNodes);for(c=0;c<e.length;c++)d.appendChild(e[c]);a.appendChild(d)}y(f.grep(a.childNodes),b)}b(a)});y(h,function(d){var e,f=0;y(d.childNodes,function(a){!k(a)&&!x(a)&&f++});e=f;if((1<h.length||!M(d))&&0===e)s.remove(d,1);else if(J.inline||
J.wrapper){if(!J.exact&&1===e){e=d;var g,l;y(e.childNodes,function(a){if(1==a.nodeType&&!x(a)&&!j(a))return g=a,H});g&&p(g,J)&&(l=g.cloneNode(H),q(l),s.replace(l,e,F),s.remove(g,1));d=l||e}y(W,function(a){y(s.select(a.inline,d),function(c){var d;if(!1===a.wrap_links){d=c.parentNode;do if("A"===d.nodeName)return;while(d=d.parentNode)}m(a,b,c,a.exact?c:null)})});if(c(d.parentNode,a,b))return s.remove(d,1),d=0,F;J.merge_with_parents&&s.getParent(d.parentNode,function(e){if(c(e,a,b))return s.remove(d,
1),d=0,F});d&&!1!==J.merge_siblings&&(d=C(t(d),d),d=C(d,t(d,F)))}})}var W=d(a),J=W[0],P,D,N=A.isCollapsed();if(J)if(e)e.nodeType?(D=s.createRng(),D.setStartBefore(e),D.setEndAfter(e),v(u(D,W),null,!0)):v(e,null,!0);else if(!N||!J.inline||s.select("td.mceSelected,th.mceSelected").length){var z=h.selection.getNode();if("BODY"==z.nodeName){a:{D=h.selection.getStart();var S=h.schema.getBlockElements(),$=h.getBody(),I,E,X,ba,Y,Z,G;if(D&&1===D.nodeType){for(;D!=$&&D.parentNode!=$;){if(S[D.nodeName])break a;
D=D.parentNode}I=h.selection.getRng();I.setStart?(E=I.startContainer,X=I.startOffset,ba=I.endContainer,Y=I.endOffset):(I.item&&(I=h.getDoc().body.createTextRange(),I.moveToElementText(I.item(0))),tmpRng=I.duplicate(),tmpRng.collapse(!0),X=-1*tmpRng.move("character",-16777215),tmpRng.collapsed||(tmpRng=I.duplicate(),tmpRng.collapse(!1),Y=-1*tmpRng.move("character",-16777215)-X));for(D=$.firstChild;D;D)3===D.nodeType&&D.length||1==D.nodeType&&!S[D.nodeName]?(Z||(Z=s.create(h.settings.forced_root_block||
"p"),D.parentNode.insertBefore(Z,D)),G=D,D=D.nextSibling,Z.appendChild(G)):(Z=null,D=D.nextSibling);if(I.setStart)I.setStart(E,X),I.setEnd(ba,Y),h.selection.setRng(I);else try{I=h.getDoc().body.createTextRange(),I.moveToElementText($),I.collapse(!0),I.moveStart("character",X),0<Y&&I.moveEnd("character",Y),I.select()}catch(O){}h.nodeChanged()}}f.isGecko||f.isWebKit?(D=r(),v(u(D,W),null,!0)):(h.selection.setRng(r()),P=A.getBookmark(),v(u(A.getRng(F),W),P))}else h.selection.setRng(r()),P=A.getBookmark(),
v(u(A.getRng(F),W),P);if(J.styles&&(J.styles.color||J.styles.textDecoration))f.walk(z,U,"childNodes"),U(z);A.moveToBookmark(P);A.setRng(n(A.getRng(F)));h.nodeChanged()}else B("apply",a,b)}function e(a,b,e){function g(a){var c,d,e;c=f.grep(a.childNodes);d=0;for(e=t.length;d<e&&!m(t[d],b,a,a);d++);if(P.deep){d=0;for(e=c.length;d<e;d++)g(c[d])}}function j(d){var e;y(s.getParents(d.parentNode,void 0,s.getRoot()).reverse(),function(d){var f;!e&&"_start"!=d.id&&"_end"!=d.id&&(f=c(d,a,b))&&!1!==f.split&&
(e=d)});return e}function l(a,c,d,e){var f,g,h,j,k,n;if(a){n=a.parentNode;for(f=c.parentNode;f&&f!=n;f=f.parentNode){g=f.cloneNode(H);for(k=0;k<t.length;k++)if(m(t[k],b,g,g)){g=0;break}g&&(h&&g.appendChild(h),j||(j=g),h=g)}if(e&&(!P.mixed||!M(a)))c=s.split(a,c);h&&(d.parentNode.insertBefore(h,d),j.appendChild(d))}return c}function p(a){var b=s.get(a?"_start":"_end"),c=b[a?"firstChild":"lastChild"];x(c)&&(c=c[a?"firstChild":"lastChild"]);s.remove(b,!0);return c}function q(a){var b,c;a=u(a,t,F);P.split&&
(b=v(a,F),c=v(a),b!=c?(b=r(b,"span",{id:"_start","data-mce-type":"bookmark"}),c=r(c,"span",{id:"_end","data-mce-type":"bookmark"}),l(j(b),b,b,!0),l(j(c),c,c,!0),b=p(F),c=p()):b=c=l(j(b),b,b,!0),a.startContainer=b.parentNode,a.startOffset=G(b),a.endContainer=c.parentNode,a.endOffset=G(c)+1);K.walk(a,function(a){y(a,function(a){g(a);1===a.nodeType&&("underline"===h.dom.getStyle(a,"text-decoration")&&a.parentNode&&"underline"===V(a.parentNode))&&m({deep:!1,exact:!0,inline:"span",styles:{textDecoration:"underline"}},
null,a)})})}var t=d(a),P=t[0],D;if(e)e.nodeType?(D=s.createRng(),D.setStartBefore(e),D.setEndAfter(e),q(D)):q(e);else{if(!A.isCollapsed()||!P.inline||s.select("td.mceSelected,th.mceSelected").length){e=A.getBookmark();q(A.getRng(F));A.moveToBookmark(e);if(P.inline&&n(a,b,A.getStart()))a:{e=A.getRng(!0);var N=e.startContainer;D=e.startOffset;var z;3==N.nodeType&&D>=N.nodeValue.length-1&&(N=N.parentNode,D=G(N)+1);if(1==N.nodeType){z=N.childNodes;N=z[Math.min(D,z.length-1)];N=new L(N);D>z.length-1&&
N.next();for(D=N.current();D;D=N.next())if(3==D.nodeType&&!k(D)){N=s.create("a",null,O);D.parentNode.insertBefore(N,D);e.setStart(D,0);A.setRng(e);s.remove(N);break a}}}h.nodeChanged()}else B("remove",a,b);f.isWebKit&&h.execCommand("mceCleanup")}}function c(a,b,c,e){function f(a,b,d){var h,j,k=b[d];if(b.onmatch)return b.onmatch(a,b,d);if(k)if(k.length===R)for(h in k){if(k.hasOwnProperty(h)&&(j="attributes"===d?s.getAttrib(a,h):q(a,h),e&&!j&&!b.exact||(!e||b.exact)&&!l(j,g(k[h],c))))return}else for(h=
0;h<k.length&&!("attributes"===d?s.getAttrib(a,k[h]):q(a,k[h]));h++);return b}var h=d(b),j;if(h&&a)for(j=0;j<h.length;j++)if(b=h[j],p(a,b)&&f(a,b,"attributes")&&f(a,b,"styles")){if(h=b.classes)for(j=0;j<h.length;j++)if(!s.hasClass(a,h[j]))return;return b}}function n(a,b,d){function e(d){d=s.getParent(d,function(d){return!!c(d,a,b,!0)});return c(d,a,b)}var f;if(d)return e(d);d=A.getNode();if(e(d))return F;f=A.getStart();return f!=d&&e(f)?F:H}function p(a,b){if(l(a,b.inline)||l(a,b.block))return F;
if(b.selector)return s.is(a,b.selector)}function l(a,b){a=a||"";b=b||"";a=""+(a.nodeName||a);b=""+(b.nodeName||b);return a.toLowerCase()==b.toLowerCase()}function q(a,b){var c=s.getStyle(a,b);if("color"==b||"backgroundColor"==b)c=s.toHex(c);"fontWeight"==b&&700==c&&(c="bold");return""+c}function g(a,b){"string"!=typeof a?a=a(b):b&&(a=a.replace(/%(\w+)/g,function(a,c){return b[c]||a}));return a}function k(a){return a&&3===a.nodeType&&/^([\t \r\n]+|)$/.test(a.nodeValue)}function r(a,b,c){b=s.create(b,
c);a.parentNode.insertBefore(b,a);b.appendChild(a);return b}function u(a,b,c){function d(a){var c,e,h;c=e=a?f:j;h=a?"previousSibling":"nextSibling";root=s.getRoot();if(3==c.nodeType&&!k(c)&&(a?0<g:n<c.nodeValue.length))return c;for(;;){if(e==root||!b[0].block_expand&&M(e))return e;for(a=e[h];a;a=a[h])if(!x(a)&&!k(a))return e;e=e.parentNode}return c}function e(a,b){for(b===R&&(b=3===a.nodeType?a.length:a.childNodes.length);a&&a.hasChildNodes();)(a=a.childNodes[b])&&(b=3===a.nodeType?a.length:a.childNodes.length);
return{node:a,offset:b}}var f=a.startContainer,g=a.startOffset,j=a.endContainer,n=a.endOffset,m;1==f.nodeType&&f.hasChildNodes()&&(m=f.childNodes.length-1,f=f.childNodes[g>m?m:g],3==f.nodeType&&(g=0));1==j.nodeType&&j.hasChildNodes()&&(m=j.childNodes.length-1,j=j.childNodes[n>m?m:n-1],3==j.nodeType&&(n=j.nodeValue.length));if(x(f.parentNode)||x(f))f=x(f)?f:f.parentNode,f=f.nextSibling||f,3==f.nodeType&&(g=0);if(x(j.parentNode)||x(j))j=x(j)?j:j.parentNode,j=j.previousSibling||j,3==j.nodeType&&(n=j.length);
if(b[0].inline){if(a.collapsed){var p=function(a,b,d){function e(a,b){var f,g;g=a.nodeValue;"undefined"==typeof b&&(b=d?g.length:0);d?(f=g.lastIndexOf(" ",b),g=g.lastIndexOf("\u00a0",b),f=f>g?f:g,-1!==f&&!c&&f++):(f=g.indexOf(" ",b),g=g.indexOf("\u00a0",b),f=-1!==f&&(-1===g||f<g)?f:g);return f}var f,g;if(3===a.nodeType){b=e(a,b);if(-1!==b)return{container:a,offset:b};g=a}for(a=new L(a,s.getParent(a,M)||h.getBody());f=a[d?"prev":"next"]();)if(3===f.nodeType){if(g=f,b=e(f),-1!==b)return{container:f,
offset:b}}else if(M(f))break;if(g)return b=d?0:g.length,{container:g,offset:b}};if(m=p(f,g,!0))f=m.container,g=m.offset;if(m=p(j,n))j=m.container,n=m.offset}m=e(j,n);if(m.node){for(;m.node&&0===m.offset&&m.node.previousSibling;)m=e(m.node.previousSibling);m.node&&(0<m.offset&&3===m.node.nodeType&&" "===m.node.nodeValue.charAt(m.offset-1))&&1<m.offset&&(j=m.node,j.splitText(m.offset-1))}}if(b[0].inline||b[0].block_expand){if(!b[0].inline||3!=f.nodeType||0===g)f=d(!0);if(!b[0].inline||3!=j.nodeType||
n===j.nodeValue.length)j=d()}b[0].selector&&(b[0].expand!==H&&!b[0].inline)&&(m=function(c,d){var e,f,g,h;3==c.nodeType&&(0==c.nodeValue.length&&c[d])&&(c=c[d]);e=s.getParents(c,void 0,s.getRoot());for(f=0;f<e.length;f++)for(g=0;g<b.length;g++)if(h=b[g],!("collapsed"in h&&h.collapsed!==a.collapsed)&&s.is(e[f],h.selector))return e[f];return c},f=m(f,"previousSibling"),j=m(j,"nextSibling"));if(b[0].block||b[0].selector)m=function(a,c){var d;b[0].wrapper||(d=s.getParent(a,b[0].block));d||(d=s.getParent(3==
a.nodeType?a.parentNode:a,M));d&&b[0].wrapper&&(d=s.getParents(d,"ul,ol",s.getRoot()).reverse()[0]||d);if(!d)for(d=a;d[c]&&!M(d[c])&&!(d=d[c],l(d,"br")););return d||a},f=m(f,"previousSibling"),j=m(j,"nextSibling"),b[0].block&&(M(f)||(f=d(!0)),M(j)||(j=d()));1==f.nodeType&&(g=G(f),f=f.parentNode);1==j.nodeType&&(n=G(j)+1,j=j.parentNode);return{startContainer:f,startOffset:g,endContainer:j,endOffset:n}}function m(a,b,c,d){var e,h,j;if(!p(c,a))return H;if("all"!=a.remove){y(a.styles,function(a,e){a=
g(a,b);"number"===typeof e&&(e=a,d=0);(!d||l(q(d,e),a))&&s.setStyle(c,e,"");j=1});j&&""==s.getAttrib(c,"style")&&(c.removeAttribute("style"),c.removeAttribute("data-mce-style"));y(a.attributes,function(a,e){var f;a=g(a,b);"number"===typeof e&&(e=a,d=0);if(!d||l(s.getAttrib(d,e),a)){if("class"==e&&(a=s.getAttrib(c,e)))if(f="",y(a.split(/\s+/),function(a){/mce\w+/.test(a)&&(f+=(f?" ":"")+a)}),f){s.setAttrib(c,e,f);return}"class"==e&&c.removeAttribute("className");Q.test(e)&&c.removeAttribute("data-mce-"+
e);c.removeAttribute(e)}});y(a.classes,function(a){a=g(a,b);(!d||s.hasClass(d,a))&&s.removeClass(c,a)});h=s.getAttribs(c);for(e=0;e<h.length;e++)if(0!==h[e].nodeName.indexOf("_"))return H}if("none"!=a.remove){e=c.parentNode;var k;a.block&&(E?e==s.getRoot()&&(!a.list_block||!l(c,a.list_block))&&y(f.grep(c.childNodes),function(a){T(E,a.nodeName.toLowerCase())?k?k.appendChild(a):k=r(a,E):k=0}):(h=function(a,b,c){a=t(a,b,c);return!a||"BR"==a.nodeName||M(a)},M(c)&&!M(e)&&(!h(c,H)&&!h(c.firstChild,F,1)&&
c.insertBefore(s.create("br"),c.firstChild),!h(c,F)&&!h(c.lastChild,H,1)&&c.appendChild(s.create("br")))));(!a.selector||!a.inline||l(a.inline,c))&&s.remove(c,1);return F}}function t(a,b,c){if(a){b=b?"nextSibling":"previousSibling";for(a=c?a:a[b];a;a=a[b])if(1==a.nodeType||!k(a))return a}}function x(a){return a&&1==a.nodeType&&"bookmark"==a.getAttribute("data-mce-type")}function C(a,b){var c,d;if(a&&b){d=function(a,b){for(c=a;c&&!(3==c.nodeType&&0!==c.nodeValue.length);c=c[b])if(1==c.nodeType&&!x(c))return c;
return a};a=d(a,"previousSibling");b=d(b,"nextSibling");d=a;var e=b,g=function(a){var b={};y(s.getAttribs(a),function(c){c=c.nodeName.toLowerCase();0!==c.indexOf("_")&&"style"!==c&&(b[c]=s.getAttrib(a,c))});return b},h=function(a,b){var c,d;for(d in a)if(a.hasOwnProperty(d)){c=b[d];if(c===R||a[d]!=c)return H;delete b[d]}for(d in b)if(b.hasOwnProperty(d))return H;return F};if(d.nodeName!=e.nodeName||!h(g(d),g(e))||!h(s.parseStyle(s.getAttrib(d,"style")),s.parseStyle(s.getAttrib(e,"style")))?H:F){for(c=
a.nextSibling;c&&c!=b;)d=c,c=c.nextSibling,a.appendChild(d);s.remove(b);y(f.grep(b.childNodes),function(b){a.appendChild(b)});return a}}return b}function v(a,b){var c,d,e;c=a[b?"startContainer":"endContainer"];d=a[b?"startOffset":"endOffset"];1==c.nodeType&&(e=c.childNodes.length-1,!b&&d&&d--,c=c.childNodes[d>e?e:d]);3===c.nodeType&&(b&&d>=c.nodeValue.length)&&(c=(new L(c,h.getBody())).next()||c);3===c.nodeType&&(!b&&0==d)&&(c=(new L(c,h.getBody())).prev()||c);return c}function B(b,g,j){function k(a){var b=
s.create("span",{id:r,"data-mce-bogus":!0,style:t?"color:red":""});a&&b.appendChild(h.getDoc().createTextNode(q));return b}function l(a,b){for(;a;){if(3===a.nodeType&&a.nodeValue!==q||1<a.childNodes.length)return!1;b&&1===a.nodeType&&b.push(a);a=a.firstChild}return!0}function m(a){for(;a;){if(a.id===r)return a;a=a.parentNode}}function n(a){var b;if(a){b=new L(a,a);for(a=b.current();a;a=b.next())if(3===a.nodeType)return a}}function p(a,b){var c,d;if(a)d=A.getRng(!0),l(a)?(!1!==b&&(d.setStartBefore(a),
d.setEndBefore(a)),s.remove(a)):(c=n(a),c.deleteData(0,1),s.remove(a,1)),A.setRng(d);else if(a=m(A.getStart()),!a)for(;a=s.get(r);)p(a,!1)}var q,r="_mce_caret",t=h.settings.caret_debug;q=f.isGecko?"\u200b":O;h.onBeforeGetContent.addToTop(function(){var a=[],b;if(l(m(A.getStart()),a))for(b=a.length;b--;)s.setAttrib(a[b],"data-mce-bogus","1")});f.each(["onMouseUp","onKeyUp"],function(a){h[a].addToTop(function(){p()})});h.onKeyDown.addToTop(function(a,b){var c=b.keyCode;(8==c||37==c||39==c)&&p(m(A.getStart()))});
if("apply"==b){var v,x,y,z;v=A.getRng(!0);b=v.startOffset;z=v.startContainer.nodeValue;(x=m(A.getStart()))&&(y=n(x));if(z&&0<b&&b<z.length&&/\w/.test(z.charAt(b))&&/\w/.test(z.charAt(b-1)))x=A.getBookmark(),v.collapse(!0),v=u(v,d(g)),v=K.split(v),a(g,j,v),A.moveToBookmark(x);else{if(!x||y.nodeValue!==q)x=k(!0),y=x.firstChild,v.insertNode(x),b=1;a(g,j,x);A.setCursorLocation(y,b)}}else{z=A.getRng(!0);var B,C;b=[];B=z.startContainer;C=z.startOffset;y=B;if(3==B.nodeType){if(C!=B.nodeValue.length||B.nodeValue===
q)x=!0;y=y.parentNode}for(;y;){if(c(y,g,j)){v=y;break}y.nextSibling&&(x=!0);b.push(y);y=y.parentNode}if(v)if(x)v=A.getBookmark(),z.collapse(!0),z=u(z,d(g),!0),z=K.split(z),e(g,j,z),A.moveToBookmark(v);else{y=j=k();for(g=b.length-1;0<=g;g--)y.appendChild(b[g].cloneNode(!1)),y=y.firstChild;y.appendChild(s.doc.createTextNode(q));y=y.firstChild;s.insertAfter(j,v);A.setCursorLocation(y,1)}}}var z={},y=f.each,s=h.dom,A=h.selection,L=f.dom.TreeWalker,K=new f.dom.RangeUtils(s),T=h.schema.isValidChild,M=s.isBlock,
E=h.settings.forced_root_block,G=s.nodeIndex,O="\ufeff",Q=/^(src|href|style)$/,H=!1,F=!0,R,V=function(a){var b;h.dom.getParent(a,function(a){return(b=h.dom.getStyle(a,"text-decoration"))&&"none"!==b});return b},U=function(a){var b;1===a.nodeType&&(a.parentNode&&1===a.parentNode.nodeType)&&(b=V(a.parentNode),h.dom.getStyle(a,"color")&&b?h.dom.setStyle(a,"text-decoration",b):h.dom.getStyle(a,"textdecoration")===b&&h.dom.setStyle(a,"text-decoration",null))};f.extend(this,{get:d,register:b,apply:a,remove:e,
toggle:function(b,c,f){var g=d(b);n(b,c,f)&&(!("toggle"in g[0])||g[0].toggle)?e(b,c,f):a(b,c,f)},match:n,matchAll:function(a,b){var d,e=[],f={};d=A.getStart();s.getParent(d,function(d){var g,h;for(g=0;g<a.length;g++)h=a[g],!f[h]&&c(d,h,b)&&(f[h]=!0,e.push(h))});return e},matchNode:c,canApply:function(a){a=d(a);var b,c,e,f;if(a){b=A.getStart();b=s.getParents(b,void 0,s.getRoot());for(e=a.length-1;0<=e;e--){f=a[e].selector;if(!f)return F;for(c=b.length-1;0<=c;c--)if(s.is(b[c],f))return F}}return H}})}})(tinymce);
tinymce.onAddEditor.add(function(f,h){var j,d,b,a=h.settings;if(a.inline_styles){d=f.explode(a.font_size_legacy_values);var e=function(a,c){f.each(c,function(c,d){c&&b.setStyle(a,d,c)});b.rename(a,"span")};j={font:function(a,b){e(b,{backgroundColor:b.style.backgroundColor,color:b.color,fontFamily:b.face,fontSize:d[parseInt(b.size)-1]})},u:function(a,b){e(b,{textDecoration:"underline"})},strike:function(a,b){e(b,{textDecoration:"line-through"})}};var c=function(c,d){b=c.dom;a.convert_fonts_to_spans&&
f.each(b.select("font,u,strike",d.node),function(a){j[a.nodeName.toLowerCase()](h.dom,a)})};h.onPreProcess.add(c);h.onSetContent.add(c);h.onInit.add(function(){h.selection.onSetContent.add(c)})}});