(function() { function aa(){return function(a){return a}}function ba(){return function(){}}function ca(a){return function(b){this[a]=b}}function g(a){return function(){return this[a]}}function l(a){return function(){return a}}var m,ea=ea||{},q=this;function t(a){return void 0!==a}function v(a,b,c){a=a.split(".");c=c||q;a[0]in c||!c.execScript||c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)!a.length&&t(b)?c[d]=b:c[d]?c=c[d]:c=c[d]={}}
function fa(a,b){for(var c=a.split("."),d=b||q,e;e=c.shift();)if(null!=d[e])d=d[e];else return null;return d}function w(){}function ga(a){a.ba=function(){return a.eh?a.eh:a.eh=new a}}
function ha(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function ia(a){return null===a}function x(a){return"array"==ha(a)}function ja(a){var b=ha(a);return"array"==b||"object"==b&&"number"==typeof a.length}function y(a){return"string"==typeof a}function la(a){return"number"==typeof a}function ma(a){return"function"==ha(a)}function na(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function oa(a){return a[pa]||(a[pa]=++qa)}
var pa="closure_uid_"+(1E9*Math.random()>>>0),qa=0;function ra(a,b,c){return a.call.apply(a.bind,arguments)}function sa(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}
function z(a,b,c){z=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ra:sa;return z.apply(null,arguments)}function ta(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}}function ua(a,b){for(var c in b)a[c]=b[c]}var A=Date.now||function(){return+new Date};
function va(a){if(q.execScript)q.execScript(a,"JavaScript");else if(q.eval){if(null==wa)if(q.eval("var _evalTest_ = 1;"),"undefined"!=typeof q._evalTest_){try{delete q._evalTest_}catch(d){}wa=!0}else wa=!1;if(wa)q.eval(a);else{var b=q.document,c=b.createElement("SCRIPT");c.type="text/javascript";c.defer=!1;c.appendChild(b.createTextNode(a));b.body.appendChild(c);b.body.removeChild(c)}}else throw Error("goog.globalEval not available");}var wa=null;
function B(a,b){function c(){}c.prototype=b.prototype;a.G=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.Jm=function(a,c,f){for(var h=Array(arguments.length-2),k=2;k<arguments.length;k++)h[k-2]=arguments[k];return b.prototype[c].apply(a,h)}};function xa(a){if(Error.captureStackTrace)Error.captureStackTrace(this,xa);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))}B(xa,Error);xa.prototype.name="CustomError";var ya;function za(a,b){for(var c=a.split("%s"),d="",e=Array.prototype.slice.call(arguments,1);e.length&&1<c.length;)d+=c.shift()+e.shift();return d+c.join("%s")}function Aa(a){return/^[\s\xa0]*$/.test(a)}function Ba(a){return a.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")}var Ca=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")};function Da(a){return decodeURIComponent(a.replace(/\+/g," "))}
function Ea(a){if(!Fa.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(Ga,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(Ha,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(Ia,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace(Ja,"&quot;"));-1!=a.indexOf("'")&&(a=a.replace(Ka,"&#39;"));-1!=a.indexOf("\x00")&&(a=a.replace(La,"&#0;"));return a}var Ga=/&/g,Ha=/</g,Ia=/>/g,Ja=/"/g,Ka=/'/g,La=/\x00/g,Fa=/[\x00&<>"']/;
function Ma(a){var b={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'},c;c=q.document.createElement("div");return a.replace(Na,function(a,e){var f=b[a];if(f)return f;if("#"==e.charAt(0)){var h=Number("0"+e.substr(1));isNaN(h)||(f=String.fromCharCode(h))}f||(c.innerHTML=a+" ",f=c.firstChild.nodeValue.slice(0,-1));return b[a]=f})}
function Oa(a){return a.replace(/&([^;]+);/g,function(a,c){switch(c){case "amp":return"&";case "lt":return"<";case "gt":return">";case "quot":return'"';default:if("#"==c.charAt(0)){var d=Number("0"+c.substr(1));if(!isNaN(d))return String.fromCharCode(d)}return a}})}var Na=/&([^;\s<&]+);?/g,Pa=String.prototype.repeat?function(a,b){return a.repeat(b)}:function(a,b){return Array(b+1).join(a)};
function Qa(a,b){var c=t(void 0)?a.toFixed(void 0):String(a),d=c.indexOf(".");-1==d&&(d=c.length);return Pa("0",Math.max(0,b-d))+c}function Ra(a){return null==a?"":String(a)}function Sa(a){return Array.prototype.join.call(arguments,"")}function Ta(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^A()).toString(36)}function Ua(a,b){return a<b?-1:a>b?1:0}var Va=2147483648*Math.random()|0;function Wa(a){return a}function Xa(a){return a};function Ya(a,b){return Array.prototype.indexOf.call(a,b,void 0)}function Za(a,b,c){Array.prototype.forEach.call(a,b,c)}function $a(a,b){for(var c=y(a)?a.split(""):a,d=a.length-1;0<=d;--d)d in c&&b.call(void 0,c[d],d,a)}function ab(a,b){return Array.prototype.filter.call(a,b,void 0)}function bb(a,b){return Array.prototype.map.call(a,b,void 0)}function cb(a,b){return Array.prototype.some.call(a,b,void 0)}
function db(a,b){var c;a:{c=a.length;for(var d=y(a)?a.split(""):a,e=0;e<c;e++)if(e in d&&b.call(void 0,d[e],e,a)){c=e;break a}c=-1}return 0>c?null:y(a)?a.charAt(c):a[c]}function eb(a,b){return 0<=Ya(a,b)}function fb(a,b){eb(a,b)||a.push(b)}function gb(a,b){var c=Ya(a,b),d;(d=0<=c)&&Array.prototype.splice.call(a,c,1);return d}function hb(a){return Array.prototype.concat.apply(Array.prototype,arguments)}
function ib(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}function jb(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c];if(ja(d)){var e=a.length||0,f=d.length||0;a.length=e+f;for(var h=0;h<f;h++)a[e+h]=d[h]}else a.push(d)}}function kb(a,b,c){return 2>=arguments.length?Array.prototype.slice.call(a,b):Array.prototype.slice.call(a,b,c)}
function lb(a){for(var b={},c=0,d=0;d<a.length;){var e=a[d++],f;f=e;f=na(f)?"o"+oa(f):(typeof f).charAt(0)+f;Object.prototype.hasOwnProperty.call(b,f)||(b[f]=!0,a[c++]=e)}a.length=c}function mb(a,b){a.sort(b||nb)}function ob(a,b,c){if(!ja(a)||!ja(b)||a.length!=b.length)return!1;var d=a.length;c=c||pb;for(var e=0;e<d;e++)if(!c(a[e],b[e]))return!1;return!0}function nb(a,b){return a>b?1:a<b?-1:0}function pb(a,b){return a===b}
function qb(a){for(var b=[],c=0;c<arguments.length;c++){var d=arguments[c];if(x(d))for(var e=0;e<d.length;e+=8192)for(var f=kb(d,e,e+8192),f=qb.apply(null,f),h=0;h<f.length;h++)b.push(f[h]);else b.push(d)}return b};function rb(a){a=String(a);if(/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}throw Error("Invalid JSON string: "+a);}function sb(a){return eval("("+a+")")}function tb(a){return(new ub(void 0)).j(a)}function ub(a){this.g=a}
ub.prototype.j=function(a){var b=[];vb(this,a,b);return b.join("")};
function vb(a,b,c){if(null==b)c.push("null");else{if("object"==typeof b){if(x(b)){var d=b;b=d.length;c.push("[");for(var e="",f=0;f<b;f++)c.push(e),e=d[f],vb(a,a.g?a.g.call(d,String(f),e):e,c),e=",";c.push("]");return}if(b instanceof String||b instanceof Number||b instanceof Boolean)b=b.valueOf();else{c.push("{");f="";for(d in b)Object.prototype.hasOwnProperty.call(b,d)&&(e=b[d],"function"!=typeof e&&(c.push(f),wb(d,c),c.push(":"),vb(a,a.g?a.g.call(b,d,e):e,c),f=","));c.push("}");return}}switch(typeof b){case "string":wb(b,
c);break;case "number":c.push(isFinite(b)&&!isNaN(b)?String(b):"null");break;case "boolean":c.push(String(b));break;case "function":c.push("null");break;default:throw Error("Unknown type: "+typeof b);}}}var xb={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0B":"\\u000b"},yb=/\uffff/.test("\uffff")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g;
function wb(a,b){b.push('"',a.replace(yb,function(a){var b=xb[a];b||(b="\\u"+(a.charCodeAt(0)|65536).toString(16).substr(1),xb[a]=b);return b}),'"')};function zb(a,b,c){for(var d in a)b.call(c,a[d],d,a)}function Ab(a,b){var c={},d;for(d in a)c[d]=b.call(void 0,a[d],d,a);return c}function Bb(a){var b=0,c;for(c in a)b++;return b}function Cb(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function Db(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}function Eb(a){return null!==a&&"withCredentials"in a}function Fb(a,b){for(var c in a)if(a[c]==b)return!0;return!1}function Gb(a,b,c){for(var d in a)if(b.call(c,a[d],d,a))return d}
function Hb(a,b){var c=Gb(a,b,void 0);return c&&a[c]}function Ib(a){for(var b in a)return!1;return!0}function Jb(a){var b={},c;for(c in a)b[c]=a[c];return b}function Kb(a){var b=ha(a);if("object"==b||"array"==b){if(ma(a.clone))return a.clone();var b="array"==b?[]:{},c;for(c in a)b[c]=Kb(a[c]);return b}return a}var Lb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");
function Mb(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<Lb.length;f++)c=Lb[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}}function Nb(a){var b=arguments.length;if(1==b&&x(arguments[0]))return Nb.apply(null,arguments[0]);for(var c={},d=0;d<b;d++)c[arguments[d]]=!0;return c};function Ob(a,b){this.g=a;this.j=b}function C(){}function E(a,b,c,d,e){a.g=null;b||(b=c?[c]:[]);a.C=c?String(c):void 0;a.B=0===c?-1:0;a.ca=b;a:{if(a.ca.length&&(b=a.ca.length-1,(c=a.ca[b])&&"object"==typeof c&&!x(c))){a.v=b-a.B;a.o=c;break a}-1<d?(a.v=d,a.o=null):a.v=Number.MAX_VALUE}if(e)for(d=0;d<e.length;d++)b=e[d],b<a.v?(b+=a.B,a.ca[b]=a.ca[b]||Pb):a.o[b]=a.o[b]||Pb}var Pb=[];function F(a,b){if(b<a.v){var c=b+a.B,d=a.ca[c];return d===Pb?a.ca[c]=[]:d}d=a.o[b];return d===Pb?a.o[b]=[]:d}
function G(a,b,c){b<a.v?a.ca[b+a.B]=c:a.o[b]=c}function Qb(a,b,c){a.g||(a.g={});if(!a.g[c]){var d=F(a,c);d&&(a.g[c]=new b(d))}return a.g[c]}function Rb(a,b,c){a.g||(a.g={});if(!a.g[c]){for(var d=F(a,c),e=[],f=0;f<d.length;f++)e[f]=new b(d[f]);a.g[c]=e}b=a.g[c];b==Pb&&(b=a.g[c]=[]);return b}function H(a,b,c){a.g||(a.g={});var d=c?c.ca:c;a.g[b]=c;G(a,b,d)}function Sb(a,b,c){a.g||(a.g={});c=c||[];for(var d=[],e=0;e<c.length;e++)d[e]=c[e].ca;a.g[b]=c;G(a,b,d)}
C.prototype.j=function(){return q.JSON&&q.JSON.stringify?q.JSON.stringify(this.ca):tb(this.ca)};C.prototype.toString=function(){return this.ca.toString()};function Tb(a,b){if(a.o){a.g||(a.g={});var c=b.g;return b.j?(!a.g[c]&&a.o[c]&&(a.g[c]=new b.j(a.o[c])),a.g[c]):a.o[c]}}function Ub(a,b){var c=Vb;a.g||(a.g={});var d=a.v+a.B;a.ca[d]||(a.o=a.ca[d]={});d=c.g;c.j?(a.g[d]=b,a.o[d]=b?b.ca:b):a.o[d]=b}function Wb(a,b){return a==b||!(!a||!b)&&a instanceof b.constructor&&Xb(a.ca,b.ca)}
function Xb(a,b){if(na(a)&&na(b)){var c={},d,e,f;for(d in a)a.hasOwnProperty(d)&&(c[d]=0);for(d in b)b.hasOwnProperty(d)&&(c[d]=0);for(d in c){var c=a[d],h=b[d];if(na(c)&&!x(c)){if(void 0!==e)throw Error("invalid jspb state");e=Ib(c)?void 0:c;c=void 0}if(na(h)&&!x(h)){if(void 0!==f)throw Error("invalid jspb state");f=Ib(h)?void 0:h;h=void 0}if(!Xb(c,h))return!1}return e||f?Xb(e,f):!0}return a==b}function Yb(a){return new a.constructor(Zb(a.ca))}
function Zb(a){var b;if(x(a)){for(var c=Array(a.length),d=0;d<a.length;d++)null!=(b=a[d])&&(c[d]="object"==typeof b?Zb(b):b);return c}c={};for(d in a)null!=(b=a[d])&&(c[d]="object"==typeof b?Zb(b):b);return c}function $b(a){var b=ac[a[0]];if(!b)throw Error("Unknown JsPb message type: "+a[0]);return new b(a)}function bc(a,b){ac[a]=b;b.Om=a}var ac={};function I(a){return I.g(a)}I.g=function(a){return a+"_"};I.B=function(){throw Error("xid.literal must not be used in COMPILED mode.");};I.v=function(a){if(a&&a.constructor&&a.constructor.toString()===Object.toString()){var b={},c;for(c in a)a.hasOwnProperty(c)&&(b[I.g(c)]=a[c]);return b}throw Error("xid.object must be called with an object literal.");};I.j=!0;I.o=aa();I.A=function(){return"a_"!=I("a")};function cc(a){E(this,a,0,1,null)}B(cc,C);function dc(a){this.data=a};function J(){this.V=this.V;this.N=this.N}J.prototype.V=!1;J.prototype.isDisposed=g("V");J.prototype.W=function(){this.V||(this.V=!0,this.F())};function K(a,b){ec(a,ta(L,b))}function ec(a,b){a.V?b.call(void 0):(a.N||(a.N=[]),a.N.push(t(void 0)?z(b,void 0):b))}J.prototype.F=function(){if(this.N)for(;this.N.length;)this.N.shift()()};function L(a){a&&"function"==typeof a.W&&a.W()}function fc(a){for(var b=0,c=arguments.length;b<c;++b){var d=arguments[b];ja(d)?fc.apply(null,d):L(d)}};function gc(a){J.call(this);this.j=a;this.g=[]}B(gc,J);function hc(a,b,c){c=ic(b.j.g,jc.toString(),c,a.j)+1E6;a.g.push(b,c);return a}gc.prototype.F=function(){gc.G.F.call(this);for(var a,b;b=this.g.pop();)(a=this.g.pop())&&!a.isDisposed()&&a.Db(b);delete this.j;delete this.g};function kc(a){this.g=a}kc.prototype.toString=g("g");var lc=new kc("visibility"),mc=new kc("selection"),nc=new kc("value"),oc=new kc("enabled"),pc=new kc("change"),jc=new kc("action");function qc(){this.j="";this.g=null}function rc(a){var b=new qc;b.j=a;b.g=0}rc("<!DOCTYPE html>");rc("");function sc(a,b){this.x=t(a)?a:0;this.y=t(b)?b:0}sc.prototype.clone=function(){return new sc(this.x,this.y)};function tc(a,b){return new sc(a.x-b.x,a.y-b.y)}sc.prototype.floor=function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this};sc.prototype.round=function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this};function uc(a,b){this.width=a;this.height=b}m=uc.prototype;m.clone=function(){return new uc(this.width,this.height)};m.yi=function(){return this.width*this.height};m.ya=function(){return!this.yi()};m.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};m.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};var vc;a:{var wc=q.navigator;if(wc){var xc=wc.userAgent;if(xc){vc=xc;break a}}vc=""}function yc(a){return-1!=vc.indexOf(a)};function zc(){return yc("Opera")||yc("OPR")}function Ac(){return(yc("Chrome")||yc("CriOS"))&&!zc()&&!yc("Edge")};function Bc(){return yc("iPhone")&&!yc("iPod")&&!yc("iPad")};var Cc=yc("Macintosh"),Dc="",Ec=/WebKit\/(\S+)/.exec(vc);Ec&&(Dc=Ec?Ec[1]:"");var Fc=Dc,Gc={};
function Hc(a){var b;if(!(b=Gc[a])){b=0;for(var c=Ca(String(Fc)).split("."),d=Ca(String(a)).split("."),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var h=c[f]||"",k=d[f]||"",n=RegExp("(\\d*)(\\D*)","g"),p=RegExp("(\\d*)(\\D*)","g");do{var r=n.exec(h)||["","",""],u=p.exec(k)||["","",""];if(0==r[0].length&&0==u[0].length)break;b=Ua(0==r[1].length?0:parseInt(r[1],10),0==u[1].length?0:parseInt(u[1],10))||Ua(0==r[2].length,0==u[2].length)||Ua(r[2],u[2])}while(0==b)}b=Gc[a]=0<=b}return b};function Ic(a){return a?new Jc(Kc(a)):ya||(ya=new Jc)}function Lc(a,b){zb(b,function(b,d){"style"==d?a.style.cssText=b:"class"==d?a.className=b:"for"==d?a.htmlFor=b:Mc.hasOwnProperty(d)?a.setAttribute(Mc[d],b):0==d.lastIndexOf("aria-",0)||0==d.lastIndexOf("data-",0)?a.setAttribute(d,b):a[d]=b})}
var Mc={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Nc(a){return a.scrollingElement?a.scrollingElement:a.body||a.documentElement}function Oc(a){return a.parentWindow||a.defaultView}
function Pc(a,b,c){function d(c){c&&b.appendChild(y(c)?a.createTextNode(c):c)}for(var e=2;e<c.length;e++){var f=c[e];!ja(f)||na(f)&&0<f.nodeType?d(f):Za(Qc(f)?ib(f):f,d)}}function Rc(a){a&&a.parentNode&&a.parentNode.removeChild(a)}function Sc(a,b){if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==b||Boolean(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a}
function Kc(a){return 9==a.nodeType?a:a.ownerDocument||a.document}var Tc={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},Uc={IMG:" ",BR:"\n"};function Vc(a){a=a.getAttributeNode("tabindex");return null!=a&&a.specified}function Wc(a){a=a.tabIndex;return la(a)&&0<=a&&32768>a}function Xc(a){var b=[];Yc(a,b,!1);return b.join("")}
function Yc(a,b,c){if(!(a.nodeName in Tc))if(3==a.nodeType)c?b.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,"")):b.push(a.nodeValue);else if(a.nodeName in Uc)b.push(Uc[a.nodeName]);else for(a=a.firstChild;a;)Yc(a,b,c),a=a.nextSibling}function Qc(a){if(a&&"number"==typeof a.length){if(na(a))return"function"==typeof a.item||"string"==typeof a.item;if(ma(a))return"function"==typeof a.item}return!1}function Jc(a){this.g=a||q.document||document}m=Jc.prototype;
m.S=function(a){return y(a)?this.g.getElementById(a):a};m.Ga=function(a,b,c){var d=this.g,e=arguments,f=e[1],h=d.createElement(e[0]);f&&(y(f)?h.className=f:x(f)?h.className=f.join(" "):Lc(h,f));2<e.length&&Pc(d,h,e);return h};m.createElement=function(a){return this.g.createElement(a)};m.appendChild=function(a,b){a.appendChild(b)};m.contains=Sc;function Zc(){J.call(this);this.A=1;this.o=[];this.v=0;this.g=[];this.j={}}B(Zc,J);function ic(a,b,c,d){var e=a.j[b];e||(e=a.j[b]=[]);var f=a.A;a.g[f]=b;a.g[f+1]=c;a.g[f+2]=d;a.A=f+3;e.push(f);return f}function $c(a,b,c,d){if(b=a.j[b]){var e=a.g;if(b=db(b,function(a){return e[a+1]==c&&e[a+2]==d}))return a.Db(b)}return!1}m=Zc.prototype;m.Db=function(a){var b=this.g[a];if(b){var c=this.j[b];0!=this.v?(this.o.push(a),this.g[a+1]=w):(c&&gb(c,a),delete this.g[a],delete this.g[a+1],delete this.g[a+2])}return!!b};
m.Se=function(a,b){var c=this.j[a];if(c){this.v++;for(var d=Array(arguments.length-1),e=1,f=arguments.length;e<f;e++)d[e-1]=arguments[e];try{for(e=0,f=c.length;e<f;e++){var h=c[e];this.g[h+1].apply(this.g[h+2],d)}}finally{if(this.v--,0<this.o.length&&0==this.v)for(;c=this.o.pop();)this.Db(c)}}};m.clear=function(a){if(a){var b=this.j[a];b&&(Za(b,this.Db,this),delete this.j[a])}else this.g.length=0,this.j={}};
m.fa=function(a){if(a){var b=this.j[a];return b?b.length:0}a=0;for(b in this.j)a+=this.fa(b);return a};m.F=function(){Zc.G.F.call(this);this.clear();this.o.length=0};function ad(){J.call(this);this.g=new Zc;K(this,this.g)}B(ad,J);ad.prototype.Db=function(a){return this.g.Db(a)};ad.prototype.clear=function(a){this.g.clear(t(a)?a.toString():void 0)};ad.prototype.fa=function(a){return this.g.fa(t(a)?a.toString():void 0)};function bd(){};function cd(a,b){J.call(this);this.A=a;this.o={};this.g=b?Jb(b):{};this.B=Jb(this.g);dd(this);this.v=new Zc;this.j=new ad}B(cd,J);function dd(a){t(a.g["keys-enabled"])||(a.g["keys-enabled"]=!0);a.isEnabled()||(a.o["default"]=!0)}m=cd.prototype;m.F=function(){cd.G.F.call(this);this.v.W();this.j.W();delete this.v;delete this.j;delete this.g};m.getId=g("A");m.isEnabled=function(){return!!this.g.enabled};
m.rb=function(a,b){var c=b||"default",d=!0;if(a){delete this.o[c];for(var e in this.o){d=!1;break}}else this.o[c]=!0,d=!1;ed(this,"enabled",d)};m.ta=function(){return!!this.g.visible};m.eb=function(a){ed(this,"visible",a)};m.Ea=function(){return this.g.keys};m.Sa=function(){return this.g.value};function ed(a,b,c){c!==a.g[b]&&(a.g[b]=c,a.j.g.Se(pc.toString(),new bd),(b=fd(b))&&a.j.g.Se(b.toString(),new bd))}m.Db=function(a){return 1E6<a?this.j.Db(a-1E6):this.v.Db(a)};
m.reset=function(){this.v.clear();this.j.clear();this.g=Jb(this.B);this.o={};dd(this)};function fd(a){switch(a){case "visible":return lc;case "selected":return mc;case "value":return nc;case "enabled":return oc;default:return null}};var gd=!1;function hd(a){var b={};b.label=a;b.visible=!0;b.hint=a;b.enabled=!0;return new cd(a,b)}
function id(){gd||(gd=!0,jd={D:hd("docos-insert-discussion"),Vk:hd("docos-cancel-insert-discussion"),mm:hd("docos-new-doco"),om:hd("docos-new-reply"),Zk:hd("docos-delete-doco"),cl:hd("docos-delete-reply"),Hl:hd("docos-edit-doco"),Zl:hd("docos-edit-reply"),Nl:hd("docos-edit-draft"),Tk:hd("docos-before-highlight-doco"),gm:hd("docos-highlight-doco"),pm:hd("docos-resolve-doco"),tm:hd("docos-update-notification-settings"),Sk:hd("docos-back-to-document"),C:hd("docos-accept-suggestion"),H:hd("docos-reject-suggestion")})}
var jd={};function kd(a,b){this.g=!t(a)||a;this.j=t(b)?b:null};function ld(a){E(this,a,0,-1,null)}B(ld,C);ld.prototype.getName=function(){return F(this,1)};ld.prototype.getUrl=function(){return F(this,2)};ld.prototype.getId=function(){return F(this,9)};function md(a){E(this,a,0,-1,null)}B(md,C);md.prototype.getUrl=function(){return F(this,1)};function nd(a){E(this,a,0,-1,null)}B(nd,C);function od(a){E(this,a,0,-1,null)}B(od,C);od.prototype.Sa=function(){return F(this,2)};function pd(a){E(this,a,0,-1,null)}B(pd,C);pd.prototype.Sa=function(){return F(this,2)};function qd(a){E(this,a,0,-1,null)}B(qd,C);qd.prototype.getName=function(){return F(this,1)};qd.prototype.getId=function(){return F(this,4)};function rd(a){E(this,a,0,-1,sd)}B(rd,C);var sd=[8];rd.prototype.getId=function(){return F(this,1)};rd.prototype.Da=function(){return Qb(this,od,3)};function td(a){return Rb(a,rd,8)}
function ud(a){return F(a,11)}function vd(a){E(this,a,0,-1,null)}B(vd,C);vd.prototype.getId=function(){return F(this,1)};function wd(a){return Qb(a,rd,2)}vd.prototype.A=function(a){G(this,6,a)};vd.prototype.la=function(){return F(this,8)};function xd(a){E(this,a,0,-1,null)}B(xd,C);xd.prototype.getId=function(){return F(this,1)};function yd(a){E(this,a,0,-1,null)}B(yd,C);yd.prototype.rb=function(a){G(this,2,a)};function zd(a){E(this,a,0,-1,null)}B(zd,C);function Ad(a){E(this,a,"uc",-1,null)}B(Ad,C);bc("uc",Ad);function Bd(a){E(this,a,0,-1,null)}B(Bd,C);Bd.prototype.getFileName=function(){return F(this,2)};function Cd(a){E(this,a,"rjse",-1,null)}B(Cd,C);bc("rjse",Cd);function Dd(a){E(this,a,"u",-1,Ed)}B(Dd,C);var Ed=[1,2];bc("u",Dd);function Fd(a){E(this,a,"kd",-1,null)}B(Fd,C);bc("kd",Fd);Fd.prototype.aa=function(){return F(this,11)};function Gd(a){E(this,a,0,-1,Hd)}B(Gd,C);var Hd=[1];
function Id(a){E(this,a,"sr",-1,Jd)}B(Id,C);var Jd=[1];bc("sr",Id);function Kd(a,b){var c=null;a&&x(a)&&(c=a,x(c[0])&&b==c[0][0]&&(c=c[0],c.shift()));return c};function Ld(a,b,c,d,e,f,h){var k="";a&&(k+=a+":");c&&(k+="//",b&&(k+=b+"@"),k+=c,d&&(k+=":"+d));e&&(k+=e);f&&(k+="?"+f);h&&(k+="#"+h);return k}var Md=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#(.*))?$/;function Nd(a){a=a.match(Md);return Ld(a[1],a[2],a[3],a[4])}
function Od(a,b){if(a)for(var c=a.split("&"),d=0;d<c.length;d++){var e=c[d].indexOf("="),f=null,h=null;0<=e?(f=c[d].substring(0,e),h=c[d].substring(e+1)):f=c[d];b(f,h?Da(h):"")}}function Pd(a){if(a[1]){var b=a[0],c=b.indexOf("#");0<=c&&(a.push(b.substr(c)),a[0]=b=b.substr(0,c));c=b.indexOf("?");0>c?a[1]="?":c==b.length-1&&(a[1]=void 0)}return a.join("")}
function Qd(a,b,c){if(x(b))for(var d=0;d<b.length;d++)Qd(a,String(b[d]),c);else null!=b&&c.push("&",a,""===b?"":"=",encodeURIComponent(String(b)))}function Rd(a,b,c){for(c=c||0;c<b.length;c+=2)Qd(b[c],b[c+1],a);return a}function Sd(a){a=Rd([],a,void 0);a[0]="";return a.join("")}function Td(a,b){for(var c in b)Qd(c,b[c],a);return a}function Ud(a){a=Td([],a);a[0]="";return a.join("")}function Vd(a,b){return Pd(2==arguments.length?Rd([a],arguments[1],0):Rd([a],arguments,1))}
function Wd(a,b){return Pd(Td([a],b))}function Xd(a,b,c,d){for(var e=c.length;0<=(b=a.indexOf(c,b))&&b<d;){var f=a.charCodeAt(b-1);if(38==f||63==f)if(f=a.charCodeAt(b+e),!f||61==f||38==f||35==f)return b;b+=e+1}return-1}var Yd=/#|$/,Zd=/[?&]($|#)/;function M(a,b){this.type=a;this.v=this.target=b;this.B=!1;this.Ah=!0}M.prototype.stopPropagation=function(){this.B=!0};M.prototype.j=function(){this.Ah=!1};var $d=[],ae=[],be=!1;function ce(a){$d[$d.length]=a;if(be)for(var b=0;b<ae.length;b++)a(z(ae[b].g,ae[b]))};function de(a){de[" "](a);return a}de[" "]=w;Hc("528");Hc("528");function ee(a,b){M.call(this,a?a.type:"");this.o=this.v=this.target=null;this.keyCode=this.clientY=this.clientX=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.state=null;this.C=!1;this.g=null;if(a){var c=this.type=a.type,d=a.changedTouches?a.changedTouches[0]:null;this.target=a.target||a.srcElement;this.v=b;var e=a.relatedTarget;e||("mouseover"==c?e=a.fromElement:"mouseout"==c&&(e=a.toElement));this.o=e;null===d?(this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==
a.clientY?a.clientY:a.pageY):(this.clientX=void 0!==d.clientX?d.clientX:d.pageX,this.clientY=void 0!==d.clientY?d.clientY:d.pageY);this.keyCode=a.keyCode||0;this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.C=Cc?a.metaKey:a.ctrlKey;this.state=a.state;this.g=a;a.defaultPrevented&&this.j()}}B(ee,M);ee.prototype.stopPropagation=function(){ee.G.stopPropagation.call(this);this.g.stopPropagation?this.g.stopPropagation():this.g.cancelBubble=!0};
ee.prototype.j=function(){ee.G.j.call(this);var a=this.g;a.preventDefault?a.preventDefault():a.returnValue=!1};function fe(){}var ge="closure_listenable_"+(1E6*Math.random()|0);function he(a){return!(!a||!a[ge])}var ie=0;function je(a,b,c,d,e){this.listener=a;this.g=null;this.src=b;this.type=c;this.pe=!!d;this.Od=e;this.key=++ie;this.rd=this.Pb=!1}function ke(a){a.rd=!0;a.listener=null;a.g=null;a.src=null;a.Od=null};function le(a){this.src=a;this.g={};this.j=0}le.prototype.add=function(a,b,c,d,e){var f=a.toString();a=this.g[f];a||(a=this.g[f]=[],this.j++);var h=me(a,b,d,e);-1<h?(b=a[h],c||(b.Pb=!1)):(b=new je(b,this.src,f,!!d,e),b.Pb=c,a.push(b));return b};le.prototype.remove=function(a,b,c,d){a=a.toString();if(!(a in this.g))return!1;var e=this.g[a];b=me(e,b,c,d);return-1<b?(ke(e[b]),Array.prototype.splice.call(e,b,1),0==e.length&&(delete this.g[a],this.j--),!0):!1};
function ne(a,b){var c=b.type;c in a.g&&gb(a.g[c],b)&&(ke(b),0==a.g[c].length&&(delete a.g[c],a.j--))}function oe(a,b,c,d,e){a=a.g[b.toString()];b=-1;a&&(b=me(a,c,d,e));return-1<b?a[b]:null}function me(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.rd&&f.listener==b&&f.pe==!!c&&f.Od==d)return e}return-1};var pe="closure_lm_"+(1E6*Math.random()|0),qe={},re=0;function se(a,b,c,d,e){if(x(b)){for(var f=0;f<b.length;f++)se(a,b[f],c,d,e);return null}c=te(c);return he(a)?a.L(b,c,d,e):ue(a,b,c,!1,d,e)}
function ue(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");var h=!!e,k=ve(a);k||(a[pe]=k=new le(a));c=k.add(b,c,d,e,f);if(c.g)return c;d=we();c.g=d;d.src=a;d.listener=c;if(a.addEventListener)a.addEventListener(b.toString(),d,h);else if(a.attachEvent)a.attachEvent(xe(b.toString()),d);else throw Error("addEventListener and attachEvent are unavailable.");re++;return c}function we(){function a(c){return b.call(a.src,a.listener,c)}var b=ye;return a}
function ze(a,b,c,d,e){if(x(b)){for(var f=0;f<b.length;f++)ze(a,b[f],c,d,e);return null}c=te(c);return he(a)?a.Za.add(String(b),c,!0,d,e):ue(a,b,c,!0,d,e)}function Ae(a,b,c,d,e){if(x(b))for(var f=0;f<b.length;f++)Ae(a,b[f],c,d,e);else c=te(c),he(a)?a.za(b,c,d,e):a&&(a=ve(a))&&(b=oe(a,b,c,!!d,e))&&Be(b)}
function Be(a){if(!la(a)&&a&&!a.rd){var b=a.src;if(he(b))ne(b.Za,a);else{var c=a.type,d=a.g;b.removeEventListener?b.removeEventListener(c,d,a.pe):b.detachEvent&&b.detachEvent(xe(c),d);re--;(c=ve(b))?(ne(c,a),0==c.j&&(c.src=null,b[pe]=null)):ke(a)}}}function Ce(a,b,c,d,e){c=te(c);d=!!d;return he(a)?oe(a.Za,String(b),c,d,e):a?(a=ve(a))?oe(a,b,c,d,e):null:null}function xe(a){return a in qe?qe[a]:qe[a]="on"+a}
function ye(a,b){var c;if(a.rd)c=!0;else{c=new ee(b,this);var d=a.listener,e=a.Od||a.src;a.Pb&&Be(a);c=d.call(e,c)}return c}function ve(a){a=a[pe];return a instanceof le?a:null}var De="__closure_events_fn_"+(1E9*Math.random()>>>0);function te(a){if(ma(a))return a;a[De]||(a[De]=function(b){return a.handleEvent(b)});return a[De]}ce(function(a){ye=a(ye)});function Q(){J.call(this);this.Za=new le(this);this.Tc=this;this.Ia=null}B(Q,J);Q.prototype[ge]=!0;m=Q.prototype;m.Gd=g("Ia");m.Qc=ca("Ia");m.addEventListener=function(a,b,c,d){se(this,a,b,c,d)};m.removeEventListener=function(a,b,c,d){Ae(this,a,b,c,d)};
function R(a,b){var c,d=a.Gd();if(d){c=[];for(var e=1;d;d=d.Gd())c.push(d),++e}var d=a.Tc,e=b,f=e.type||e;if(y(e))e=new M(e,d);else if(e instanceof M)e.target=e.target||d;else{var h=e,e=new M(f,d);Mb(e,h)}var h=!0,k;if(c)for(var n=c.length-1;!e.B&&0<=n;n--)k=e.v=c[n],h=Ee(k,f,!0,e)&&h;e.B||(k=e.v=d,h=Ee(k,f,!0,e)&&h,e.B||(h=Ee(k,f,!1,e)&&h));if(c)for(n=0;!e.B&&n<c.length;n++)k=e.v=c[n],h=Ee(k,f,!1,e)&&h;return h}
m.F=function(){Q.G.F.call(this);if(this.Za){var a=this.Za,b=0,c;for(c in a.g){for(var d=a.g[c],e=0;e<d.length;e++)++b,ke(d[e]);delete a.g[c];a.j--}}this.Ia=null};m.L=function(a,b,c,d){return this.Za.add(String(a),b,!1,c,d)};m.za=function(a,b,c,d){return this.Za.remove(String(a),b,c,d)};
function Ee(a,b,c,d){b=a.Za.g[String(b)];if(!b)return!0;b=b.concat();for(var e=!0,f=0;f<b.length;++f){var h=b[f];if(h&&!h.rd&&h.pe==c){var k=h.listener,n=h.Od||h.src;h.Pb&&ne(a.Za,h);e=!1!==k.call(n,d)&&e}}return e&&0!=d.Ah};function Fe(a,b,c,d,e){this.j=a;this.o=b;this.A=c;this.g=d;this.v=e}Fe.prototype.getName=g("j");Fe.prototype.getId=g("g");function Ge(a){Q.call(this);this.xd(a)}B(Ge,Q);m=Ge.prototype;m.xd=function(a){var b=a.kd;if(!t(Qb(b,qd,9)))throw Error("Invalid or missing user.");var c=Qb(b,qd,9);this.Ce=new Fe(c.getName(),F(c,2),F(c,3),c.getId()||"",!!F(c,5));this.hg=!F(b,20);this.ig=b.aa();this.Bg=!!F(b,12);this.Ke=F(b,6);this.jg=t(a.l)?!!a.l:!!F(b,25);this.uh=F(b,21);this.kg=F(b,23);this.Uh=F(b,24);this.fh=F(b,31);t(a.i)?this.Be=a.i:this.Be=void 0;R(this,"r")};m.Ke=null;m.fh=null;m.Be=void 0;m.ig=null;m.jg=!1;m.uh=null;
m.kg=null;m.Uh=null;m.hg=!0;m.Bg=!1;m.Ce=null;m.aa=g("ig");function He(a){return a.Ce};function Ie(a,b,c,d){this.top=a;this.right=b;this.bottom=c;this.left=d}Ie.prototype.clone=function(){return new Ie(this.top,this.right,this.bottom,this.left)};Ie.prototype.contains=function(a){return this&&a?a instanceof Ie?a.left>=this.left&&a.right<=this.right&&a.top>=this.top&&a.bottom<=this.bottom:a.x>=this.left&&a.x<=this.right&&a.y>=this.top&&a.y<=this.bottom:!1};
Ie.prototype.floor=function(){this.top=Math.floor(this.top);this.right=Math.floor(this.right);this.bottom=Math.floor(this.bottom);this.left=Math.floor(this.left);return this};Ie.prototype.round=function(){this.top=Math.round(this.top);this.right=Math.round(this.right);this.bottom=Math.round(this.bottom);this.left=Math.round(this.left);return this};function Je(a,b,c,d){this.left=a;this.top=b;this.width=c;this.height=d}Je.prototype.clone=function(){return new Je(this.left,this.top,this.width,this.height)};Je.prototype.contains=function(a){return a instanceof Je?this.left<=a.left&&this.left+this.width>=a.left+a.width&&this.top<=a.top&&this.top+this.height>=a.top+a.height:a.x>=this.left&&a.x<=this.left+this.width&&a.y>=this.top&&a.y<=this.top+this.height};
Je.prototype.floor=function(){this.left=Math.floor(this.left);this.top=Math.floor(this.top);this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};Je.prototype.round=function(){this.left=Math.round(this.left);this.top=Math.round(this.top);this.width=Math.round(this.width);this.height=Math.round(this.height);return this};function Ke(a,b){var c=Kc(a);return c.defaultView&&c.defaultView.getComputedStyle&&(c=c.defaultView.getComputedStyle(a,null))?c[b]||c.getPropertyValue(b)||"":""}function Le(a,b){return Ke(a,b)||(a.currentStyle?a.currentStyle[b]:null)||a.style&&a.style[b]}function Me(a){var b;try{b=a.getBoundingClientRect()}catch(c){return{left:0,top:0,right:0,bottom:0}}return b}
function Ne(a){var b=Kc(a),c=Le(a,"position"),d="fixed"==c||"absolute"==c;for(a=a.parentNode;a&&a!=b;a=a.parentNode)if(11==a.nodeType&&a.host&&(a=a.host),c=Le(a,"position"),d=d&&"static"==c&&a!=b.documentElement&&a!=b.body,!d&&(a.scrollWidth>a.clientWidth||a.scrollHeight>a.clientHeight||"fixed"==c||"absolute"==c||"relative"==c))return a;return null}
function Oe(a){for(var b=new Ie(0,Infinity,Infinity,0),c=Ic(a),d=c.g.body,e=c.g.documentElement,f=Nc(c.g);a=Ne(a);)if((0!=a.clientHeight||a!=d)&&a!=d&&a!=e&&"visible"!=Le(a,"overflow")){var h=Pe(a),k=new sc(a.clientLeft,a.clientTop);h.x+=k.x;h.y+=k.y;b.top=Math.max(b.top,h.y);b.right=Math.min(b.right,h.x+a.clientWidth);b.bottom=Math.min(b.bottom,h.y+a.clientHeight);b.left=Math.max(b.left,h.x)}d=f.scrollLeft;f=f.scrollTop;b.left=Math.max(b.left,d);b.top=Math.max(b.top,f);c=(Oc(c.g)||window).document;
c="CSS1Compat"==c.compatMode?c.documentElement:c.body;c=new uc(c.clientWidth,c.clientHeight);b.right=Math.min(b.right,d+c.width);b.bottom=Math.min(b.bottom,f+c.height);return 0<=b.top&&0<=b.left&&b.bottom>b.top&&b.right>b.left?b:null}function Pe(a){var b=Kc(a),c=new sc(0,0),d=(b?Kc(b):document).documentElement;if(a==d)return c;a=Me(a);d=Ic(b).g;b=Nc(d);d=Oc(d);b=new sc(d.pageXOffset||b.scrollLeft,d.pageYOffset||b.scrollTop);c.x=a.left+b.x;c.y=a.top+b.y;return c}
function Qe(a,b){"number"==typeof a&&(a=(b?Math.round(a):a)+"px");return a}function Re(a){var b=Se;if("none"!=Le(a,"display"))return b(a);var c=a.style,d=c.display,e=c.visibility,f=c.position;c.visibility="hidden";c.position="absolute";c.display="inline";a=b(a);c.display=d;c.position=f;c.visibility=e;return a}function Se(a){var b=a.offsetWidth,c=a.offsetHeight;return t(b)&&(b||c)||!a.getBoundingClientRect?new uc(b,c):(a=Me(a),new uc(a.right-a.left,a.bottom-a.top))}
function Te(a){var b=Pe(a);a=Re(a);return new Je(b.x,b.y,a.width,a.height)}function Ue(a,b){a.style.display=b?"":"none"}function Ve(a){return"rtl"==Le(a,"direction")}function We(a,b,c){c=c?null:a.getElementsByTagName("*");b=b?"none":"";a.style&&(a.style.WebkitUserSelect=b);if(c){a=0;for(var d;d=c[a];a++)d.style&&(d.style.WebkitUserSelect=b)}};function Xe(a){var b=a.kd;y(b)&&(b=sb(b));x(b)&&(b=Kd(b,"kd"),b.unshift("kd"),a.kd=new Fd(b));Ge.call(this,a)}B(Xe,Ge);
Xe.prototype.xd=function(a){Xe.G.xd.call(this,a);this.g=a.kd;var b;if(!(b=this.C))if(y(document.URL)){var c=document.URL,d=c.search(Yd),e=0,f;for(b=[];0<=(f=Xd(c,e,"disco",d));){e=c.indexOf("&",f);if(0>e||e>d)e=d;f+=6;b.push(Da(c.substr(f,e-f)))}if(1<b.length)throw Error("Only one docoid can be specified in the url query parameter");if(q.history&&q.history.replaceState){for(var c=document.URL,d=c.search(Yd),e=0,h=[];0<=(f=Xd(c,e,"disco",d));)h.push(c.substring(e,f)),e=Math.min(c.indexOf("&",f)+1||
d,d);h.push(c.substr(e));c=h.join("").replace(Zd,"$1");q.history.replaceState(null,document.title||"",c)}b=0<b.length?b[0]:null}else b=null;this.C=b;this.A=a.storage||null;this.J=!!a["storage-ro"];this.M=!!a.so;this.B=a.docscroller||null;this.D=a.listeners||{};b=a.sortpaneby||"creation";"sortpane"in a&&(b=a.sortpane?"updated":"none");this.H=b;this.o=!!a.offline;a.readonly||a["fatal-readonly"]||F(this.g,8);F(this.g,3);this.I=!!a.showerrors;Ye(this);this.v=!!a["defer-first-sync"];this.j=a["impression-recorder-fn"]||
null;R(this,"r")};var Ze=null;function Ye(a){return a.g&&!!F(a.g,18)};function $e(a,b){this.v=a;this.o=b;this.constructor.Mf||(this.constructor.Mf={});this.constructor.Mf[this.toString()]=this}$e.prototype.j=function(){return this.toString()};$e.prototype.toString=function(){this.g||(this.g=this.v.g+":"+this.o);return this.g};function af(a,b){$e.call(this,a,b)}B(af,$e);function bf(a){this.g=a}new bf("lib");function S(a){this.g=a}S.prototype.toString=g("g");new S(I("goog.ui.ActivityMonitor"));new S(I("fava.app.AppLifetimeService"));new S(I("fava.base.AsyncOperationServices"));new S(I("fava.net.BrowserChannelServices"));new S(I("fava.canvas.CanvasService"));new S(I("fava.canvas.CanvasConfiguration"));new S(I("fava.diagnostics.CsiService"));new S(I("fava.data.DataServices"));new S(I("fava.data.DataStoreUpdaterService"));new S(I("fava.locale.DateTimeFormatService"));new S(I("fava.debug.DeobfuscationService"));new S(I("fava.diagnostics.Diagnostics"));new S(I("fava.component.DomServices"));
new S(I("fava.app.DragDropService"));new S(I("fava.browser.ExportService"));new S(I("fava.layout.FixedLayoutHelper"));new S(I("fava.gbar.GbarService"));new S(I("fava.gloader.GoogleLoaderService"));new S(I("fava.controls.help.HelpOverlayService"));new S(I("fava.view.HistoryInterface"));new S(I("fava.view.HistoryManager"));new S(I("fava.view.HistoryRegistry"));new S(I("fava.identity.IdentityService"));new S(I("fava.browser.IeCutCopyHandle"));new S(I("fava.diagnostics.Impressions"));new S(I("fava.browser.KeyboardShortcutHandler"));
new S(I("fava.browser.KeyboardShortcutRegistry"));new S(I("fava.controls.mole.MoleManager"));new S(I("fava.app.NavBarService"));new S(I("fava.view.NavigationServices"));new S(I("fava.net.NetworkDiagnosticsService"));new S(I("fava.app.NotificationService"));new S(I("fava.request.OauthService"));new S(I("fava.net.OfflineServices"));new S(I("fava.modules.PrefetchService"));new S(I("fava.controls.RelativeDateControl"));new S(I("fava.request.RequestService"));new S(I("fava.base.Scheduler"));new S(I("fava.net.ServerErrorService"));
new S(I("fava.dom.SoyRenderer"));new S(I("fava.dom.SoyRendererConfig"));new S(I("fava.app.TitleBar"));new S(I("fava.controls.Toast"));new S(I("fava.app.UserActionService"));new S(I("fava.browser.ViewportServices"));new S(I("fava.diagnostics.ViewDiagnostics"));new S(I("fava.view.ViewManagerInterface"));new S(I("fava.view.ViewRegistry"));new S(I("fava.browser.WindowService"));new S(I("fava.browser.WindowOpenerUtil"));new S(I("fava.app.WindowWidget"));new S(I("fava.request.XsrfService"));function cf(a){return function(){return a}}var df=cf(!1),ef=cf(null);function ff(a){var b;b=b||0;return function(){return a.apply(this,Array.prototype.slice.call(arguments,0,b))}};var gf="StopIteration"in q?q.StopIteration:{message:"StopIteration",stack:""};function hf(){}hf.prototype.next=function(){throw gf;};hf.prototype.qc=function(){return this};function jf(a){if(a instanceof hf)return a;if("function"==typeof a.qc)return a.qc(!1);if(ja(a)){var b=0,c=new hf;c.next=function(){for(;;){if(b>=a.length)throw gf;if(b in a)return a[b++];b++}};return c}throw Error("Not implemented");}
function kf(a,b){if(ja(a))try{Za(a,b,void 0)}catch(c){if(c!==gf)throw c;}else{a=jf(a);try{for(;;)b.call(void 0,a.next(),void 0,a)}catch(c){if(c!==gf)throw c;}}};function lf(a,b){this.j={};this.g=[];this.v=this.o=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.hb(arguments[d],arguments[d+1])}else if(a){a instanceof lf?(c=a.Ea(),d=a.ia()):(c=Db(a),d=Cb(a));for(var e=0;e<c.length;e++)this.hb(c[e],d[e])}}m=lf.prototype;m.fa=g("o");m.ia=function(){mf(this);for(var a=[],b=0;b<this.g.length;b++)a.push(this.j[this.g[b]]);return a};m.Ea=function(){mf(this);return this.g.concat()};
m.Sb=function(a){for(var b=0;b<this.g.length;b++){var c=this.g[b];if(nf(this.j,c)&&this.j[c]==a)return!0}return!1};m.yc=function(a,b){if(this===a)return!0;if(this.o!=a.fa())return!1;var c=b||of;mf(this);for(var d,e=0;d=this.g[e];e++)if(!c(this.get(d),a.get(d)))return!1;return!0};function of(a,b){return a===b}m.ya=function(){return 0==this.o};m.clear=function(){this.j={};this.v=this.o=this.g.length=0};
m.remove=function(a){return nf(this.j,a)?(delete this.j[a],this.o--,this.v++,this.g.length>2*this.o&&mf(this),!0):!1};function mf(a){if(a.o!=a.g.length){for(var b=0,c=0;b<a.g.length;){var d=a.g[b];nf(a.j,d)&&(a.g[c++]=d);b++}a.g.length=c}if(a.o!=a.g.length){for(var e={},c=b=0;b<a.g.length;)d=a.g[b],nf(e,d)||(a.g[c++]=d,e[d]=1),b++;a.g.length=c}}m.get=function(a,b){return nf(this.j,a)?this.j[a]:b};m.hb=function(a,b){nf(this.j,a)||(this.o++,this.g.push(a),this.v++);this.j[a]=b};
m.forEach=function(a,b){for(var c=this.Ea(),d=0;d<c.length;d++){var e=c[d],f=this.get(e);a.call(b,f,e,this)}};m.clone=function(){return new lf(this)};m.qc=function(a){mf(this);var b=0,c=this.v,d=this,e=new hf;e.next=function(){if(c!=d.v)throw Error("The map has changed since the iterator was created");if(b>=d.g.length)throw gf;var e=d.g[b++];return a?e:d.j[e]};return e};function nf(a,b){return Object.prototype.hasOwnProperty.call(a,b)};function pf(a){return a.fa&&"function"==typeof a.fa?a.fa():ja(a)||y(a)?a.length:Bb(a)}function qf(a){if(a.ia&&"function"==typeof a.ia)return a.ia();if(y(a))return a.split("");if(ja(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return Cb(a)}function rf(a){if(a.Ea&&"function"==typeof a.Ea)return a.Ea();if(!a.ia||"function"!=typeof a.ia){if(ja(a)||y(a)){var b=[];a=a.length;for(var c=0;c<a;c++)b.push(c);return b}return Db(a)}}
function sf(a,b){if(a.forEach&&"function"==typeof a.forEach)a.forEach(b,void 0);else if(ja(a)||y(a))Za(a,b,void 0);else for(var c=rf(a),d=qf(a),e=d.length,f=0;f<e;f++)b.call(void 0,d[f],c&&c[f],a)}function tf(a,b,c){if("function"==typeof a.every)return a.every(b,c);if(ja(a)||y(a))return Array.prototype.every.call(a,b,c);for(var d=rf(a),e=qf(a),f=e.length,h=0;h<f;h++)if(!b.call(c,e[h],d&&d[h],a))return!1;return!0};function uf(a){this.g=new lf;if(a){a=qf(a);for(var b=a.length,c=0;c<b;c++)this.add(a[c])}}function vf(a){var b=typeof a;return"object"==b&&a||"function"==b?"o"+oa(a):b.substr(0,1)+a}m=uf.prototype;m.fa=function(){return this.g.fa()};m.add=function(a){this.g.hb(vf(a),a)};m.remove=function(a){return this.g.remove(vf(a))};m.clear=function(){this.g.clear()};m.ya=function(){return this.g.ya()};m.contains=function(a){a=vf(a);return nf(this.g.j,a)};m.ia=function(){return this.g.ia()};m.clone=function(){return new uf(this)};
m.yc=function(a){return this.fa()==pf(a)&&wf(this,a)};function wf(a,b){var c=pf(b);if(a.fa()>c)return!1;!(b instanceof uf)&&5<c&&(b=new uf(b));return tf(a,function(a){var c=b;return c.contains&&"function"==typeof c.contains?c.contains(a):c.Sb&&"function"==typeof c.Sb?c.Sb(a):ja(c)||y(c)?eb(c,a):Fb(c,a)})}m.qc=function(){return this.g.qc(!1)};function xf(a,b,c){this.v=c;this.o=a;this.A=b;this.j=0;this.g=null}xf.prototype.get=function(){var a;0<this.j?(this.j--,a=this.g,this.g=a.next,a.next=null):a=this.o();return a};function yf(a,b){a.A(b);a.j<a.v&&(a.j++,b.next=a.g,a.g=b)};function zf(a){q.setTimeout(function(){throw a;},0)}var Af;
function Bf(){var a=q.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!yc("Presto")&&(a=function(){var a=document.createElement("IFRAME");a.style.display="none";a.src="";document.documentElement.appendChild(a);var b=a.contentWindow,a=b.document;a.open();a.write("");a.close();var c="callImmediate"+Math.random(),d="file:"==b.location.protocol?"*":b.location.protocol+"//"+b.location.host,a=z(function(a){if(("*"==d||a.origin==d)&&a.data==
c)this.port1.onmessage()},this);b.addEventListener("message",a,!1);this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});if("undefined"!==typeof a&&!yc("Trident")&&!yc("MSIE")){var b=new a,c={},d=c;b.port1.onmessage=function(){if(t(c.next)){c=c.next;var a=c.Tf;c.Tf=null;a()}};return function(a){d.next={Tf:a};d=d.next;b.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(a){var b=document.createElement("SCRIPT");
b.onreadystatechange=function(){b.onreadystatechange=null;b.parentNode.removeChild(b);b=null;a();a=null};document.documentElement.appendChild(b)}:function(a){q.setTimeout(a,0)}}function Cf(a){return a}ce(function(a){Cf=a});function Df(){this.j=this.g=null}var Ff=new xf(function(){return new Ef},function(a){a.reset()},100);Df.prototype.add=function(a,b){var c=Ff.get();c.g=a;c.scope=b;c.next=null;this.j?this.j.next=c:this.g=c;this.j=c};Df.prototype.remove=function(){var a=null;this.g&&(a=this.g,this.g=this.g.next,this.g||(this.j=null),a.next=null);return a};function Ef(){this.next=this.scope=this.g=null}Ef.prototype.reset=function(){this.next=this.scope=this.g=null};function Gf(a,b){Hf||If();Jf||(Hf(),Jf=!0);Kf.add(a,b)}var Hf;function If(){if(q.Promise&&q.Promise.resolve){var a=q.Promise.resolve(void 0);Hf=function(){a.then(Lf)}}else Hf=function(){var a=Lf,a=Cf(a);!ma(q.setImmediate)||q.Window&&q.Window.prototype&&!yc("Edge")&&q.Window.prototype.setImmediate==q.setImmediate?(Af||(Af=Bf()),Af(a)):q.setImmediate(a)}}var Jf=!1,Kf=new Df;function Lf(){for(var a=null;a=Kf.remove();){try{a.g.call(a.scope)}catch(b){zf(b)}yf(Ff,a)}Jf=!1};function Mf(a){a.prototype.then=a.prototype.then;a.prototype.$goog_Thenable=!0}function Nf(a){if(!a)return!1;try{return!!a.$goog_Thenable}catch(b){return!1}};function T(a,b){this.g=0;this.C=void 0;this.v=this.j=this.o=null;this.A=this.B=!1;if(a!=w)try{var c=this;a.call(b,function(a){Of(c,2,a)},function(a){Of(c,3,a)})}catch(d){Of(this,3,d)}}function Pf(){this.next=this.v=this.j=this.A=this.g=null;this.o=!1}Pf.prototype.reset=function(){this.v=this.j=this.A=this.g=null;this.o=!1};var Qf=new xf(function(){return new Pf},function(a){a.reset()},100);function Rf(a,b,c){var d=Qf.get();d.A=a;d.j=b;d.v=c;return d}
function Sf(a){if(a instanceof T)return a;var b=new T(w);Of(b,2,a);return b}function Tf(a){return new T(function(b,c){c(a)})}function Uf(a,b,c){Vf(a,b,c,null)||Gf(ta(b,a))}function Wf(a){return new T(function(b,c){var d=a.length,e=[];if(d)for(var f=function(a,c){d--;e[a]=c;0==d&&b(e)},h=function(a){c(a)},k=0,n;k<a.length;k++)n=a[k],Uf(n,ta(f,k),h);else b(e)})}
function Xf(a){return new T(function(b){var c=a.length,d=[];if(c)for(var e=function(a,e,f){c--;d[a]=e?{Cg:!0,value:f}:{Cg:!1,reason:f};0==c&&b(d)},f=0,h;f<a.length;f++)h=a[f],Uf(h,ta(e,f,!0),ta(e,f,!1));else b(d)})}function Yf(){var a,b,c=new T(function(c,e){a=c;b=e});return new Zf(c,a,b)}T.prototype.then=function(a,b,c){return $f(this,ma(a)?a:null,ma(b)?b:null,c)};Mf(T);function ag(a,b){var c=Rf(b,b,void 0);c.o=!0;bg(a,c);return a}
T.prototype.cancel=function(a){0==this.g&&Gf(function(){var b=new cg(a);dg(this,b)},this)};function dg(a,b){if(0==a.g)if(a.o){var c=a.o;if(c.j){for(var d=0,e=null,f=null,h=c.j;h&&(h.o||(d++,h.g==a&&(e=h),!(e&&1<d)));h=h.next)e||(f=h);e&&(0==c.g&&1==d?dg(c,b):(f?(d=f,d.next==c.v&&(c.v=d),d.next=d.next.next):eg(c),fg(c,e,3,b)))}a.o=null}else Of(a,3,b)}function bg(a,b){a.j||2!=a.g&&3!=a.g||gg(a);a.v?a.v.next=b:a.j=b;a.v=b}
function $f(a,b,c,d){var e=Rf(null,null,null);e.g=new T(function(a,h){e.A=b?function(c){try{var e=b.call(d,c);a(e)}catch(p){h(p)}}:a;e.j=c?function(b){try{var e=c.call(d,b);!t(e)&&b instanceof cg?h(b):a(e)}catch(p){h(p)}}:h});e.g.o=a;bg(a,e);return e.g}T.prototype.D=function(a){this.g=0;Of(this,2,a)};T.prototype.V=function(a){this.g=0;Of(this,3,a)};
function Of(a,b,c){0==a.g&&(a==c&&(b=3,c=new TypeError("Promise cannot resolve to itself")),a.g=1,Vf(c,a.D,a.V,a)||(a.C=c,a.g=b,a.o=null,gg(a),3!=b||c instanceof cg||hg(a,c)))}function Vf(a,b,c,d){if(a instanceof T)return bg(a,Rf(b||w,c||null,d)),!0;if(Nf(a))return a.then(b,c,d),!0;if(na(a))try{var e=a.then;if(ma(e))return ig(a,e,b,c,d),!0}catch(f){return c.call(d,f),!0}return!1}
function ig(a,b,c,d,e){function f(a){k||(k=!0,d.call(e,a))}function h(a){k||(k=!0,c.call(e,a))}var k=!1;try{b.call(a,h,f)}catch(n){f(n)}}function gg(a){a.B||(a.B=!0,Gf(a.N,a))}function eg(a){var b=null;a.j&&(b=a.j,a.j=b.next,b.next=null);a.j||(a.v=null);return b}T.prototype.N=function(){for(var a=null;a=eg(this);)fg(this,a,this.g,this.C);this.B=!1};
function fg(a,b,c,d){if(3==c&&b.j&&!b.o)for(;a&&a.A;a=a.o)a.A=!1;if(b.g)b.g.o=null,jg(b,c,d);else try{b.o?b.A.call(b.v):jg(b,c,d)}catch(e){kg.call(null,e)}yf(Qf,b)}function jg(a,b,c){2==b?a.A.call(a.v,c):a.j&&a.j.call(a.v,c)}function hg(a,b){a.A=!0;Gf(function(){a.A&&kg.call(null,b)})}var kg=zf;function cg(a){xa.call(this,a)}B(cg,xa);cg.prototype.name="cancel";function Zf(a,b,c){this.j=a;this.g=b;this.o=c};/*
 Portions of this code are from MochiKit, received by
 The Closure Authors under the MIT license. All other code is Copyright
 2005-2009 The Closure Authors. All Rights Reserved.
*/
function U(a,b){this.B=[];this.P=a;this.I=b||null;this.v=this.g=!1;this.o=void 0;this.H=this.U=this.N=!1;this.C=0;this.j=null;this.A=0}m=U.prototype;m.cancel=function(a){if(this.g)this.o instanceof U&&this.o.cancel();else{if(this.j){var b=this.j;delete this.j;a?b.cancel(a):(b.A--,0>=b.A&&b.cancel())}this.P?this.P.call(this.I,this):this.H=!0;this.g||this.R(new lg(this))}};m.$f=function(a,b){this.N=!1;mg(this,a,b)};function mg(a,b,c){a.g=!0;a.o=c;a.v=!b;ng(a)}
function og(a){if(a.g){if(!a.H)throw new pg(a);a.H=!1}}m.K=function(a){og(this);mg(this,!0,a)};m.R=function(a){og(this);mg(this,!1,a)};m.T=function(a,b){return V(this,a,null,b)};function qg(a,b,c){return V(a,null,b,c)}function rg(a,b){return V(a,b,b,void 0)}function V(a,b,c,d){a.B.push([b,c,d]);a.g&&ng(a);return a}m.then=function(a,b,c){var d,e,f=new T(function(a,b){d=a;e=b});V(this,d,function(a){a instanceof lg?f.cancel():e(a)});return f.then(a,b,c)};Mf(U);function sg(a,b){V(a,b.K,b.R,b)}
function tg(a,b){b instanceof U?a.T(z(b.Vc,b)):a.T(function(){return b})}U.prototype.Vc=function(a){var b=new U;sg(this,b);a&&(b.j=this,this.A++);return b};function ug(a){return cb(a.B,function(a){return ma(a[1])})}
function ng(a){if(a.C&&a.g&&ug(a)){var b=a.C,c=vg[b];c&&(q.clearTimeout(c.Hd),delete vg[b]);a.C=0}a.j&&(a.j.A--,delete a.j);for(var b=a.o,d=c=!1;a.B.length&&!a.N;){var e=a.B.shift(),f=e[0],h=e[1],e=e[2];if(f=a.v?h:f)try{var k=f.call(e||a.I,b);t(k)&&(a.v=a.v&&(k==b||k instanceof Error),a.o=b=k);if(Nf(b)||"function"===typeof q.Promise&&b instanceof q.Promise)d=!0,a.N=!0}catch(n){b=n,a.v=!0,ug(a)||(c=!0)}}a.o=b;d&&(k=z(a.$f,a,!0),d=z(a.$f,a,!1),b instanceof U?(V(b,k,d),b.U=!0):b.then(k,d));c&&(b=new wg(b),
vg[b.Hd]=b,a.C=b.Hd)}function xg(a){var b=new U;b.K(a);return b}function yg(a){var b=new U;b.R(a);return b}function pg(a){xa.call(this);this.g=a}B(pg,xa);pg.prototype.message="Deferred has already fired";pg.prototype.name="AlreadyCalledError";function lg(a){xa.call(this);this.g=a}B(lg,xa);lg.prototype.message="Deferred was canceled";lg.prototype.name="CanceledError";function wg(a){this.Hd=q.setTimeout(z(this.j,this),0);this.g=a}wg.prototype.j=function(){delete vg[this.Hd];throw this.g;};var vg={};function zg(a){J.call(this);this.j={};this.B={};this.A={};this.g={};this.C={};this.H={};this.D=a?a.D:new Q;this.J=!a;this.o=null;a?(this.o=a,this.A=a.A,this.g=a.g,this.B=a.B,this.C=a.C):A();a=Ag(this);this!=a&&(a.v?a.v.push(this):a.v=[this])}B(zg,J);function Ag(a){for(;a.o;)a=a.o;return a}zg.prototype.get=function(a){var b=Bg(this,a);if(null==b)throw new Cg(a);return b};function Dg(a){return!(!a.j.netIo&&!a.A.netIo)}
function Bg(a,b){for(var c=a;c;c=c.o){if(c.isDisposed())throw Error("AppContext is disposed.");if(c.j[b])return c.j[b][0];if(c.H[b])break}if(c=a.A[b]){c=c(a);if(null==c)throw Error("Factory method for service "+b+" returned null or undefined.");Eg(a,b,c);return c}return null}function Eg(a,b,c){if(a.isDisposed())L(c);else{a.j[b]=[c,!0];c=Fg(a,a,b);for(var d=0;d<c.length;d++)c[d].K(null);delete a.B[b]}}
function Fg(a,b,c){var d=[],e=a.g[c];e&&($a(e,function(a){var c;a:{for(c=a.xi;c;){if(c==b){c=!0;break a}c=c.o}c=!1}c&&(d.push(a.d),gb(e,a))}),0==e.length&&delete a.g[c]);return d}function Gg(a,b){a.g&&sf(a.g,function(a,d,e){$a(a,function(d){d.xi==b&&gb(a,d)});0==a.length&&delete e[d]})}
zg.prototype.F=function(){if(Ag(this)==this){var a=this.v;if(a)for(;a.length;)a[0].W()}else for(var a=Ag(this).v,b=0;b<a.length;b++)if(a[b]==this){a.splice(b,1);break}for(var c in this.j)a=this.j[c],a[1]&&"undefined"!=typeof a[0].W&&a[0].W();this.j=null;this.J&&this.D.W();Gg(this,this);this.g=null;L(this.I);this.H=this.I=null;zg.G.F.call(this)};function Cg(a){xa.call(this);this.id=a;this.message='Service for "'+a+'" is not registered'}B(Cg,xa);var Hg=new bf("fva");new af(Hg,1);function Ig(){zg.call(this)}B(Ig,zg);function Jg(a){return a.get("config")}function W(a){return a.get("stream")};function Kg(a,b){if(t(b.getId())){var c=b.getId();G(a,1,c)}c=wd(b);if(t(c)){var d=wd(a);c?d?Lg(d,c):H(a,2,c):H(a,2,void 0)}t(F(b,3))&&(c=F(b,3),G(a,3,c));t(F(b,4))&&(c=F(b,4),G(a,4,c));d=Qb(b,xd,5);if(t(d))if(c=Qb(a,xd,5),d)if(c){if(t(d.getId())){var e=d.getId();G(c,1,e)}e=Qb(d,od,2);if(t(e)){var f=Qb(c,od,2);e?f?Ng(f,e):H(c,2,e):H(c,2,void 0)}d=Qb(d,vd,3);t(d)&&(e=Qb(c,vd,3),d?e?Kg(e,d):H(c,3,d):H(c,3,void 0))}else H(a,5,d);else H(a,5,void 0);t(F(b,6))&&a.A(F(b,6));t(F(b,7))&&(c=F(b,7),G(a,7,c));
t(b.la())&&(c=b.la(),G(a,8,c));t(F(b,9))&&(c=F(b,9),G(a,9,c))}
function Lg(a,b){if(t(b.getId())){var c=b.getId();G(a,1,c)}t(F(b,2))&&(c=F(b,2),G(a,2,c));c=b.Da();if(t(c)){var d=a.Da();c?d?Ng(d,c):H(a,3,c):H(a,3,void 0)}c=Qb(b,od,4);t(c)&&(d=Qb(a,od,4),c?d?Ng(d,c):H(a,4,c):H(a,4,void 0));d=Qb(b,qd,5);if(t(d))if(c=Qb(a,qd,5),d)if(c){if(t(d.getName())){var e=d.getName();G(c,1,e)}t(F(d,2))&&(e=F(d,2),G(c,2,e));t(F(d,3))&&(e=F(d,3),G(c,3,e));t(d.getId())&&(e=d.getId(),G(c,4,e));t(F(d,5))&&(e=F(d,5),G(c,5,e));t(F(d,6))&&(d=F(d,6),G(c,6,d))}else H(a,5,d);else H(a,5,
void 0);d=Qb(b,ld,14);if(t(d))if(c=Qb(a,ld,14),d)if(c){t(d.getName())&&(e=d.getName(),G(c,1,e));t(d.getUrl())&&(e=d.getUrl(),G(c,2,e));var f=Qb(d,md,3);if(t(f))if(e=Qb(c,md,3),f)if(e){if(t(f.getUrl())){var h=f.getUrl();G(e,1,h)}t(F(f,2))&&(h=F(f,2),G(e,2,h));t(F(f,3))&&(f=F(f,3),G(e,3,f))}else H(c,3,f);else H(c,3,void 0);t(F(d,4))&&(e=F(d,4),G(c,4,e));t(F(d,5))&&(e=F(d,5),G(c,5,e));t(F(d,6))&&(e=F(d,6),G(c,6,e));f=Qb(d,nd,7);t(f)&&(e=Qb(c,nd,7),f?e?(t(F(f,1))&&(h=F(f,1),G(e,1,h)),t(F(f,2))&&(h=F(f,
2),G(e,2,h)),t(F(f,3))&&(h=F(f,3),G(e,3,h)),t(F(f,4))&&(f=F(f,4),G(e,4,f))):H(c,7,f):H(c,7,void 0));t(F(d,8))&&(d=F(d,8),G(c,8,d))}else H(a,14,d);else H(a,14,void 0);t(F(b,6))&&(c=F(b,6),G(a,6,c));t(F(b,7))&&(c=F(b,7),G(a,7,c));td(b)&&(c=hb(td(a),td(b)),Sb(a,8,c));d=Qb(b,pd,9);t(d)&&(c=Qb(a,pd,9),d?c?(t(F(d,1))&&(e=F(d,1),G(c,1,e)),t(d.Sa())&&(e=d.Sa(),G(c,2,e)),t(Qb(d,cc,3))&&(e=Qb(d,cc,3),H(c,3,e)),t(F(d,4))&&(d=F(d,4),G(c,4,d))):H(a,9,d):H(a,9,void 0));t(F(b,10))&&(c=F(b,10),G(a,10,c));t(ud(b))&&
(c=ud(b),G(a,11,c));t(F(b,12))&&(c=F(b,12),G(a,12,c));t(F(b,13))&&(c=F(b,13),G(a,13,c));t(F(b,15))&&(c=F(b,15),G(a,15,c));t(F(b,16))&&(c=F(b,16),G(a,16,c));t(F(b,17))&&(c=F(b,17),G(a,17,c))}function Ng(a,b){if(t(F(b,1))){var c=F(b,1);G(a,1,c)}t(b.Sa())&&(c=b.Sa(),G(a,2,c))};var Og;
Og={Zh:["BC","AD"],Yh:["Before Christ","Anno Domini"],ci:"JFMAMJJASOND".split(""),mi:"JFMAMJJASOND".split(""),ai:"January February March April May June July August September October November December".split(" "),li:"January February March April May June July August September October November December".split(" "),ii:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),oi:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),ti:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),ri:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),
ki:"Sun Mon Tue Wed Thu Fri Sat".split(" "),pi:"Sun Mon Tue Wed Thu Fri Sat".split(" "),g:"SMTWTFS".split(""),ni:"SMTWTFS".split(""),ji:["Q1","Q2","Q3","Q4"],ei:["1st quarter","2nd quarter","3rd quarter","4th quarter"],Vh:["AM","PM"],Gf:["EEEE, MMMM d, y","MMMM d, y","MMM d, y","M/d/yy"],Kf:["h:mm:ss a zzzz","h:mm:ss a z","h:mm:ss a","h:mm a"],Wh:["{1} 'at' {0}","{1} 'at' {0}","{1}, {0}","{1}, {0}"],Hf:6,j:[5,6],If:5};function Pg(a,b,c){la(a)?(this.g=Qg(a,b||0,c||1),Rg(this,c||1)):na(a)?(this.g=Qg(a.getFullYear(),a.getMonth(),a.getDate()),Rg(this,a.getDate())):(this.g=new Date(A()),a=this.g.getDate(),this.g.setHours(0),this.g.setMinutes(0),this.g.setSeconds(0),this.g.setMilliseconds(0),Rg(this,a))}function Qg(a,b,c){b=new Date(a,b,c);0<=a&&100>a&&b.setFullYear(b.getFullYear()-1900);return b}m=Pg.prototype;m.zg=Og.Hf;m.Ag=Og.If;m.clone=function(){var a=new Pg(this.g);a.zg=this.zg;a.Ag=this.Ag;return a};
m.getFullYear=function(){return this.g.getFullYear()};m.getMonth=function(){return this.g.getMonth()};m.getDate=function(){return this.g.getDate()};m.getTime=function(){return this.g.getTime()};m.getDay=function(){return this.g.getDay()};m.getUTCFullYear=function(){return this.g.getUTCFullYear()};m.getUTCMonth=function(){return this.g.getUTCMonth()};m.getUTCDate=function(){return this.g.getUTCDate()};m.getUTCHours=function(){return this.g.getUTCHours()};m.getUTCMinutes=function(){return this.g.getUTCMinutes()};
m.getTimezoneOffset=function(){return this.g.getTimezoneOffset()};
m.add=function(a){if(a.o||a.j){var b=this.getMonth()+a.j+12*a.o,c=this.getFullYear()+Math.floor(b/12),b=b%12;0>b&&(b+=12);var d;a:{switch(b){case 1:d=0!=c%4||0==c%100&&0!=c%400?28:29;break a;case 5:case 8:case 10:case 3:d=30;break a}d=31}d=Math.min(d,this.getDate());this.g.setDate(1);this.g.setFullYear(c);this.g.setMonth(b);this.g.setDate(d)}a.g&&(a=new Date((new Date(this.getFullYear(),this.getMonth(),this.getDate(),12)).getTime()+864E5*a.g),this.g.setDate(1),this.g.setFullYear(a.getFullYear()),
this.g.setMonth(a.getMonth()),this.g.setDate(a.getDate()),Rg(this,a.getDate()))};m.Ig=function(){return[this.getFullYear(),Qa(this.getMonth()+1,2),Qa(this.getDate(),2)].join("")+""};m.yc=function(a){return!(!a||this.getFullYear()!=a.getFullYear()||this.getMonth()!=a.getMonth()||this.getDate()!=a.getDate())};m.toString=function(){return this.Ig()};function Rg(a,b){a.getDate()!=b&&a.g.setUTCHours(a.g.getUTCHours()+(a.getDate()<b?1:-1))}m.valueOf=function(){return this.g.valueOf()};function Sg(a){if(-1==a.indexOf("@")&&-1==a.indexOf("://")&&-1==a.indexOf("www.")&&-1==a.indexOf("Www.")&&-1==a.indexOf("WWW."))return Ea(a);var b={};"rel"in b||(b.rel="nofollow");"target"in b||(b.target="_blank");var c=[],d;for(d in b)b.hasOwnProperty(d)&&b[d]&&c.push(Ea(d),'="',Ea(b[d]),'" ');var e=c.join("");return a.replace(Tg,function(a,b,c,d,p){a=[Ea(b)];if(!c)return a[0];a.push("<a ",e,'href="');d?(a.push("mailto:"),c=d,d=""):(p||a.push("http://"),(d=c.match(Ug))&&-1==c.indexOf("(")?(c=d[1],
d=d[2]):d="");c=Ea(c);d=Ea(d);a.push(c,'">',c,"</a>",d);return a.join("")})}var Ug=/^(.*?)([:;,\.?}\]\)!]+)$/,Tg=RegExp("([\\S\\s]*?)(\\b(?:mailto:)?([\\w.+-]+@[A-Za-z0-9.-]+\\.(?:com|org|net|edu|gov|aero|biz|cat|coop|info|int|jobs|mobi|museum|name|pro|travel|arpa|asia|xxx|[a-z][a-z])\\b)|\\b(?:(https?|ftp)://|www\\.)[\\w#-;!=?@\\[\\\\\\]_`{|}~]+|$)","gi");function Vg(a){this.g=[];this.j={};this.o=a}Vg.prototype.text=function(a){this.g.push(a)};function Wg(a,b){if(a.j[b])a.g.push(b);else{var c=new Xg(b,a.g.length);a.g.push(c);a.j[b]=c}}function Yg(a,b){var c=a.j[b];if(c){delete a.j[b];c.g=a.o[b].open;var d=ab(Cb(a.j),function(a){return a.j>c.j});mb(d,function(a,b){return nb(a.j,b.j)});a.g.push(new Zg(a.o[b].close,d,a.o))}else a.g.push(b)}Vg.prototype.Cc=function(){return this.g.join("")};function Xg(a,b){this.o=a;this.j=b;this.g=null}
Xg.prototype.getName=g("o");Xg.prototype.toString=function(){return null===this.g?this.o:this.g};function Zg(a,b,c){this.o=a;this.g=b;this.j=c}Zg.prototype.toString=function(){for(var a=[],b=this.g.length-1;0<=b;--b){var c=this.g[b];null!==c.g&&a.push(this.j[c.getName()].close)}a.push(this.o);for(b=0;b<this.g.length;++b)c=this.g[b],null!==c.g&&a.push(this.j[c.getName()].open);return a.join("")};function $g(a){var b=new Vg(ah);a=" "+a+" ";for(var c=1;c<a.length-1;++c){var d=a.substr(c-1,3),e=a.charAt(c),f=bh.test(d),d=ch.test(d);f?d?(f=b,f.j[e]?Yg(f,e):Wg(f,e)):Wg(b,e):d?Yg(b,e):b.text(e)}return new dh(b.Cc())}function eh(a){return new dh(a.replace(fh,"<br>"))}var fh=/\r\n|\n|\r/g,ah={"*":{open:"<b>",close:"</b>"},_:{open:"<i>",close:"</i>"},"-":{open:"<s>",close:"</s>"}},bh=/([\.\,\!\?\(\)\s_\-]\*|[\.\,\!\?\(\)\s*\-]_|[\.\,\!\?\(\)\s*_]-)\S/,ch=/\S(\*[_\-\.\,\!\?\(\)\s]|_[*\-\.\,\!\?\(\)\s]|-[*_\.\,\!\?\(\)\s])/;
function dh(a){this.j=a}dh.prototype.g=function(a){return a(this.j)};dh.prototype.toString=g("j");function gh(a){this.j=a}gh.prototype.g=function(){return this};gh.prototype.toString=g("j");function hh(a){this.j=a}hh.prototype.g=function(a){var b=bb(this.j,function(b){return b.g(a)});return new hh(b)};hh.prototype.toString=function(){return this.j.join("")};function ih(a){a.getId()||ud(a);this.g=a;0==F(this.g,13)&&(G(this.g,13,void 0),G(this.g,15,void 0))}m=ih.prototype;m.update=function(a){t(F(a,13))&&0!=F(a,13)&&(H(a,3,void 0),H(a,4,void 0),H(a,9,void 0));Lg(this.g,a);0==F(this.g,13)&&(G(this.g,13,void 0),G(this.g,15,void 0))};m.yc=function(a){return Wb(this.g,a.g)};m.getId=function(){return this.g.getId()||jh(this)};function jh(a){return ud(a.g)||""}m.Ab=function(){return!!F(this.g,12)};m.Oa=function(){return!!F(this.g,13)};
m.hf=function(){return t(F(this.g,16))&&!t(F(this.g,10))};function kh(a,b){this.g=new rd;G(this.g,11,a);b&&b!=a&&G(this.g,1,b)}function lh(a,b){var c=td(a.g);c.push(b.g);Sb(a.g,8,c);return a}function mh(a){G(a.g,12,!0);return a}function nh(a,b){G(a.g,6,b);return a}function oh(a,b){var c=new qd,d=b.getId();G(c,4,d);d=b.getName();null!==d&&G(c,1,d);d=b.o;null!==d&&G(c,2,d);d=b.A;null!==d&&G(c,3,d);G(c,5,b.v);H(a.g,5,c);return a}
function ph(a,b,c){var d=Ca(b);b=new od;G(b,1,"text/plain");G(b,2,d);H(a.g,4,b);b=new od;G(b,1,"text/html");for(var d=Sg(d),e=[],f=d.indexOf("<");0<=f;f=d.indexOf("<"))e.push(new dh(d.substring(0,f))),d=d.substring(f),f=d.indexOf("<",1)+4,e.push(new gh(d.substring(0,f))),d=d.substring(f);e.push(new dh(d));d=(new hh(e)).g($g).g(eh).toString();G(b,2,d);H(a.g,3,b);G(a.g,7,c);return a}kh.prototype.A=function(a){G(this.g,10,a?0:1);return this};function qh(a,b,c){var d=wd(a);this.g=a;this.A=b;this.B=!!c;this.v={};this.o={};this.j=new ih(d);b=this.getId();if(a=wd(a))for(a=td(a),c=0;c<a.length;c++)d=new ih(a[c]),t(F(a[c],13))?this.v[d.getId()]=d:(this.o[d.getId()]=d,this.A.bind(b,d.getId()))}m=qh.prototype;m.Oi=null;m.Pi=null;m.getId=function(){return this.j.getId()};m.la=function(){return this.g.la()||""};function rh(a){return t(a.g.la())}m.Ab=function(){return!!F(this.g,9)};m.Oa=function(){return this.j.Oa()};m.hf=function(){return this.j.hf()};
function sh(a){this.g=a}function th(a){var b=new vd;a=a.g;H(b,2,a);a.getId()||ud(a);a=a.getId()||ud(a);G(b,1,a);return new sh(b)}function uh(a,b){G(a.g,9,b);return a}sh.prototype.A=function(a){this.g.A(a);return this};sh.prototype.getId=function(){return wd(this.g).getId()};function vh(a){this.j=a;this.g=null}vh.prototype.getName=g("j");vh.prototype.log=ba();vh.prototype.config=ba();var wh={},xh=null;function yh(a){xh||(xh=new vh(""),wh[""]=xh);var b;if(!(b=wh[a])){b=new vh(a);var c=a.lastIndexOf("."),d=a.substr(c+1),c=yh(a.substr(0,c));c.g||(c.g={});c.g[d]=b;wh[a]=b}return b};function zh(a){J.call(this);this.g=a;this.o={};this.j=new gc(this);K(this,this.j);yh("docos.control.Controller");id();hc(hc(hc(hc(this.j,jd.Hl,this.A),jd.Zl,this.C),jd.Nl,this.B),jd.cl,this.v)}B(zh,J);zh.prototype.C=function(a){var b=a.data;if(a=Ah(W(this.g),b.wb)){var c=a.o[b.Xl]||null;if(c){var d=A(),b=ph(mh(new kh(jh(c),c.getId())),b.text,d);a=lh(new kh(jh(a.j),a.getId()),b);a=uh(th(a),!0);Bh(W(this.g),a);Ch(W(this.g))}}};
zh.prototype.B=function(a){a=a.data;var b=Ah(W(this.g),a.wb);if(b){var c=A();a=ph(new kh(jh(b.j),b.getId()),a.text,c);a=uh(th(a),!1);Bh(W(this.g),a);Ch(W(this.g))}};zh.prototype.A=function(a){a=a.data;var b=Ah(W(this.g),a.id);if(b){var c=A();a=ph(mh(new kh(jh(b.j),b.getId())),a.text,c);a=uh(th(a),!0);Bh(W(this.g),a);Ch(W(this.g))}};
zh.prototype.v=function(a){var b=a.data;if(a=Ah(W(this.g),b.wb)){var c=a.o[b.Xl]||null;c&&(b=A(),c=mh(new kh(jh(c),c.getId())),G(c.g,13,b),a=lh(new kh(jh(a.j),a.getId()),c),a=uh(th(a),!0),Bh(W(this.g),a),Ch(W(this.g)))}};function Dh(){Q.call(this)}B(Dh,Q);function Eh(a,b){M.call(this,a);this.cb=b||null}B(Eh,M);function Gh(){}function Hh(){};function Ih(a,b){J.call(this);this.v=b;this.g=[];if(a>this.v)throw Error("[goog.structs.SimplePool] Initial cannot be greater than max");for(var c=0;c<a;c++)this.g.push(this.j())}B(Ih,J);Ih.prototype.Ra=function(){return this.g.length?this.g.pop():this.j()};function Jh(a,b){a.g.length<a.v?a.g.push(b):a.o(b)}Ih.prototype.j=function(){return{}};Ih.prototype.o=function(a){if(na(a))if(ma(a.W))a.W();else for(var b in a)delete a[b]};
Ih.prototype.F=function(){Ih.G.F.call(this);for(var a=this.g;a.length;)this.o(a.pop());delete this.g};function Kh(){this.g=[];this.A=new lf;this.V=this.H=this.I=this.C=0;this.j=new lf;this.B=this.D=0;this.J=1;this.o=new Ih(0,4E3);this.o.j=function(){return new Lh};this.N=new Ih(0,50);this.N.j=function(){return new Mh};var a=this;this.v=new Ih(0,2E3);this.v.j=function(){return String(a.J++)};this.v.o=ba()}function Mh(){this.Df=this.time=this.count=0}
Mh.prototype.toString=function(){var a=[];a.push(this.type," ",this.count," (",Math.round(10*this.time)/10," ms)");this.Df&&a.push(" [VarAlloc = ",this.Df,"]");return a.join("")};function Lh(){}function Nh(a,b,c,d){var e=[];-1==c?e.push("    "):e.push(Oh(a.j-c));e.push(" ",Ph(a.j-b));0==a.g?e.push(" Start        "):1==a.g?(e.push(" Done "),e.push(Oh(a.A-a.startTime)," ms ")):e.push(" Comment      ");e.push(d,a);0<a.v&&e.push("[VarAlloc ",a.v,"] ");return e.join("")}
Lh.prototype.toString=function(){return null==this.type?this.o:"["+this.type+"] "+this.o};Kh.prototype.reset=function(){for(var a=0;a<this.g.length;a++){var b=this.o.id;b&&Jh(this.v,b);Jh(this.o,this.g[a])}this.g.length=0;this.A.clear();this.C=A();this.B=this.D=this.V=this.H=this.I=0;b=this.j.Ea();for(a=0;a<b.length;a++){var c=this.j.get(b[a]);c.count=0;c.time=0;c.Df=0;Jh(this.N,c)}this.j.clear()};
Kh.prototype.toString=function(){for(var a=[],b=-1,c=[],d=0;d<this.g.length;d++){var e=this.g[d];1==e.g&&c.pop();a.push(" ",Nh(e,this.C,b,c.join("")));b=e.j;a.push("\n");0==e.g&&c.push("|  ")}if(0!=this.A.fa()){var f=A();a.push(" Unstopped timers:\n");kf(this.A,function(b){a.push("  ",b," (",f-b.startTime," ms, started at ",Ph(b.startTime),")\n")})}b=this.j.Ea();for(d=0;d<b.length;d++)c=this.j.get(b[d]),1<c.count&&a.push(" TOTAL ",c,"\n");a.push("Total tracers created ",this.D,"\n","Total comments created ",
this.B,"\n","Overhead start: ",this.I," ms\n","Overhead end: ",this.H," ms\n","Overhead comment: ",this.V," ms\n");return a.join("")};function Oh(a){a=Math.round(a);var b="";1E3>a&&(b=" ");100>a&&(b="  ");10>a&&(b="   ");return b+a}function Ph(a){a=Math.round(a);return String(100+a/1E3%60).substring(1,3)+"."+String(1E3+a%1E3).substring(1,4)}new Kh;function Qh(a){J.call(this);this.j=a}B(Qh,J);Qh.prototype.g=function(a){return Rh(this,a)};function Sh(a,b){return(b?"__wrapper_":"__protected_")+oa(a)+"__"}function Rh(a,b){var c=Sh(a,!0);b[c]||((b[c]=Th(a,b))[Sh(a,!1)]=b);return b[c]}function Th(a,b){function c(){if(a.isDisposed())return b.apply(this,arguments);try{return b.apply(this,arguments)}catch(c){throw a.j(c),new Uh(c);}finally{}}c[Sh(a,!1)]=b;return c}
function Vh(a,b){var c=fa("window"),d=c[b];c[b]=function(b,c){y(b)&&(b=ta(va,b));b=Rh(a,b);return d.call?d.call(this,b,c):d(b,c)};c[b][Sh(a,!1)]=d}Qh.prototype.F=function(){var a=fa("window"),b;b=a.setTimeout;b=b[Sh(this,!1)]||b;a.setTimeout=b;b=a.setInterval;b=b[Sh(this,!1)]||b;a.setInterval=b;Qh.G.F.call(this)};function Uh(a){xa.call(this,"Error in protected function: "+(a&&a.message?String(a.message):String(a)));(a=(this.Fb=a)&&a.stack)&&y(a)&&(this.stack=a)}B(Uh,xa);function Wh(a,b){Q.call(this);this.j=a||1;this.g=b||q;this.o=z(this.jm,this);this.v=A()}B(Wh,Q);m=Wh.prototype;m.enabled=!1;m.$a=null;m.setInterval=function(a){this.j=a;this.$a&&this.enabled?(Xh(this),Yh(this)):this.$a&&Xh(this)};m.jm=function(){if(this.enabled){var a=A()-this.v;0<a&&a<.8*this.j?this.$a=this.g.setTimeout(this.o,this.j-a):(this.$a&&(this.g.clearTimeout(this.$a),this.$a=null),R(this,"tick"),this.enabled&&(this.$a=this.g.setTimeout(this.o,this.j),this.v=A()))}};
function Yh(a){a.enabled=!0;a.$a||(a.$a=a.g.setTimeout(a.o,a.j),a.v=A())}function Xh(a){a.enabled=!1;a.$a&&(a.g.clearTimeout(a.$a),a.$a=null)}m.F=function(){Wh.G.F.call(this);Xh(this);delete this.g};function Zh(a,b,c){if(ma(a))c&&(a=z(a,c));else if(a&&"function"==typeof a.handleEvent)a=z(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<b?-1:q.setTimeout(a,b||0)}function $h(a){q.clearTimeout(a)};function ai(a){switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:return!0;default:return!1}};function bi(){}bi.prototype.g=null;function ci(a){var b;(b=a.g)||(b={},di(a)&&(b[0]=!0,b[1]=!0),b=a.g=b);return b};var ei;function fi(){}B(fi,bi);function gi(a){return(a=di(a))?new ActiveXObject(a):new XMLHttpRequest}function di(a){if(!a.j&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),a.j=d}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");}return a.j}ei=new fi;function hi(a){Q.call(this);this.Y=new lf;this.O=a||null;this.j=!1;this.M=this.g=null;this.X=this.D="";this.v=0;this.o="";this.C=this.U=this.I=this.P=!1;this.A=0;this.H=null;this.B="";this.J=this.Kd=!1}B(hi,Q);var ii=/^https?$/i,ji=["POST","PUT"],ki=[];m=hi.prototype;m.Ci=function(){this.W();gb(ki,this)};
m.send=function(a,b,c,d){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);b=b?b.toUpperCase():"GET";this.D=a;this.o="";this.v=0;this.X=b;this.P=!1;this.j=!0;this.g=this.ue();this.M=this.O?ci(this.O):ci(ei);this.g.onreadystatechange=z(this.nh,this);try{Hh(li(this,"Opening Xhr")),this.U=!0,this.g.open(b,String(a),!0),this.U=!1}catch(f){Hh(li(this,"Error opening Xhr: "+f.message));mi(this,f);return}a=c||"";var e=this.Y.clone();d&&sf(d,function(a,b){e.hb(b,
a)});d=db(e.Ea(),ni);c=q.FormData&&a instanceof q.FormData;!eb(ji,b)||d||c||e.hb("Content-Type","application/x-www-form-urlencoded;charset=utf-8");e.forEach(function(a,b){this.g.setRequestHeader(b,a)},this);this.B&&(this.g.responseType=this.B);Eb(this.g)&&(this.g.withCredentials=this.Kd);try{oi(this),0<this.A&&(this.J=!1,Hh(li(this,"Will abort after "+this.A+"ms if incomplete, xhr2 "+this.J)),this.J?(this.g.timeout=this.A,this.g.ontimeout=z(this.Pa,this)):this.H=Zh(this.Pa,this.A,this)),Hh(li(this,
"Sending request")),this.I=!0,this.g.send(a),this.I=!1}catch(f){Hh(li(this,"Send error: "+f.message)),mi(this,f)}};function ni(a){return"content-type"==a.toLowerCase()}m.ue=function(){return this.O?gi(this.O):gi(ei)};m.Pa=function(){"undefined"!=typeof ea&&this.g&&(this.o="Timed out after "+this.A+"ms, aborting",this.v=8,li(this,this.o),R(this,"timeout"),pi(this,8))};function mi(a,b){a.j=!1;a.g&&(a.C=!0,a.g.abort(),a.C=!1);a.o=b;a.v=5;qi(a);ri(a)}
function qi(a){a.P||(a.P=!0,R(a,"complete"),R(a,"error"))}function pi(a,b){a.g&&a.j&&(li(a,"Aborting"),a.j=!1,a.C=!0,a.g.abort(),a.C=!1,a.v=b||7,R(a,"complete"),R(a,"abort"),ri(a))}m.F=function(){this.g&&(this.j&&(this.j=!1,this.C=!0,this.g.abort(),this.C=!1),ri(this,!0));hi.G.F.call(this)};m.nh=function(){this.isDisposed()||(this.U||this.I||this.C?si(this):this.of())};m.of=function(){si(this)};
function si(a){if(a.j&&"undefined"!=typeof ea)if(a.M[1]&&4==ti(a)&&2==a.pa())li(a,"Local request error detected and ignored");else if(a.I&&4==ti(a))Zh(a.nh,0,a);else if(R(a,"readystatechange"),4==ti(a)){li(a,"Request complete");a.j=!1;try{if(a.fc())R(a,"complete"),R(a,"success");else{a.v=6;var b;try{b=2<ti(a)?a.g.statusText:""}catch(c){b=""}a.o=b+" ["+a.pa()+"]";qi(a)}}finally{ri(a)}}}
function ri(a,b){if(a.g){oi(a);var c=a.g,d=a.M[0]?w:null;a.g=null;a.M=null;b||R(a,"ready");try{c.onreadystatechange=d}catch(e){}}}function oi(a){a.g&&a.J&&(a.g.ontimeout=null);la(a.H)&&($h(a.H),a.H=null)}m.fc=function(){var a=this.pa(),b;if(!(b=ai(a))){if(a=0===a)a=String(this.D).match(Md)[1]||null,!a&&q.self&&q.self.location&&(a=q.self.location.protocol,a=a.substr(0,a.length-1)),a=!ii.test(a?a.toLowerCase():"");b=a}return b};function ti(a){return a.g?a.g.readyState:0}
m.pa=function(){try{return 2<ti(this)?this.g.status:-1}catch(a){return-1}};m.oa=function(){try{return this.g?this.g.responseText:""}catch(a){return""}};function ui(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.B){case "":case "text":return a.g.responseText;case "arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch(b){return null}}
m.getAllResponseHeaders=function(){return this.g&&4==ti(this)?this.g.getAllResponseHeaders():""};function li(a,b){return b+" ["+a.X+" "+a.D+" "+a.pa()+"]"}ce(function(a){hi.prototype.of=a(hi.prototype.of)});function vi(a,b,c){Q.call(this);this.B=b||null;this.A={};this.D=wi;this.I=a;if(!c){this.j=null;this.j=new Qh(z(this.g,this));Vh(this.j,"setTimeout");Vh(this.j,"setInterval");a=this.j;b=fa("window");c=["requestAnimationFrame","mozRequestAnimationFrame","webkitAnimationFrame","msRequestAnimationFrame"];for(var d=0;d<c.length;d++){var e=c[d];c[d]in b&&Vh(a,e)}a=this.j;be=!0;b=z(a.g,a);for(c=0;c<$d.length;c++)$d[c](b);ae.push(a)}}B(vi,Q);function xi(a,b){M.call(this,"c");this.error=a;this.o=b}B(xi,M);
function wi(a,b,c,d){var e=new hi;ki.push(e);e.Za.add("ready",e.Ci,!0,void 0,void 0);e.send(a,b,c,d)}
vi.prototype.g=function(a,b){var c;c=fa("window.location.href");if(y(a))c={message:a,name:"Unknown error",lineNumber:"Not available",fileName:c,stack:"Not available"};else{var d,e,f=!1;try{d=a.lineNumber||a.Nm||"Not available"}catch(h){d="Not available",f=!0}try{e=a.fileName||a.filename||a.sourceURL||q.$googDebugFname||c}catch(h){e="Not available",f=!0}c=!f&&a.lineNumber&&a.fileName&&a.stack&&a.message&&a.name?a:{message:a.message||"Not available",name:a.name||"UnknownError",lineNumber:d,fileName:e,
stack:a.stack||"Not available"}}d=b?Jb(b):{};if(this.B)try{this.B(c,d)}catch(h){}this.C(c.message.substring(0,1900),c.fileName,c.lineNumber,c.stack,d);try{R(this,new xi(c,d))}catch(h){}};vi.prototype.C=function(a,b,c,d,e){try{var f=Vd(this.I,"script",b,"error",a,"line",c);Ib(this.A)||(f=Wd(f,this.A));a={};a.trace=d;if(e)for(var h in e)a["context."+h]=e[h];var k=Ud(a);la(null)&&(k=k.substring(0,null));this.D(f,"POST",k,this.H)}catch(n){}};vi.prototype.F=function(){L(this.j);vi.G.F.call(this)};function yi(){vi.call(this,"",void 0,!0);this.o=new Qh(z(this.g,this));K(this,this.o)}B(yi,vi);yi.prototype.v=null;yi.prototype.C=function(a,b,c,d){if(this.v&&0!=a.lastIndexOf("Error in protected function: ",0)){var e=new Bd;G(e,1,a);G(e,2,b);G(e,3,String(c));d&&G(e,4,d);this.v.send("rjse",e,void 0,df,!0)}};yi.prototype.F=function(){yi.G.F.call(this);delete this.o};function zi(){this.j={};this.g={};this.o=0}function Ai(a,b,c){b="$"+b;return a.g[b]?a.g[b]["$"+(c?c:"")]||null:null}function Bi(a,b,c,d){var e="$"+c;a.g[e]||(a.g[e]={});a.j[b]=new Ci(c,d);a.g[e]["$"+(d?d:"")]=b}zi.prototype.bind=function(a,b){if(null!==Ai(this,a,b))return!1;this.o++;Bi(this,this.o,a,b);return!0};function Di(a,b,c){var d=Ai(a,b,c);null!==d&&(delete a.j[d],delete a.g["$"+b]["$"+(c?c:"")])}
function Ei(a,b,c,d,e){var f=Ai(a,b,c);if(null===f||null!==Ai(a,d,e))return!1;Di(a,b,c||void 0);Bi(a,f,d,e);return!0}function Fi(a,b,c){return Ai(a,b,c)||0}function Ci(a,b){this.g=a;this.j=b||null};function Gi(){Q.call(this);this.g={};this.C=null;this.o={};this.v=[];this.B={};this.A={};this.j=new zi}B(Gi,Q);
function Bh(a,b,c){c=c||"c";var d=Hi(a),e=Ii(a,b.getId(),ud(wd(b.g))||"");if(e){var f=e.getId(),h=e.Oa(),k;b=b.g;var n=Yb(e.g);wd(b);for(var p=wd(b),r=b.getId(),u=null!=r?r:e.getId(),r=t(F(p,13))&&0!=F(p,13)&&!e.Oa(),D=(!t(F(p,13))||0==F(p,13))&&e.Oa(),O=td(p),ka=0;ka<O.length;ka++){var da=O[ka],N=e.o[da.getId()||""]||e.o[ud(da)||""];k=!1;N||(N=e.v[da.getId()||""]||e.v[ud(da)||""],k=!!N);if(N){var P=N.getId();N.update(da);if(P!=N.getId()&&(delete e.o[P],e.o[N.getId()]=N,Fi(e.A,u,P)&&!Ei(e.A,u,P,u,
N.getId())))throw Error("Error updating ID from "+u+", "+P+" to "+u+", "+N.getId());N.Oa()?(delete e.o[N.getId()],e.v[N.getId()]=N,Di(e.A,u,N.getId())):k&&!N.Oa()&&(delete e.v[N.getId()],e.o[N.getId()]=N,e.A.bind(u,N.getId()))}else N=new ih(da),N.Oa()?(e.v[N.getId()]=N,Di(e.A,u,N.getId())):(e.o[N.getId()]=N,delete e.v[N.getId()],e.A.bind(u,N.getId())),N=td(wd(e.g)),N.push(da),da=wd(e.g),Sb(da,8,N)}u=0;t(F(b,6))&&F(b,6)!=!!F(e.g,6)&&(u=F(b,6)?u|2:u|4);r&&!k?u|=16:D&&(u|=8);Sb(p,8,[]);r&&(H(p,3,void 0),
H(p,4,void 0),H(p,9,void 0));Kg(e.g,b);e.j.update(p);e.Oi=null;e.Pi=null;Wb(e.g,n)||(u|=1);k=u;Ji(a,e);if(f!=e.getId()&&(delete a.g[f],delete a.o[f],b=Fi(a.j,f),delete a.B[b],a.g[e.getId()]=e,b&&!Ei(a.j,f,null,e.getId(),null)))throw Error("Error updating ID from "+f+" to "+e.getId());b=Fi(a.j,e.getId());e.Oa()?(delete a.g[e.getId()],Di(a.j,e.getId()),a.o[e.getId()]=e,b&&(a.B[b]=e),"n"!=c&&e.Ab()&&fb(a.v,e.getId()),R(a,new Ki("dd",c,e.getId(),f!=e.getId()?f:void 0,e.la(),b,k))):(h&&(delete a.o[e.getId()],
delete a.B[b],a.g[e.getId()]=e,e.la()&&a.j.bind(e.getId()),b=Fi(a.j,e.getId())),0!=k&&("n"!=c&&!e.B&&e.Ab()&&fb(a.v,e.getId()),R(a,new Ki("cd",c,e.getId(),f!=e.getId()?f:void 0,e.la(),b,k))))}else e=a.j,e=new qh(Yb(b.g),e,void 0),e.Oa()?a.o[e.getId()]=e:(f=c||"c",rh(e)&&((h=Li(a,e.la()))&&h.B?(Ei(a.j,h.getId(),null,e.getId(),null),Mi(a,h.getId(),f)):a.j.bind(e.getId())),a.g[e.getId()]=e,Ji(a,e),h=8|(F(e.g,6)?2:0),"n"!=f&&!e.B&&e.Ab()&&fb(a.v,e.getId()),R(a,new Ki("cd",f,e.getId(),void 0,e.la(),Fi(a.j,
e.getId()),h)));Hi(a)!=d&&(d=Hi(a)?32:0,R(a,new Ki("p",c,void 0,void 0,void 0,void 0,d)))}function Mi(a,b,c){c=c||"c";var d=a.g[b];if(d){var e;rh(d)&&(e=d.la(),delete a.A[d.la()]);d=Fi(a.j,b);delete a.g[b];Di(a.j,b);R(a,new Ki("dd",c,b,void 0,e,d,16))}}function Ni(a){function b(a){return a.Ab()}var c=ab(Cb(a.g),b);a=ab(Cb(a.o),b);return c.concat(a)}function Hi(a){function b(a){return a.Ab()}return!(!Hb(a.g,b)&&!Hb(a.o,b))}
function Oi(a){for(var b=0;b<a.v.length;b++){var c=a.v[b],d=a.g[c];d||(d=a.o[c]);if(d.Ab())return!0}return!1}function Ah(a,b){return a.g[b]}function Ii(a,b,c){return a.g[b]||a.o[b]||a.g[c]||a.o[c]||null}function Ji(a,b){b.la()&&(b.Oa()?delete a.A[b.la()]:a.A[b.la()]=b)}function Li(a,b){var c=a.A[b]||null;return c&&c.la()!=b?(delete a.A[b],null):c}function Ch(a){R(a,new Ki("f","c",void 0,void 0,void 0,void 0,void 0));R(a,new Ki("af","c"))}
function Ki(a,b,c,d,e,f,h){M.call(this,a);this.source=b;this.wb=c||null;this.o=d||null;this.sb=e||null;this.vb=f||0;this.A=h||0}B(Ki,M);function Pi(){var a=Math.floor(4294967296*Math.random()).toString(16),a=Pa("0",Math.max(0,8-a.length))+a;return Math.floor(2147483648*Math.random()).toString(16)+a};function Qi(a){this.g={};(a=a||q._docs_flag_initialData)&&Mb(this.g,a)}ga(Qi);Qi.prototype.get=function(a){return this.g[a]};function Ri(a,b){var c=a.get(b);return y(c)?"true"==c||"1"==c:!!c}function Si(a,b){return Number(a.get(b))}function Ti(a,b){var c=a.get(b);return null!=c?String(c):""}function Ui(a,b){var c=a.get(b);return null!=c?Object(c):{}};function Vi(){return Qi.ba()};function X(a){J.call(this);this.j=a;this.g={}}B(X,J);var Wi=[];X.prototype.L=function(a,b,c,d){x(b)||(b&&(Wi[0]=b.toString()),b=Wi);for(var e=0;e<b.length;e++){var f=se(a,b[e],c||this.handleEvent,d||!1,this.j||this);if(!f)break;this.g[f.key]=f}return this};function Xi(a,b,c,d){return Yi(a,b,c,d,void 0)}function Yi(a,b,c,d,e,f){if(x(c))for(var h=0;h<c.length;h++)Yi(a,b,c[h],d,e,f);else{b=ze(b,c,d||a.handleEvent,e,f||a.j||a);if(!b)return a;a.g[b.key]=b}return a}
X.prototype.za=function(a,b,c,d,e){if(x(b))for(var f=0;f<b.length;f++)this.za(a,b[f],c,d,e);else if(a=Ce(a,b,c||this.handleEvent,d,e||this.j||this))Be(a),delete this.g[a.key];return this};function Zi(a){zb(a.g,function(a,c){this.g.hasOwnProperty(c)&&Be(a)},a);a.g={}}X.prototype.F=function(){X.G.F.call(this);Zi(this)};X.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented");};function $i(){this.g=A()}new $i;$i.prototype.reset=function(){this.g=A()};$i.prototype.get=g("g");function aj(a,b){this.j=new ub(a);this.g=b?sb:rb}aj.prototype.stringify=function(a){return this.j.j(a)};aj.prototype.parse=function(a){return this.g(a)};function bj(a){this.j=0;this.o=a||100;this.g=[]}m=bj.prototype;m.add=function(a){var b=this.g[this.j];this.g[this.j]=a;this.j=(this.j+1)%this.o;return b};m.get=function(a){if(a>=this.g.length)throw Error("Out of bounds exception");a=this.g.length<this.o?a:(this.j+Number(a))%this.o;return this.g[a]};m.fa=function(){return this.g.length};m.ya=function(){return 0==this.g.length};m.clear=function(){this.j=this.g.length=0};
m.ia=function(){for(var a=this.fa(),b=this.fa(),c=[],a=this.fa()-a;a<b;a++)c.push(this.get(a));return c};m.Ea=function(){for(var a=[],b=this.fa(),c=0;c<b;c++)a[c]=c;return a};m.Sb=function(a){for(var b=this.fa(),c=0;c<b;c++)if(this.get(c)==a)return!0;return!1};function cj(a){return 0==a.fa()?null:a.get(a.fa()-1)};function dj(a,b){this.o=this.N=this.v="";this.C=null;this.A=this.g="";this.B=!1;var c;a instanceof dj?(this.B=t(b)?b:a.B,ej(this,a.v),this.N=a.N,fj(this,a.o),gj(this,a.C),this.g=a.g,hj(this,a.j.clone()),this.A=a.A):a&&(c=String(a).match(Md))?(this.B=!!b,ej(this,c[1]||"",!0),this.N=ij(c[2]||""),fj(this,c[3]||"",!0),gj(this,c[4]),this.g=ij(c[5]||"",!0),hj(this,c[6]||"",!0),this.A=ij(c[7]||"")):(this.B=!!b,this.j=new jj(null,0,this.B))}
dj.prototype.toString=function(){var a=[],b=this.v;b&&a.push(kj(b,lj,!0),":");var c=this.o;if(c||"file"==b)a.push("//"),(b=this.N)&&a.push(kj(b,lj,!0),"@"),a.push(encodeURIComponent(String(c)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c=this.C,null!=c&&a.push(":",String(c));if(c=this.g)this.o&&"/"!=c.charAt(0)&&a.push("/"),a.push(kj(c,"/"==c.charAt(0)?mj:nj,!0));(c=this.j.toString())&&a.push("?",c);(c=this.A)&&a.push("#",kj(c,oj));return a.join("")};dj.prototype.clone=function(){return new dj(this)};
function ej(a,b,c){a.v=c?ij(b,!0):b;a.v&&(a.v=a.v.replace(/:$/,""))}function fj(a,b,c){a.o=c?ij(b,!0):b}function gj(a,b){if(b){b=Number(b);if(isNaN(b)||0>b)throw Error("Bad port number "+b);a.C=b}else a.C=null}function hj(a,b,c){b instanceof jj?(a.j=b,pj(a.j,a.B)):(c||(b=kj(b,qj)),a.j=new jj(b,0,a.B))}function rj(a,b,c){var d=a.j;sj(d);d.o=null;b=tj(d,b);uj(d,b)&&(d.j-=d.g.get(b).length);d.g.hb(b,[c]);d.j++;return a}function vj(a,b,c){x(c)||(c=[String(c)]);wj(a.j,b,c)}
function xj(a){rj(a,"zx",Ta());return a}function yj(a){return a instanceof dj?a.clone():new dj(a,void 0)}function zj(a,b,c,d){var e=new dj(null,void 0);a&&ej(e,a);b&&fj(e,b);c&&gj(e,c);d&&(e.g=d);return e}function ij(a,b){return a?b?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function kj(a,b,c){return y(a)?(a=encodeURI(a).replace(b,Aj),c&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function Aj(a){a=a.charCodeAt(0);return"%"+(a>>4&15).toString(16)+(a&15).toString(16)}
var lj=/[#\/\?@]/g,nj=/[\#\?:]/g,mj=/[\#\?]/g,qj=/[\#\?@]/g,oj=/#/g;function jj(a,b,c){this.j=this.g=null;this.o=a||null;this.v=!!c}function sj(a){a.g||(a.g=new lf,a.j=0,a.o&&Od(a.o,function(b,c){a.add(Da(b),c)}))}m=jj.prototype;m.fa=function(){sj(this);return this.j};m.add=function(a,b){sj(this);this.o=null;a=tj(this,a);var c=this.g.get(a);c||this.g.hb(a,c=[]);c.push(b);this.j++;return this};
m.remove=function(a){sj(this);a=tj(this,a);return nf(this.g.j,a)?(this.o=null,this.j-=this.g.get(a).length,this.g.remove(a)):!1};m.clear=function(){this.g=this.o=null;this.j=0};m.ya=function(){sj(this);return 0==this.j};function uj(a,b){sj(a);b=tj(a,b);return nf(a.g.j,b)}m.Sb=function(a){var b=this.ia();return eb(b,a)};m.Ea=function(){sj(this);for(var a=this.g.ia(),b=this.g.Ea(),c=[],d=0;d<b.length;d++)for(var e=a[d],f=0;f<e.length;f++)c.push(b[d]);return c};
m.ia=function(a){sj(this);var b=[];if(y(a))uj(this,a)&&(b=hb(b,this.g.get(tj(this,a))));else{a=this.g.ia();for(var c=0;c<a.length;c++)b=hb(b,a[c])}return b};m.get=function(a,b){var c=a?this.ia(a):[];return 0<c.length?String(c[0]):b};function wj(a,b,c){a.remove(b);0<c.length&&(a.o=null,a.g.hb(tj(a,b),ib(c)),a.j+=c.length)}
m.toString=function(){if(this.o)return this.o;if(!this.g)return"";for(var a=[],b=this.g.Ea(),c=0;c<b.length;c++)for(var d=b[c],e=encodeURIComponent(String(d)),d=this.ia(d),f=0;f<d.length;f++){var h=e;""!==d[f]&&(h+="="+encodeURIComponent(String(d[f])));a.push(h)}return this.o=a.join("&")};m.clone=function(){var a=new jj;a.o=this.o;this.g&&(a.g=this.g.clone(),a.j=this.j);return a};function tj(a,b){var c=String(b);a.v&&(c=c.toLowerCase());return c}
function pj(a,b){b&&!a.v&&(sj(a),a.o=null,a.g.forEach(function(a,b){var e=b.toLowerCase();b!=e&&(this.remove(b),wj(this,e,a))},a));a.v=b};function Bj(a,b,c){J.call(this);this.v=null!=c?z(a,c):a;this.o=b;this.j=z(this.mj,this);this.g=[]}B(Bj,J);m=Bj.prototype;m.de=!1;m.Dc=null;m.Le=function(a){this.g=arguments;this.Dc?this.de=!0:Cj(this)};m.F=function(){Bj.G.F.call(this);this.Dc&&($h(this.Dc),this.Dc=null,this.de=!1,this.g=[])};m.mj=function(){this.Dc=null;this.de&&(this.de=!1,Cj(this))};function Cj(a){a.Dc=Zh(a.j,a.o);a.v.apply(null,a.g)};function Dj(a,b,c,d,e){this.j=a;this.g=c;this.C=d;this.B=e||1;this.Pa=45E3;this.v=new X(this);this.A=new Wh;this.A.setInterval(250)}m=Dj.prototype;m.Zb=null;m.Nb=!1;m.Sc=null;m.Ef=null;m.$d=null;m.Jd=null;m.dd=null;m.ae=null;m.jc=null;m.Aa=null;m.ie=0;m.Oh=null;m.ge=null;m.Fc=null;m.ed=-1;m.Wc=!1;m.Qe=0;m.Yd=null;var Ej={},Fj={};m=Dj.prototype;m.setTimeout=ca("Pa");function Gj(a,b,c){a.Jd=1;a.dd=xj(b.clone());a.jc=c;a.o=!0;Hj(a,null)}
function Ij(a,b,c,d){a.Jd=1;a.dd=xj(b.clone());a.jc=null;a.o=c;Hj(a,d)}function Hj(a,b){a.$d=A();Jj(a);a.ae=a.dd.clone();vj(a.ae,"t",a.B);a.ie=0;a.Aa=a.j.ve(a.j.td()?b:null);0<a.Qe&&(a.Yd=new Bj(z(a.Th,a,a.Aa),a.Qe));a.v.L(a.Aa,"readystatechange",a.Tl);var c=a.Zb?Jb(a.Zb):{};a.jc?(a.ge="POST",c["Content-Type"]="application/x-www-form-urlencoded",a.Aa.send(a.ae,a.ge,a.jc,c)):(a.ge="GET",a.Aa.send(a.ae,a.ge,null,c));a.j.Cb(1)}m.Tl=function(a){a=a.target;var b=this.Yd;b&&3==ti(a)?b.Le():this.Th(a)};
m.Th=function(a){try{if(a==this.Aa)a:{var b=ti(this.Aa),c=this.Aa.v,d=this.Aa.pa();if(!Hc("420+")){if(4>b)break a}else if(3>b||3==b&&!this.Aa.oa())break a;this.Wc||4!=b||7==c||(8==c||0>=d?this.j.Cb(3):this.j.Cb(2));Kj(this);var e=this.Aa.pa();this.ed=e;var f=this.Aa.oa();if(this.Nb=200==e){4==b&&Lj(this);if(this.o){for(a=!0;!this.Wc&&this.ie<f.length;){var h=Mj(this,f);if(h==Fj){4==b&&(this.Fc=4,Nj(),a=!1);Oj(null);break}else if(h==Ej){this.Fc=4;Nj();Oj(f);a=!1;break}else Oj(h),Pj(this,h)}4==b&&0==
f.length&&(this.Fc=1,Nj(),a=!1);this.Nb=this.Nb&&a;a||(Oj(f),Lj(this),Qj(this))}else Oj(f),Pj(this,f);this.Nb&&!this.Wc&&(4==b?this.j.pf(this):(this.Nb=!1,Jj(this)))}else this.Fc=400==e&&0<f.indexOf("Unknown SID")?3:0,Nj(),Lj(this),Qj(this)}}catch(k){this.Aa&&this.Aa.oa()&&this.Aa.oa()}finally{}};function Mj(a,b){var c=a.ie,d=b.indexOf("\n",c);if(-1==d)return Fj;c=Number(b.substring(c,d));if(isNaN(c))return Ej;d+=1;if(d+c>b.length)return Fj;var e=b.substr(d,c);a.ie=d+c;return e}
m.cancel=function(){this.Wc=!0;Lj(this)};function Jj(a){a.Ef=A()+a.Pa;Rj(a,a.Pa)}function Rj(a,b){if(null!=a.Sc)throw Error("WatchDog timer not null");a.Sc=Sj(z(a.Gl,a),b)}function Kj(a){a.Sc&&(q.clearTimeout(a.Sc),a.Sc=null)}m.Gl=function(){this.Sc=null;var a=A();0<=a-this.Ef?(2!=this.Jd&&this.j.Cb(3),Lj(this),this.Fc=2,Nj(),Qj(this)):Rj(this,this.Ef-a)};function Qj(a){a.j.gh()||a.Wc||a.j.pf(a)}
function Lj(a){Kj(a);L(a.Yd);a.Yd=null;Xh(a.A);Zi(a.v);if(a.Aa){var b=a.Aa;a.Aa=null;pi(b);b.W()}a.Oh&&(a.Oh=null)}function Pj(a,b){try{a.j.oh(a,b),a.j.Cb(4)}catch(c){}};function Tj(){}function Oj(a){if(a&&"y2f%"!=a)try{var b=sb(a);if(b)for(a=0;a<b.length;a++)if(x(b[a])){var c=b[a];if(!(2>c.length)){var d=c[1];if(x(d)&&!(1>d.length)){var e=d[0];if("noop"!=e&&"stop"!=e)for(var f=1;f<d.length;f++)d[f]=""}}}tb(b)}catch(h){}};function Uj(a,b,c,d,e){new Tj;if(0==d)c(!1);else{var f=e||0;d--;Vj(a,b,function(e){e?c(!0):q.setTimeout(function(){Uj(a,b,c,d,f)},f)})}}function Vj(a,b,c){new Tj;var d=new Image;d.onload=function(){try{Wj(d),c(!0)}catch(a){}};d.onerror=function(){try{Wj(d),c(!1)}catch(a){}};d.onabort=function(){try{Wj(d),c(!1)}catch(a){}};d.ontimeout=function(){try{Wj(d),c(!1)}catch(a){}};q.setTimeout(function(){if(d.ontimeout)d.ontimeout()},b);d.src=a}
function Wj(a){a.onload=null;a.onerror=null;a.onabort=null;a.ontimeout=null};function Xj(a){this.g=a;this.j=new aj(null,!0)}m=Xj.prototype;m.Oe=null;m.ab=null;m.Zd=!1;m.Pe=null;m.bb=null;m.yb=-1;m.Id=null;m.Uc=null;m.connect=function(a){this.Pe=a;a=Yj(this.g,null,this.Pe);Nj();A();var b=this.g.N;null!=b?(this.Id=Zj(this.g,b[0]),(this.Uc=b[1])?(this.bb=1,ak(this)):(this.bb=2,bk(this))):(vj(a,"MODE","init"),this.ab=new Dj(this,0,void 0,void 0,void 0),this.ab.Zb=this.Oe,Ij(this.ab,a,!1,null),this.bb=0)};
function ak(a){var b=Yj(a.g,a.Uc,"/mail/images/cleardot.gif");xj(b);Uj(b.toString(),5E3,z(a.Ai,a),3,2E3);a.Cb(1)}m.Ai=function(a){if(a)this.bb=2,bk(this);else{Nj();var b=this.g;b.gb=b.Hb.yb;ck(b,9)}a&&this.Cb(2)};function bk(a){var b=a.g.D;null!=b?(Nj(),b?(Nj(),dk(a.g,a,!1)):(Nj(),dk(a.g,a,!0))):(a.ab=new Dj(a,0,void 0,void 0,void 0),a.ab.Zb=a.Oe,b=a.g,b=Yj(b,b.td()?a.Id:null,a.Pe),Nj(),vj(b,"TYPE","xmlhttp"),Ij(a.ab,b,!1,a.Id))}m.ve=function(a){return this.g.ve(a)};m.gh=l(!1);
m.oh=function(a,b){this.yb=a.ed;if(0==this.bb)if(b){try{var c=this.j.parse(b)}catch(d){c=this.g;c.gb=this.yb;ck(c,2);return}this.Id=Zj(this.g,c[0]);this.Uc=c[1]}else c=this.g,c.gb=this.yb,ck(c,2);else 2==this.bb&&(this.Zd?(Nj(),A()):"11111"==b?(Nj(),this.Zd=!0,A(),this.yb=200,this.ab.cancel(),Nj(),dk(this.g,this,!0)):(Nj(),A(),this.Zd=!1))};
m.pf=function(){this.yb=this.ab.ed;if(this.ab.Nb)0==this.bb?this.Uc?(this.bb=1,ak(this)):(this.bb=2,bk(this)):2==this.bb&&(a=!1,(a=this.Zd)?(Nj(),dk(this.g,this,!0)):(Nj(),dk(this.g,this,!1)));else{0==this.bb?Nj():2==this.bb&&Nj();var a=this.g;a.gb=this.yb;ck(a,2)}};m.td=function(){return this.g.td()};m.Cb=function(a){this.g.Cb(a)};function ek(a,b,c){this.C=a||null;this.j=1;this.o=[];this.v=[];new Tj;this.A=new aj(null,!0);this.N=b||null;this.D=null!=c?c:null}m=ek.prototype;m.cd=null;m.$c=null;m.Qa=null;m.qa=null;m.Ne=null;m.Dd=null;m.Qf=null;m.Me=null;m.Kg=!0;m.pd=0;m.na=null;m.Jb=null;m.tb=null;m.Tb=null;m.Hb=null;m.Bf=null;m.Vd=-1;m.hh=-1;m.gb=-1;m.ad=0;m.tc=0;m.Lg=0;m.ee=!1;m.Qb=8;var fk=new Q;function gk(a){M.call(this,"statevent",a)}B(gk,M);function hk(a,b){M.call(this,"timingevent",a);this.size=b}B(hk,M);
function ik(a){M.call(this,"serverreachability",a)}B(ik,M);m=ek.prototype;m.connect=function(a,b,c,d,e){Nj();this.Ne=b;this.$c=c||{};d&&t(e)&&(this.$c.OSID=d,this.$c.OAID=e);jk(this)&&(this.Hb=new Xj(this),this.Hb.Oe=this.cd,this.Hb.j=this.A,this.Hb.connect(a))};function kk(a){lk(a);if(3==a.j){var b=a.pd++,c=a.Dd.clone();rj(c,"SID",a.g);rj(c,"RID",b);rj(c,"TYPE","terminate");mk(a,c);b=new Dj(a,0,a.g,b,void 0);b.Jd=2;b.dd=xj(c.clone());(new Image).src=b.dd;b.$d=A();Jj(b)}nk(a)}
function lk(a){if(a.Hb){var b=a.Hb;b.ab&&(b.ab.cancel(),b.ab=null);b.yb=-1;a.Hb=null}a.qa&&(a.qa.cancel(),a.qa=null);a.tb&&(q.clearTimeout(a.tb),a.tb=null);ok(a);a.Qa&&(a.Qa.cancel(),a.Qa=null);a.Jb&&(q.clearTimeout(a.Jb),a.Jb=null)}m.gh=function(){return 0==this.j};function pk(a){a.Qa||a.Jb||(a.Jb=Sj(z(a.rh,a),0),a.ad=0)}
m.rh=function(a){this.Jb=null;if(jk(this))if(1==this.j){if(!a){this.pd=Math.floor(1E5*Math.random());a=this.pd++;var b=new Dj(this,0,"",a,void 0);b.Zb=this.cd;var c=qk(this),d=this.Dd.clone();rj(d,"RID",a);this.C&&rj(d,"CVER",this.C);mk(this,d);Gj(b,d,c);this.Qa=b;this.j=2}}else 3==this.j&&(a?rk(this,a):0!=this.o.length&&(this.Qa||rk(this)))};
function rk(a,b){var c,d;b?6<a.Qb?(a.o=a.v.concat(a.o),a.v.length=0,c=a.pd-1,d=qk(a)):(c=b.C,d=b.jc):(c=a.pd++,d=qk(a));var e=a.Dd.clone();rj(e,"SID",a.g);rj(e,"RID",c);rj(e,"AID",a.Vd);mk(a,e);c=new Dj(a,0,a.g,c,a.ad+1);c.Zb=a.cd;c.setTimeout(Math.round(1E4)+Math.round(1E4*Math.random()));a.Qa=c;Gj(c,e,d)}function mk(a,b){if(a.na){var c=a.na.Eg(a);c&&zb(c,function(a,c){rj(b,c,a)})}}
function qk(a){var b=Math.min(a.o.length,1E3),c=["count="+b],d;6<a.Qb&&0<b?(d=a.o[0].g,c.push("ofs="+d)):d=0;for(var e=0;e<b;e++){var f=a.o[e].g,h=a.o[e].map,f=6>=a.Qb?e:f-d;try{sf(h,function(a,b){c.push("req"+f+"_"+b+"="+encodeURIComponent(a))})}catch(k){c.push("req"+f+"_type="+encodeURIComponent("_badmap"))}}a.v=a.v.concat(a.o.splice(0,b));return c.join("&")}function sk(a){a.qa||a.tb||(a.B=1,a.tb=Sj(z(a.qh,a),0),a.tc=0)}
function tk(a){if(a.qa||a.tb||3<=a.tc)return!1;a.B++;a.tb=Sj(z(a.qh,a),uk(a,a.tc));a.tc++;return!0}m.qh=function(){this.tb=null;if(jk(this)){this.qa=new Dj(this,0,this.g,"rpc",this.B);this.qa.Zb=this.cd;this.qa.Qe=this.Lg;var a=this.Qf.clone();rj(a,"RID","rpc");rj(a,"SID",this.g);rj(a,"CI",this.Bf?"0":"1");rj(a,"AID",this.Vd);mk(this,a);rj(a,"TYPE","xmlhttp");Ij(this.qa,a,!0,this.Me)}};function jk(a){if(a.na){var b=a.na.lh(a);if(0!=b)return ck(a,b),!1}return!0}
function dk(a,b,c){a.Bf=c;a.gb=b.yb;a.cj(1,0);a.Dd=Yj(a,null,a.Ne);pk(a)}
m.oh=function(a,b){if(0!=this.j&&(this.qa==a||this.Qa==a))if(this.gb=a.ed,this.Qa==a&&3==this.j)if(7<this.Qb){var c;try{c=this.A.parse(b)}catch(f){c=null}if(x(c)&&3==c.length)if(0==c[0])a:{if(!this.tb){if(this.qa)if(this.qa.$d+3E3<this.Qa.$d)ok(this),this.qa.cancel(),this.qa=null;else break a;tk(this);Nj()}}else this.hh=c[1],0<this.hh-this.Vd&&37500>c[2]&&this.Bf&&0==this.tc&&!this.Tb&&(this.Tb=Sj(z(this.fl,this),6E3));else ck(this,11)}else"y2f%"!=b&&ck(this,11);else if(this.qa==a&&ok(this),!Aa(b)){c=
this.A.parse(b);x(c);for(var d=0;d<c.length;d++){var e=c[d];this.Vd=e[0];e=e[1];2==this.j?"c"==e[0]?(this.g=e[1],this.Me=Zj(this,e[2]),e=e[3],null!=e?this.Qb=e:this.Qb=6,this.j=3,this.na&&this.na.Wf(this),this.Qf=Yj(this,this.td()?this.Me:null,this.Ne),sk(this)):"stop"==e[0]&&ck(this,7):3==this.j&&("stop"==e[0]?ck(this,7):"noop"!=e[0]&&this.na&&this.na.Vf(this,e),this.tc=0)}}};function Zj(a,b){return a.Kg?a.na?a.na.Jg(b):b:null}
m.fl=function(){null!=this.Tb&&(this.Tb=null,this.qa.cancel(),this.qa=null,tk(this),Nj())};function ok(a){null!=a.Tb&&(q.clearTimeout(a.Tb),a.Tb=null)}
m.pf=function(a){var b;if(this.qa==a)ok(this),this.qa=null,b=2;else if(this.Qa==a)this.Qa=null,b=1;else return;this.gb=a.ed;if(0!=this.j)if(a.Nb)1==b?(A(),R(fk,new hk(fk,a.jc?a.jc.length:0)),pk(this),this.v.length=0):sk(this);else{var c=a.Fc;if(!(3==c||7==c||0==c&&0<this.gb)){var d;if(d=1==b)this.Qa||this.Jb?d=!1:1==this.j||2<=this.ad?d=!1:(this.Jb=Sj(z(this.rh,this,a),uk(this,this.ad)),this.ad++,d=!0);if(d||2==b&&tk(this))return}switch(c){case 1:ck(this,5);break;case 4:ck(this,10);break;case 3:ck(this,
6);break;case 7:ck(this,12);break;default:ck(this,2)}}};function uk(a,b){var c=5E3+Math.floor(1E4*Math.random());a.na||(c*=2);return c*b}m.cj=function(a){if(!eb(arguments,this.j))throw Error("Unexpected channel state: "+this.j);};function ck(a,b){if(2==b||9==b){var c=null;a.na&&(c=a.na.Hg(a));var d=z(a.hm,a);c||(c=new dj("//www.google.com/images/cleardot.gif"),xj(c));Vj(c.toString(),1E4,d)}else Nj();vk(a,b)}m.hm=function(a){a?Nj():(Nj(),vk(this,8))};
function vk(a,b){a.j=0;a.na&&a.na.Uf(a,b);nk(a);lk(a)}function nk(a){a.j=0;a.gb=-1;if(a.na)if(0==a.v.length&&0==a.o.length)a.na.qe(a);else{var b=ib(a.v),c=ib(a.o);a.v.length=0;a.o.length=0;a.na.qe(a,b,c)}}function Yj(a,b,c){var d=yj(c);if(""!=d.o)b&&fj(d,b+"."+d.o),gj(d,d.C);else var e=window.location,d=zj(e.protocol,b?b+"."+e.hostname:e.hostname,e.port,c);a.$c&&zb(a.$c,function(a,b){rj(d,b,a)});rj(d,"VER",a.Qb);mk(a,d);return d}
m.ve=function(a){if(a&&!this.ee)throw Error("Can't create secondary domain capable XhrIo object.");a=new hi;a.Kd=this.ee;return a};function Sj(a,b){if(!ma(a))throw Error("Fn must not be null and must be a function");return q.setTimeout(function(){a()},b)}m.Cb=function(){R(fk,new ik(fk))};function Nj(){R(fk,new gk(fk))}m.td=function(){return this.ee||!1};function wk(){}m=wk.prototype;m.lh=l(0);m.Wf=ba();m.Vf=ba();m.Uf=ba();m.qe=ba();m.Eg=function(){return{}};m.Hg=l(null);m.Jg=aa();function xk(){}ua(xk.prototype,ba().prototype);xk.prototype.Ad=ba();xk.prototype.Fe=ba();function yk(){J.call(this);this.j=[]}B(yk,J);yk.prototype.F=function(){this.j=[];yk.G.F.call(this)};function zk(a){yk.call(this);this.g=a}B(zk,yk);function Ak(){var a=Ti(Vi(),"gaia_session_id");this.g=new zk(a)}ga(Ak);function Bk(a,b){var c=Array.prototype.slice.call(arguments),d=c.shift();if("undefined"==typeof d)throw Error("[goog.string.format] Template required");d.replace(/%([0\-\ \+]*)(\d+)?(\.(\d+))?([%sfdiu])/g,function(a,b,d,k,n,p,r,u){if("%"==p)return"%";var D=c.shift();if("undefined"==typeof D)throw Error("[goog.string.format] Not enough arguments");arguments[0]=D;return Ck[p].apply(null,arguments)})}
var Ck={s:function(a,b,c){return isNaN(c)||""==c||a.length>=c?a:a=-1<b.indexOf("-",0)?a+Pa(" ",c-a.length):Pa(" ",c-a.length)+a},f:function(a,b,c,d,e){d=a.toString();isNaN(e)||""==e||(d=parseFloat(a).toFixed(e));var f;f=0>a?"-":0<=b.indexOf("+")?"+":0<=b.indexOf(" ")?" ":"";0<=a&&(d=f+d);if(isNaN(c)||d.length>=c)return d;d=isNaN(e)?Math.abs(a).toString():Math.abs(a).toFixed(e);a=c-d.length-f.length;return d=0<=b.indexOf("-",0)?f+d+Pa(" ",a):f+Pa(0<=b.indexOf("0",0)?"0":" ",a)+d},d:function(a,b,c,
d,e,f,h,k){return Ck.f(parseInt(a,10),b,c,d,0,f,h,k)}};Ck.i=Ck.d;Ck.u=Ck.d;function Dk(a){this.o=a;this.j=Math.floor(a/50);this.g=new bj(50)}Dk.prototype.get=function(a){return Ek(this,a,function(a,c){return a+c.count})};function Ek(a,b,c){b=b||A();Fk(a,b);var d=0;b=a.j*(Math.floor(b/a.j)+1)-a.o;for(var e=a.g.fa()-1;0<=e;--e){var f=a.g.get(e);if(f.g<=b)break;d=c(d,f)}return d}function Fk(a,b){var c=cj(a.g);c&&(c=c.g-a.j,b<c&&(Bk("Went backwards in time: now=%d, slotStart=%d.  Resetting state.",b,c),a.g.clear()))}function Gk(a){this.g=a}Gk.prototype.count=0;
Gk.prototype.min=Number.MAX_VALUE;Gk.prototype.max=Number.MIN_VALUE;function Hk(){this.g=new Dk(8E3)}function Ik(a,b){var c=null!=b?b:1;return 1>=(a.g.get()+c)/(a.g.o/1E3)}function Jk(a,b){var c=null!=b?b:1;if(!Ik(a,c))throw new Kk(Sa("Query would cause ","errorsender"," to exceed ",1," qps."));var d=a.g,e=A();Fk(d,e);var f=cj(d.g);if(!f||e>=f.g)f=new Gk(d.j*(Math.floor(e/d.j)+1)),d.g.add(f);f.count+=c;f.min=Math.min(c,f.min);f.max=Math.max(c,f.max)}function Kk(a){xa.call(this,a)}B(Kk,xa);function Lk(a,b,c){J.call(this);this.j=a;this.A=b||0;this.o=c;this.v=z(this.B,this)}B(Lk,J);Lk.prototype.g=0;Lk.prototype.F=function(){Lk.G.F.call(this);Mk(this);delete this.j;delete this.o};function Nk(a,b){Mk(a);a.g=Zh(a.v,t(b)?b:a.A)}function Mk(a){0!=a.g&&$h(a.g);a.g=0}Lk.prototype.B=function(){this.g=0;this.j&&this.j.call(this.o)};function Ok(a,b,c,d){J.call(this);this.o=null!=d?d:.15;this.A=a;this.v=b;this.C=c;this.g=new Lk(this.D,void 0,this);this.B=Number.NEGATIVE_INFINITY;this.j=0}B(Ok,J);function Pk(a,b,c){b&&(Mk(a.g),Qk(a,a.v));0==a.g.g&&(b=A(),b=Math.max(0,a.B+a.j-b),0==b&&(c?b=Qk(a,a.v):a.j=0),Nk(a.g,b))}function Qk(a,b){0<b&&0!=a.o&&(b=Math.floor(b*(1-a.o+Math.random()*a.o*2)));return a.j=b}Ok.prototype.D=function(){this.B=A();Qk(this,Math.min(Math.max(2*this.j,this.v),this.C));this.A()};
Ok.prototype.F=function(){this.g.W();delete this.g;delete this.A;Ok.G.F.call(this)};function Rk(a,b,c,d,e,f){J.call(this);this.j=new Ok(z(this.Mk,this),d||5E3,e||45E3,f);this.o=new X(this);this.v=a;this.A=b;(this.g=c||null)&&this.o.L(this.g,"d",this.tk).L(this.g,"e",this.rk);K(this,this.j);K(this,this.o)}B(Rk,J);m=Rk.prototype;m.Bd=!1;function Sk(a){a.Bd=!0;if(!a.g||a.g.g())a.A?Pk(a.j,!1,!0):Pk(a.j,!1,!1)}m.tk=function(){this.Bd&&Pk(this.j,!0,!1)};m.rk=function(){Mk(this.j.g)};m.Mk=function(){!this.Bd||this.g&&!this.g.g()||(this.Bd=!1,this.v())};
m.F=function(){delete this.v;delete this.o;delete this.j;delete this.g;Rk.G.F.call(this)};function Tk(a,b,c,d,e,f){this.Xa=c||null;this.wa=!!e;this.Ia=this.N=w;this.M=new X(this);this.C=this.g=this.O=null;this.kb=a||Uk;this.X=null;this.v=new Zc;this.Z=b;this.B=!1;this.V=null;this.A=this.Y=this.P=!1;(this.o=d||null)&&this.M.L(this.o,["d","e"],ta(this.lf,void 0));this.D=new Rk(z(this.Ul,this),!0,this.o||void 0,7E3,45E3);this.U=-1;this.j=null;this.ga={};this.Ca=!!f;this.I=-1;this.H=null;this.mb=Ri(Vi(),"docs-ar");this.J=!1;this.Ad("15",this.$j,this)}B(Tk,wk);m=Tk.prototype;m.Ka=null;
m.Cf=null;m.Ad=function(a,b,c){ic(this.v,a,b,c)};m.Jg=function(a){return this.Xa||a};m.Fe=function(a,b,c){return $c(this.v,a,b,c)};function Uk(a){if(1==a.length&&y(a[0])){var b=a[0];0==b.lastIndexOf("{this._action=",0)?(a={},function(){eval(b)}.call(a),a=[0,a._lsq,[b,a],a._tfe]):a=sb(b)}return{type:a[0],Ih:a[1],data:a[2],Nh:a[3]||null}}m.Vf=function(a,b){var c=this.kb(b);if(c.Ih>this.U){this.U=c.Ih;if(this.X!=c.Nh){var d=c.Nh;this.X=d;Vk(this,"tfe_changed",d)}Vk(this,String(c.type),c.data)}};
function Vk(a,b,c){a.lb&&a.lb(b,c);a.v.Se(b,c)}m.Eg=function(){var a=Jb(this.ga);a.lsq=String(this.U);null!=this.Cf&&(a.u=this.Cf);a.gsi=Ak.ba().g.g;this.mb&&-1!=this.I&&(a.ar=String(this.I),this.H&&(a.arat=this.H.g),this.I=-1,this.H=null);return a};m.lh=function(){if(this.ha)try{Jk(this.ha)}catch(a){if(!(a instanceof Kk))throw a;return 8}return 0};m.Wf=function(){this.B=!0;this.A=!1;this.lf(0);this.Ia()};m.qe=function(){this.B=!1;this.A||Sk(this.D)};
function Wk(a,b,c,d){a.O=b||a.O;a.g=c||a.g;a.C=d||a.C||"";a.B||a.A||(a.Y=!0,Xk(a))}function Xk(a){a.Ka&&(a.Ka.na=null,kk(a.Ka));var b;b=a.Z?a.Z():new ek("1");b.cd={"X-Same-Domain":"1"};b.Kg=!0;b.ee=a.Ca;a.wa&&(b.Lg=200);b.na=a;a.Ka=b;b={id:a.O};a.g&&(b.sid=a.g);a.Ka.connect(a.C+"/test",a.C+"/bind",b)}function Yk(a){a.j=null;a.V=null;a.B&&(a.Y=!1,a.A=!1,kk(a.Ka))}m.Ul=function(){this.Y&&!this.B&&(this.A=!0,Xk(this),Sk(this.D))};m.Uf=function(a,b){this.lf(b)};
m.lf=function(a){if(null!=a)if(this.V=a,this.P||6!=a)this.P=!1,2==a&&409==(this.Ka?this.Ka.gb:-1)&&(this.X=null,Vk(this,"tfe_changed",null));else{this.P=!0;Wk(this);return}a=this.o&&!this.o.g()?8:null!=this.V?this.V:0;a!=this.j&&(this.j=a,this.N.call(q,a))};m.Hg=function(){return xj(new dj("//www.google.com/images/cleardot.gif"))};
m.$j=function(a){var b=a.gaiaSessionIdentifier;if(b){if(a=Ak.ba().g,a.g!=b)for(a.g=b,b=0;b<a.j.length;b++)a.j[b](new M("Changed",a))}else throw Error("GAIA session id should be a valid string. Received - "+b);};m.W=function(){this.J||(this.J=!0,this.Ka&&(this.Ka.na=null,kk(this.Ka),delete this.Ka),L(this.M),L(this.D),L(this.v),delete this.M,delete this.D,delete this.o,delete this.v)};m.isDisposed=g("J");var Zk=/\/d\/[^\/]+/;function $k(a){a=a.match(Md)[5]||null;return Zk.test(a)};function al(a,b){null!=a&&this.g.apply(this,arguments)}al.prototype.j="";al.prototype.g=function(a,b,c){this.j+=a;if(null!=b)for(var d=1;d<arguments.length;d++)this.j+=arguments[d];return this};al.prototype.clear=function(){this.j=""};al.prototype.toString=g("j");function bl(a){E(this,a,"er",-1,null)}B(bl,C);bc("er",bl);bl.prototype.getData=function(){return F(this,4)};function cl(a,b,c,d){M.call(this,a);this.errorCode=b;this.o=c;this.N=d}B(cl,M);cl.prototype.Fb=null;cl.prototype.D="";cl.prototype.A=null;function dl(a,b,c,d,e,f,h,k){this.g=a;this.v=b||"text";this.A=Aa(Ra(c))?null:c;this.o=t(d)?d:200;this.B={};if(f)for(var n in f)this.B[n.toLowerCase()]=f[n];this.j=t(e)?e:0;this.D=h||{};this.N=k||null;this.C=void 0}var el=new aj(void 0,!0);dl.prototype.fc=function(){return 0==this.j};dl.prototype.Ra=function(){t(this.C)||(this.C=fl(this.g||"",this.N));return this.C};
function gl(a){var b=a.o,c=a.j,d=a.v,e=a.A,f;"text"==a.v?(f=a.g||"",f=-1!=f.indexOf("&")?"document"in q?Ma(f):Oa(f):f,50<f.length&&(f=f.substring(0,47)+"..."),f=Ea(f),f=f+"   (truncated)"):f="responseObject";b={RespStatus:b,RespErr:c,RespType:d,RespContentType:e,RespString:f};Mb(b,a.D);return b}function hl(a){return"text"==a.v&&null!=a.g&&0==(a.g||"").lastIndexOf(")]}'\n",0)&&(a=a.Ra(),x(a)&&(a=a[0],x(a)&&"er"==a[0]))?new bl(a):null}
function il(a){if(200==a.o&&null!=a.A&&!hl(a)&&"text"==a.v){if(Aa(Ra(a.g)))return!0;if(0==(a.g||"").lastIndexOf(")]}'\n",0))return null==a.Ra()}return!1}function fl(a,b){var c=b||el;return a&&c.parse(a.replace(/^[^[{]+/,""))||null};function jl(a,b,c){this.ga=b;this.j=a;this.O=c;this.D="";this.g=void 0;this.I=null;this.M="text";this.C=3;this.Y=!1;this.A=w;this.B=ef;this.J=!1;this.N=w;this.Pa=-1;this.U=this.v=!1;this.H=new aj(null,!0)}jl.prototype.o=function(a){var b=[this.j];jb(b,arguments);this.j=Vd.apply(null,b);return this};function kl(a){if(!a.O)throw Error("Cannot add session data to request when session data not defined.");var b={};b.sid=a.O.g;b.c="0";b.w="0";a.j=Wd(a.j,b)}function ll(a,b){a.g=b;return a}
function ml(a,b){var c=Ab(b,function(a){return y(a)?a:tb(a)});return ll(a,Ud(c))}function nl(a,b,c){a.A=z(b,c);return a}function ol(a,b){a.C=b;return a}function pl(a,b,c){a.N=z(b,c);return a}jl.prototype.setTimeout=function(a){this.Pa=a;return this};function ql(a){a.v&&(y(a.g)||x(a.g));var b=a.V();a.X(b);return b}jl.prototype.Da=function(){if(x(this.g)){var a=this.g;if(Ri(Vi(),"docs-net-cbfd")&&q.FormData){for(var b=new q.FormData,c=0;c<a.length;c+=2)b.append(a[c],a[c+1]);a=b}else a=Sd(a);return a}return this.g};
function rl(a){if(a.U){if(a=a.D,$k(a)){$k(a);a=a.match(Md);var b=a[5],b=b.replace(Zk,"");a=Ld(a[1],a[2],a[3],a[4],b,a[6],a[7])}}else a=a.D;return a};function sl(a,b){this.g=a;this.j=b}sl.prototype.stringify=function(a){return q.JSON.stringify(a,this.g)};sl.prototype.parse=function(a){return q.JSON.parse(a,this.j)};function tl(a,b){this.name=t(a.name)?a.name:ul(a.code);xa.call(this,za("%s %s",this.name,b))}B(tl,xa);function ul(a){var b=Gb(vl,function(b){return a==b});if(!t(b))throw Error("Invalid code: "+a);return b}var vl={AbortError:3,EncodingError:5,InvalidModificationError:9,InvalidStateError:7,NotFoundError:1,NotReadableError:4,NoModificationAllowedError:6,PathExistsError:12,QuotaExceededError:10,SecurityError:2,SyntaxError:8,TypeMismatchError:11};function wl(a,b){M.call(this,a.type,b)}B(wl,M);function xl(a){Q.call(this);this.g=a;this.g.onwritestart=z(this.j,this);this.g.onprogress=z(this.j,this);this.g.onwrite=z(this.j,this);this.g.onabort=z(this.j,this);this.g.onerror=z(this.j,this);this.g.onwriteend=z(this.j,this)}B(xl,Q);xl.prototype.getError=function(){return this.g.error&&new tl(this.g.error,"saving file")};xl.prototype.j=function(a){R(this,new wl(a,this))};xl.prototype.F=function(){delete this.g;xl.G.F.call(this)};function yl(a){xl.call(this,a);this.o=a}B(yl,xl);yl.prototype.write=function(a){try{this.o.write(a)}catch(b){throw new tl(b,"writing file");}};function zl(a,b){this.o=a;this.g=b}zl.prototype.getName=function(){return this.g.name};function Al(a){var b=new U;a.g.getMetadata(function(a){b.K(a)},z(function(a){b.R(new tl(a,"retrieving metadata for "+this.g.fullPath))},a));return b}zl.prototype.remove=function(){var a=new U;this.g.remove(z(a.K,a,!0),z(function(b){a.R(new tl(b,"removing "+this.g.fullPath))},this));return a};function Bl(a,b){zl.call(this,a,b);this.j=b}B(Bl,zl);
function Cl(a,b,c){var d=new U;a.j.getFile(b,Dl(c),z(function(a){d.K(new El(this.o,a))},a),z(function(a){d.R(new tl(a,"loading file "+b+" from "+this.g.fullPath))},a));return d}function Fl(a,b,c){var d=new U;a.j.getDirectory(b,Dl(c),z(function(a){d.K(new Bl(this.o,a))},a),z(function(a){d.R(new tl(a,"loading directory "+b+" from "+this.g.fullPath))},a));return d}
function Gl(a){var b=new U,c=a.j.createReader(),d=[],e=z(function(a){b.R(new tl(a,"listing directory "+this.g.fullPath))},a),f=z(function(a){if(a.length){for(var k=0,n;n=a[k];k++)d.push(n.isFile?new El(this.o,n):new Bl(this.o,n));c.readEntries(f,e)}else b.K(d)},a);c.readEntries(f,e);return b}function Hl(a){var b=new U;a.j.removeRecursively(z(b.K,b,!0),z(function(a){b.R(new tl(a,"removing "+this.g.fullPath+" recursively"))},a));return b}
function Dl(a){return 2==a?{create:!0}:3==a?{create:!0,exclusive:!0}:{}}function El(a,b){zl.call(this,a,b);this.j=b}B(El,zl);function Il(a){var b=new U;a.j.createWriter(function(a){b.K(new yl(a))},z(function(a){b.R(new tl(a,"creating writer for "+this.g.fullPath))},a));return b};function Jl(a){this.g=a}Jl.prototype.getName=function(){return this.g.name};function Kl(a){var b=q.requestFileSystem||q.webkitRequestFileSystem;if(!ma(b))return yg(Error("File API unsupported"));var c=new U;b(a,10485760,function(a){c.K(new Jl(a))},function(a){c.R(new tl(a,"requesting filesystem"))});return c}function Ll(a,b,c){t(c)||(c=a.size);return a.webkitSlice?a.webkitSlice(b,c):a.mozSlice?a.mozSlice(b,c):a.slice?Hc("537.1")?a.slice(b,c):(0>b&&(b+=a.size),0>b&&(b=0),0>c&&(c+=a.size),c<b&&(c=b),a.slice(b,c-b)):null};function Ml(a){var b=Nl;return function(){var c=this||q,c=c.closure_memoize_cache_||(c.closure_memoize_cache_={}),d=b(oa(a),arguments);return c.hasOwnProperty(d)?c[d]:c[d]=a.apply(this,arguments)}}function Nl(a,b){for(var c=[a],d=b.length-1;0<=d;--d)c.push(typeof b[d],b[d]);return c.join("\x0B")};function Ol(a){var b={};a=a.replace(/\r/g,"").split("\n");for(var c=0;c<a.length;c++){var d=a[c],e=d.indexOf(":");0>e||(b[d.substring(0,e)]=d.substring(e+2,d.length))}return b}function Pl(a){var b="";zb(a,function(a,d){b+=d+": "+a+"\r\n"});return b}
var Ql=Ml(function(){if(!q.Blob)return!1;var a=new Uint8Array(100),b;try{b=new Blob([a])}catch(c){return!1}return 100!=b.size?!1:!0}),Rl=Ml(function(){if(!q.Blob)return!1;var a=new Uint8Array(100),b;try{b=new Blob([a])}catch(c){return!1}return null===Ll(b,0,1)?!1:!0});function Sl(){Q.call(this)}B(Sl,Q);function Tl(a){M.call(this,a)}B(Tl,M);m=Sl.prototype;m.Bh=l(null);m.Ch=l(null);m.oa=l(null);m.Dh=ba();m.cancel=ba();function Ul(a,b){this.A=a;this.g=b;this.j=!0}m=Ul.prototype;m.getName=g("A");function Vl(a){return a.g}m.be=l(null);m.Mb=l(!1);m.Sd=l(!1);m.Rd=l(!1);function Wl(a,b){Ul.call(this,b,a.size);this.o=a}B(Wl,Ul);m=Wl.prototype;m.be=g("o");m.Mb=function(){return Rl()};m.Sd=l(!0);m.Rd=l(!1);m.bg=l(null);function Xl(a){return bb(a,function(a){a=a.toString(16);return 1<a.length?a:"0"+a}).join("")};function Yl(){Q.call(this)}B(Yl,Sl);Yl.prototype.Jh=ba();function Zl(a,b,c,d,e,f,h,k){Q.call(this);this.O=a;this.C=b;this.M=c;this.D=d;this.o=e||null;this.A=f||null;this.I=h?Jb(h):{};this.P=!!k;this.B="";a=new Pg;this.j="scotty-"+Ta()+"-"+a.Ig();this.g=null;this.v=0;this.H=new X(this);K(this,this.H)}B(Zl,Yl);m=Zl.prototype;m.Jh=ca("B");m.Bh=function(){return this.g&&this.g.status||null};m.Ch=g("J");m.oa=function(){return this.g&&this.g.responseText||null};
m.Dh=function(){this.g=new XMLHttpRequest;var a=this;this.g.upload&&(this.g.upload.onprogress=function(b){a.v=b.loaded;R(a,new Tl("l"))});this.g.onload=function(b){a.v=a.M;a.J=Ol(b.target.getAllResponseHeaders());R(a,new Tl("m"))};this.g.onerror=function(){R(a,new Tl("n"))};this.g.open("POST",this.O);zb(this.I,function(b,c){a.g.setRequestHeader(c,b)});this.g.setRequestHeader("Content-Type","multipart/form-data; boundary="+this.j);this.g.withCredentials=this.P;this.g.send($l(this))};
m.cancel=function(){this.g&&this.g.abort()};function $l(a){var b=["--",a.j,"\r\n",'Content-Disposition: form-data; name="metadata"\r\n\r\n'+a.B+"\r\n","--",a.j,"\r\n",'Content-Disposition: form-data; name="Filedata"'+(a.o?'; filename="'+a.o+'"':"")+"\r\n"+(a.A?"Content-Type: "+a.A+"\r\n":"")+"Content-Transfer-Encoding: "+a.D+"\r\n","\r\n",a.C,"\r\n","--",a.j,"--\r\n"];return y(a.C)?b.join(""):new Blob(b)};function am(a,b,c,d){var e=null;Ql()&&(e=d?new Blob([a],{type:d}):new Blob([a]));var f;if(e)f=e.size;else{f=[];for(var h=0,k=0;k<a.length;k++){var n=a.charCodeAt(k);128>n?f[h++]=n:(2048>n?f[h++]=n>>6|192:(f[h++]=n>>12|224,f[h++]=n>>6&63|128),f[h++]=n&63|128)}f=f.length}Ul.call(this,c,f);this.N=f;this.v=e;this.C=a;this.o=b;this.B=d||void 0}B(am,Ul);m=am.prototype;m.be=g("v");m.Mb=function(){return"base64"!=this.o&&Rl()};m.Sd=function(){return"base64"!=this.o&&Ql()};m.Rd=l(!0);
m.bg=function(a,b,c){return new Zl(a,this.v||this.C,this.N,"base64"==this.o?"base64":"binary",this.getName(),this.B,b,c)};function bm(a,b){this.j=a<b?a:b;this.g=a<b?b:a}bm.prototype.clone=function(){return new bm(this.j,this.g)};function cm(a){Q.call(this);this.vc=a}B(cm,Q);function dm(a){M.call(this,a)}B(dm,M);function em(a,b){M.call(this,a);this.ff=!!b}B(em,dm);m=cm.prototype;m.getItem=g("vc");m.uf=l(null);m.oa=l(null);m.vf=l(null);m.wf=ba();m.cancel=ba();function fm(a){cm.call(this,a);this.g=null;this.j=new X(this);K(this,this.j)}B(fm,cm);m=fm.prototype;m.uf=function(){return this.g&&this.g.Bh()||null};m.oa=function(){return this.g&&this.g.oa()||null};m.vf=function(){return this.g&&this.g.Ch()||null};m.wf=function(a,b,c,d,e){a=new dj(a);rj(a,"upload_protocol","multipart");a=a.toString();this.g=this.getItem().bg(a,c,e);this.g.Jh(d);this.j.L(this.g,"l",this.$l);this.j.L(this.g,"m",this.Bl);this.j.L(this.g,["n","o"],this.Al);this.g.Dh()};
m.cancel=function(){this.g&&this.g.cancel();R(this,new dm("s"))};m.$l=function(){R(this,new dm("p"))};m.Bl=function(){R(this,new dm("q"))};m.Al=function(){R(this,new dm("r"))};function gm(){};function hm(a,b){Q.call(this);this.A=a;this.ef=this.j=null;this.o=0;this.B=Infinity;this.C=b||5E6;this.g=null}B(hm,Q);function im(a,b){jm(a);a.A.reset();a.j=b;a.ef=null;a.o=0;R(a,"started");km(a)}function lm(a,b){a.B=b;a.j&&!a.g&&km(a)}function jm(a){a.g&&(a.g.abort(),a.g=null);a.j&&(a.j=null,R(a,"abort"))}
function km(a){if(a.o<a.j.size)if(a.B<=a.o)R(a,"throttled");else{a.g=new FileReader;a.g.onload=z(a.D,a);a.g.onerror=z(a.v,a);var b=Math.min(Math.min(a.B,a.j.size)-a.o,a.C),c=Ll(a.j,a.o,a.o+b);c&&c.size==b?a.g.readAsArrayBuffer?a.g.readAsArrayBuffer(c):a.g.readAsBinaryString?a.g.readAsBinaryString(c):a.v():a.v()}else{var b=a.A,d=Array((56>b.o?b.j:2*b.j)-b.o);d[0]=128;for(c=1;c<d.length-8;++c)d[c]=0;for(var e=8*b.v,c=d.length-8;c<d.length;++c)d[c]=e&255,e/=256;b.update(d);d=Array(16);for(c=e=0;4>c;++c)for(var f=
0;32>f;f+=8)d[e++]=b.g[c]>>>f&255;a.ef=d;a.j=null;R(a,"complete")}}hm.prototype.D=function(){var a=null;this.g.result instanceof Array||y(this.g.result)?a=this.g.result:q.ArrayBuffer&&q.Uint8Array&&this.g.result instanceof ArrayBuffer&&(a=new Uint8Array(this.g.result));a?(this.A.update(a),this.o+=a.length,this.g=null,R(this,"progress"),km(this)):this.v()};hm.prototype.v=function(){this.j=this.g=null;R(this,"error")};function mm(){this.j=-1};function nm(){this.j=-1;this.j=64;this.g=Array(4);this.A=Array(this.j);this.v=this.o=0;this.reset()}B(nm,mm);nm.prototype.reset=function(){this.g[0]=1732584193;this.g[1]=4023233417;this.g[2]=2562383102;this.g[3]=271733878;this.v=this.o=0};
function om(a,b,c){c||(c=0);var d=Array(16);if(y(b))for(var e=0;16>e;++e)d[e]=b.charCodeAt(c++)|b.charCodeAt(c++)<<8|b.charCodeAt(c++)<<16|b.charCodeAt(c++)<<24;else for(e=0;16>e;++e)d[e]=b[c++]|b[c++]<<8|b[c++]<<16|b[c++]<<24;b=a.g[0];c=a.g[1];var e=a.g[2],f=a.g[3],h=0,h=b+(f^c&(e^f))+d[0]+3614090360&4294967295;b=c+(h<<7&4294967295|h>>>25);h=f+(e^b&(c^e))+d[1]+3905402710&4294967295;f=b+(h<<12&4294967295|h>>>20);h=e+(c^f&(b^c))+d[2]+606105819&4294967295;e=f+(h<<17&4294967295|h>>>15);h=c+(b^e&(f^b))+
d[3]+3250441966&4294967295;c=e+(h<<22&4294967295|h>>>10);h=b+(f^c&(e^f))+d[4]+4118548399&4294967295;b=c+(h<<7&4294967295|h>>>25);h=f+(e^b&(c^e))+d[5]+1200080426&4294967295;f=b+(h<<12&4294967295|h>>>20);h=e+(c^f&(b^c))+d[6]+2821735955&4294967295;e=f+(h<<17&4294967295|h>>>15);h=c+(b^e&(f^b))+d[7]+4249261313&4294967295;c=e+(h<<22&4294967295|h>>>10);h=b+(f^c&(e^f))+d[8]+1770035416&4294967295;b=c+(h<<7&4294967295|h>>>25);h=f+(e^b&(c^e))+d[9]+2336552879&4294967295;f=b+(h<<12&4294967295|h>>>20);h=e+(c^f&
(b^c))+d[10]+4294925233&4294967295;e=f+(h<<17&4294967295|h>>>15);h=c+(b^e&(f^b))+d[11]+2304563134&4294967295;c=e+(h<<22&4294967295|h>>>10);h=b+(f^c&(e^f))+d[12]+1804603682&4294967295;b=c+(h<<7&4294967295|h>>>25);h=f+(e^b&(c^e))+d[13]+4254626195&4294967295;f=b+(h<<12&4294967295|h>>>20);h=e+(c^f&(b^c))+d[14]+2792965006&4294967295;e=f+(h<<17&4294967295|h>>>15);h=c+(b^e&(f^b))+d[15]+1236535329&4294967295;c=e+(h<<22&4294967295|h>>>10);h=b+(e^f&(c^e))+d[1]+4129170786&4294967295;b=c+(h<<5&4294967295|h>>>
27);h=f+(c^e&(b^c))+d[6]+3225465664&4294967295;f=b+(h<<9&4294967295|h>>>23);h=e+(b^c&(f^b))+d[11]+643717713&4294967295;e=f+(h<<14&4294967295|h>>>18);h=c+(f^b&(e^f))+d[0]+3921069994&4294967295;c=e+(h<<20&4294967295|h>>>12);h=b+(e^f&(c^e))+d[5]+3593408605&4294967295;b=c+(h<<5&4294967295|h>>>27);h=f+(c^e&(b^c))+d[10]+38016083&4294967295;f=b+(h<<9&4294967295|h>>>23);h=e+(b^c&(f^b))+d[15]+3634488961&4294967295;e=f+(h<<14&4294967295|h>>>18);h=c+(f^b&(e^f))+d[4]+3889429448&4294967295;c=e+(h<<20&4294967295|
h>>>12);h=b+(e^f&(c^e))+d[9]+568446438&4294967295;b=c+(h<<5&4294967295|h>>>27);h=f+(c^e&(b^c))+d[14]+3275163606&4294967295;f=b+(h<<9&4294967295|h>>>23);h=e+(b^c&(f^b))+d[3]+4107603335&4294967295;e=f+(h<<14&4294967295|h>>>18);h=c+(f^b&(e^f))+d[8]+1163531501&4294967295;c=e+(h<<20&4294967295|h>>>12);h=b+(e^f&(c^e))+d[13]+2850285829&4294967295;b=c+(h<<5&4294967295|h>>>27);h=f+(c^e&(b^c))+d[2]+4243563512&4294967295;f=b+(h<<9&4294967295|h>>>23);h=e+(b^c&(f^b))+d[7]+1735328473&4294967295;e=f+(h<<14&4294967295|
h>>>18);h=c+(f^b&(e^f))+d[12]+2368359562&4294967295;c=e+(h<<20&4294967295|h>>>12);h=b+(c^e^f)+d[5]+4294588738&4294967295;b=c+(h<<4&4294967295|h>>>28);h=f+(b^c^e)+d[8]+2272392833&4294967295;f=b+(h<<11&4294967295|h>>>21);h=e+(f^b^c)+d[11]+1839030562&4294967295;e=f+(h<<16&4294967295|h>>>16);h=c+(e^f^b)+d[14]+4259657740&4294967295;c=e+(h<<23&4294967295|h>>>9);h=b+(c^e^f)+d[1]+2763975236&4294967295;b=c+(h<<4&4294967295|h>>>28);h=f+(b^c^e)+d[4]+1272893353&4294967295;f=b+(h<<11&4294967295|h>>>21);h=e+(f^
b^c)+d[7]+4139469664&4294967295;e=f+(h<<16&4294967295|h>>>16);h=c+(e^f^b)+d[10]+3200236656&4294967295;c=e+(h<<23&4294967295|h>>>9);h=b+(c^e^f)+d[13]+681279174&4294967295;b=c+(h<<4&4294967295|h>>>28);h=f+(b^c^e)+d[0]+3936430074&4294967295;f=b+(h<<11&4294967295|h>>>21);h=e+(f^b^c)+d[3]+3572445317&4294967295;e=f+(h<<16&4294967295|h>>>16);h=c+(e^f^b)+d[6]+76029189&4294967295;c=e+(h<<23&4294967295|h>>>9);h=b+(c^e^f)+d[9]+3654602809&4294967295;b=c+(h<<4&4294967295|h>>>28);h=f+(b^c^e)+d[12]+3873151461&4294967295;
f=b+(h<<11&4294967295|h>>>21);h=e+(f^b^c)+d[15]+530742520&4294967295;e=f+(h<<16&4294967295|h>>>16);h=c+(e^f^b)+d[2]+3299628645&4294967295;c=e+(h<<23&4294967295|h>>>9);h=b+(e^(c|~f))+d[0]+4096336452&4294967295;b=c+(h<<6&4294967295|h>>>26);h=f+(c^(b|~e))+d[7]+1126891415&4294967295;f=b+(h<<10&4294967295|h>>>22);h=e+(b^(f|~c))+d[14]+2878612391&4294967295;e=f+(h<<15&4294967295|h>>>17);h=c+(f^(e|~b))+d[5]+4237533241&4294967295;c=e+(h<<21&4294967295|h>>>11);h=b+(e^(c|~f))+d[12]+1700485571&4294967295;b=c+
(h<<6&4294967295|h>>>26);h=f+(c^(b|~e))+d[3]+2399980690&4294967295;f=b+(h<<10&4294967295|h>>>22);h=e+(b^(f|~c))+d[10]+4293915773&4294967295;e=f+(h<<15&4294967295|h>>>17);h=c+(f^(e|~b))+d[1]+2240044497&4294967295;c=e+(h<<21&4294967295|h>>>11);h=b+(e^(c|~f))+d[8]+1873313359&4294967295;b=c+(h<<6&4294967295|h>>>26);h=f+(c^(b|~e))+d[15]+4264355552&4294967295;f=b+(h<<10&4294967295|h>>>22);h=e+(b^(f|~c))+d[6]+2734768916&4294967295;e=f+(h<<15&4294967295|h>>>17);h=c+(f^(e|~b))+d[13]+1309151649&4294967295;
c=e+(h<<21&4294967295|h>>>11);h=b+(e^(c|~f))+d[4]+4149444226&4294967295;b=c+(h<<6&4294967295|h>>>26);h=f+(c^(b|~e))+d[11]+3174756917&4294967295;f=b+(h<<10&4294967295|h>>>22);h=e+(b^(f|~c))+d[2]+718787259&4294967295;e=f+(h<<15&4294967295|h>>>17);h=c+(f^(e|~b))+d[9]+3951481745&4294967295;a.g[0]=a.g[0]+b&4294967295;a.g[1]=a.g[1]+(e+(h<<21&4294967295|h>>>11))&4294967295;a.g[2]=a.g[2]+e&4294967295;a.g[3]=a.g[3]+f&4294967295}
nm.prototype.update=function(a,b){t(b)||(b=a.length);for(var c=b-this.j,d=this.A,e=this.o,f=0;f<b;){if(0==e)for(;f<=c;)om(this,a,f),f+=this.j;if(y(a))for(;f<b;){if(d[e++]=a.charCodeAt(f++),e==this.j){om(this,d);e=0;break}}else for(;f<b;)if(d[e++]=a[f++],e==this.j){om(this,d);e=0;break}}this.o=e;this.v+=b};function pm(){hi.call(this)}B(pm,hi);pm.prototype.ue=function(){var a=hi.prototype.ue.call(this);a.upload&&(a.upload.onprogress=z(this.Z,this));return a};pm.prototype.Z=function(a){R(this,a)};function qm(a,b){a.Mb()||a.Sd();cm.call(this,a);this.lb=this.C=this.mb=this.kb=null;this.Xa=!1;this.U=this.O=null;this.H=a.g;this.B=0;this.P=null;this.Z=this.ga=0;this.A="Ready";this.I=this.o=this.D=this.rc=this.xc=this.J=this.wa=this.ha=null;this.j=new X(this);K(this,this.j);this.Y=new X(this);K(this,this.Y);this.v=0;this.g=this.X=this.M=null;this.Ca=b||Number.MAX_VALUE}B(qm,cm);m=qm.prototype;m.uf=g("ha");m.oa=g("wa");m.vf=g("J");
m.wf=function(a,b,c,d,e){this.kb=a;this.mb=b;this.C=Jb(c);this.lb=d;this.Xa=!!e;this.A="Creating session";this.C["X-Goog-Upload-Protocol"]="resumable";this.C["X-Goog-Upload-Command"]="start";null!=Vl(this.getItem())&&(this.C["X-Goog-Upload-Content-Length"]=Vl(this.getItem()));null!=this.getItem().getName()&&/^[\040-\176]*$/.test(this.getItem().getName())&&(this.C["X-Goog-Upload-File-Name"]=this.getItem().getName());this.getItem().j&&rm(this);this.Gh()};
m.cancel=function(){Zi(this.j);Zi(this.Y);"Creating session"==this.A&&this.D&&pi(this.D);"Transferring"==this.A&&(this.o&&pi(this.o),this.I&&pi(this.I),this.M&&$h(this.M));this.g&&jm(this.g);(new hi).send(this.U,"PUT","",{"X-Goog-Upload-Command":"cancel"});this.A="Cancelled";this.v=this.B=0;R(this,new dm("s"))};function rm(a){var b=a.getItem().be();b&&(a.g=new hm(new nm),a.Y.L(a.g,"complete",function(a){this.X=Xl(a.target.ef);this.g=null}),lm(a.g,1048576),im(a.g,b))}
m.Gh=function(){this.D=new pm;Zi(this.j);this.j.L(this.D,"complete",this.yl);this.D.Kd=this.Xa;this.D.send(this.kb,this.mb,this.lb,this.C)};
m.yl=function(a){var b=a.target.pa(),c=a.target.oa();a=Ol(a.target.getAllResponseHeaders());sm(b,a,c);var d=tm(a,"X-Goog-Upload-Status"),e=tm(a,"X-Goog-Upload-URL");if("final"==d)this.ha=b,this.J=a,this.wa=c,this.A="Complete",R(this,new dm("q"));else if(200==b&&"active"==d&&e){this.O=e;this.U=tm(a,"X-Goog-Upload-Control-URL")||null;e=tm(a,"X-Goog-Upload-Chunk-Granularity")||null;d=1;if(e&&(d=parseInt(e,10),isNaN(d)||0>=d)){um(this,"Create session failed","Invalid chunk granularity: "+e+". "+sm(b,
a,c));return}b=Vl(this.getItem());this.H=Math.floor(b/d)*d;this.P=Math.floor(1073741824/d)*d;this.getItem().Mb()||(this.P=b,this.H!=b&&(this.H=0));this.A="Transferring";this.v=0;this.Hh(0)}else 400<=b&&500>b?um(this,"Create session failed","Client failure. "+sm(b,a,c)):(vm(this,this.Gh),wm(this))};
m.Hh=function(a){var b=this.getItem(),c=b.g;b.Mb()||a==c||(a=0);var d=a>=this.H,e=d?c:Math.min(this.H,this.P+a);this.ga=a;this.Z=e;var f={"X-Goog-Upload-Command":"upload"+(d?", finalize":""),"X-Goog-Upload-Offset":a};d&&(this.X?f["X-Goog-Upload-Entity-MD5"]=this.X:this.g&&(jm(this.g),this.g=null));this.o=new pm;this.o.Kd=this.Xa;Zi(this.j);this.j.L(this.o,"progress",this.am);this.j.L(this.o,"complete",this.zl);a==c?this.o.send(this.O,"PUT","",f):(c=this.getItem().be(),b.Mb()?(a=Ll(c,a,e),this.o.send(this.O,
"PUT",a,f)):this.o.send(this.O,"PUT",c,f))};m.am=function(a){this.B=this.ga+a.loaded;R(this,new dm("p"));this.g&&lm(this.g,this.B+1048576)};m.zl=function(a){var b=a.target.pa();if(void 0===b||-1==b)vm(this,this.Eh),wm(this);else{var c=Ol(a.target.getAllResponseHeaders());a=a.target.oa();this.B=this.Z;sm(b,c,a);xm(this,b,c,a,!0)}};m.Eh=function(){this.I=new pm;Zi(this.j);this.j.L(this.I,"complete",this.ul);this.I.send(this.U,"PUT","",{"X-Goog-Upload-Command":"query"})};
m.ul=function(a){var b=a.target;a=b.pa();var c=Ol(b.getAllResponseHeaders()),b=b.oa();sm(a,c,b);xm(this,a,c,b,!1)};function xm(a,b,c,d,e){var f=tm(c,"X-Goog-Upload-Status");if("final"==f)a.A="Complete",a.v=0,a.ha=b,a.J=c,a.wa=d,R(a,new dm("q"));else{var h=parseInt(tm(c,"X-Goog-Upload-Size-Received"),10);e&&isNaN(h)&&(h=a.Z);200!=b||"active"!=f||isNaN(h)?(400<=b&&500>b&&um(a,"Transfer failed","Client failure. "+sm(b,c,d)),vm(a,a.Eh),wm(a)):(a.B=h,h>a.ga&&(a.v=0),vm(a,z(a.Hh,a,h)))}}
function wm(a){0==a.v&&A();a.v++}function um(a,b,c){a.xc=b;a.rc=c;a.A="Error";a.B=0;R(a,new em("r","Transient error"==b))}function vm(a,b){var c=[0,5E3,1E4,15E3,3E4,6E4],d=0,d=a.v<c.length?c[a.v]:c[c.length-1];if(d>a.Ca)um(a,"Transient error","Max retries exceeded");else{t(a.Ca)&&(d=Math.min(Math.max(d,0),a.Ca));A();var e=z(b,a);0<d?a.M=Zh(function(){this.M=null;e()},d,a):e()}}function sm(a,b,c){return"Response code: "+a+"\nHeaders:\n"+Pl(b)+"\nBody:\n"+c}
function tm(a,b){return a[b]||a[b.toLowerCase()]};function ym(a){this.g=a}B(ym,gm);function zm(a,b){if(b.Mb()&&b.Rd())return 2097152<b.g?new qm(b,a.g):new fm(b);if(b.Mb())return new qm(b,a.g);if(b.Rd())return new fm(b);if(b.Sd())return new qm(b,a.g);throw Error("Item supports no transfer types.");};function Am(a,b,c){Q.call(this);this.H=Bm++;this.o="select";this.I=a;this.g=c;K(this,this.g);this.B="";this.A="POST";this.D={};this.v="";this.C=!1;this.j=new X(this);K(this,this.j)}B(Am,Q);function Cm(a,b){M.call(this,a);this.item=b}B(Cm,M);function Dm(a,b,c){Cm.call(this,a,b);this.ff=!!c}B(Dm,Cm);Am.prototype.getName=g("I");Am.prototype.oa=function(){return this.g.oa()};
function Em(a){a.j.L(a.g,"p",function(){R(a,new Cm("u",a))});a.j.L(a.g,"q",function(){a.o="complete";R(a,new Cm("v",a))});a.j.L(a.g,"r",function(b){a.o="error";R(a,new Dm("w",a,b.ff))});a.g.wf(a.B,a.A,a.D,a.v,a.C);a.o="start";R(a,new Cm("t",a))}Am.prototype.cancel=function(){this.g.cancel();this.o="cancel";Zi(this.j);R(this,new Cm("x",this))};var Bm=0;function Fm(){Q.call(this)}B(Fm,Q);function Gm(){M.call(this,"y")}B(Gm,M);function Hm(a){Q.call(this);this.g=a}B(Hm,Fm);function Im(a){this.g=new ym(a)};function Jm(a,b){M.call(this,"z",a);this.o=b}B(Jm,M);function Km(a,b,c,d,e,f,h,k,n,p,r,u,D){Q.call(this);this.j=a;this.Z=b;this.H=c;this.A=d;this.C=u||(c?"POST":"GET");this.J=n;this.M=e;this.I=f;this.U=h;this.Y=k;this.Pa=r;this.X=D;this.v=this.P=this.D=0}B(Km,Q);var Lm=5E3*(.75+.5*Math.random());Km.prototype.Da=g("H");Km.prototype.send=function(a){this.D++;this.P=A();this.tg(a)};function Mm(a,b){a.reset();R(a,new Jm(a,b))}function Nm(a){return{ReqUri:a.j,ReqContent:a.H,ReqMethod:a.C}}Km.prototype.reset=w;
Km.prototype.F=function(){R(this,"A");this.reset();delete this.I;delete this.M;Km.G.F.call(this)};function Om(a,b,c,d,e,f,h,k,n,p,r,u,D,O){if(0>=p)throw Error("Please specify a progress timeout for the Scotty request. Received -"+p);Km.call(this,a,"",b,c,d,e,f,h,k,0,p,"POST",O);this.O=r;this.ha=u;this.ga=D;this.g=null;this.o=new X(this);this.B=new Lk(z(this.tl,this),p)}B(Om,Km);m=Om.prototype;
m.tg=function(a){var b=this.Da(),c=this.ha,b=new am(b,"raw","",void 0);b.j=!0;b=zm(c.g.g,b);b=new Am("",0,b);R(c,new Gm);this.g=b;c=Ak.ba().g.g;c=Aa(Ra(c))?this.O:Wd(this.O,{authuser:c});this.g.B=c;this.g.A=this.C;this.g.D=Jb(Jb(a.j));c={};b=this.j.match(Md)[5]||null;c.httpaction=b?decodeURI(b):b;if(b=this.j.match(Md)[6]||null)for(var b=new jj(b),d=b.Ea(),e=0;e<d.length;e++){var f=d[e];c[f]=b.get(f)}Mb(c,a.g.g);a=this.ga.stringify(c);this.g.v=a;this.g.C=!0;Xi(this.o,this.g,"v",this.Dl);Xi(this.o,
this.g,"w",this.El);this.o.L(this.g,"u",this.Fl);Em(this.g);Nk(this.B)};m.Dl=function(){if(this.g){var a=this.g.g.uf(),b=this.g.g.vf()||{},c={},d;for(d in b)c[d.toLowerCase()]=b[d];b=c["content-type"]||null;a=new dl(this.g.oa(),"text",b,a,ai(a)?0:6,c,Nm(this));Mm(this,a)}};m.El=function(){if(this.g){var a=new dl("","text",null,0,5,{},Nm(this));Mm(this,a)}};m.Fl=function(){Pm(this)&&Nk(this.B)};m.tl=function(){if(Pm(this)){var a=new dl("","text",null,0,8,{},Nm(this));Mm(this,a)}};
function Pm(a){return null!=a.g&&"start"==a.g.o}m.reset=function(){Mk(this.B);this.g&&(Pm(this)&&this.g.cancel(),L(this.g),this.g=null);Zi(this.o)};m.F=function(){fc(this.B,this.o);Om.G.F.call(this)};function Qm(a,b,c,d,e){jl.call(this,b,c,d);this.Z=a;a=Vi();this.Ia=e||Ti(a,"docs-net-udur");this.ha=new Hm(new Im);this.P=new sl;this.wa=Si(a,"docs-net-udpt")}B(Qm,jl);
Qm.prototype.V=function(){if(!this.v)throw Error("Scotty request cannot be built when upload is not allowed for a request.");var a=this.Pa;0>=a&&(a=this.wa);var b;b=this.P;if(!y(this.g)&&!x(this.g))throw Error("GetUploadContent() called when upload content is not available");if(y(this.g))b=this.g;else{for(var c=this.g,d=new al("{"),e=0;e<c.length;e+=2)0<e&&d.g(","),d.g(b.stringify(c[e])).g(":").g(b.stringify(c[e+1]));d.g("}");b=d.toString()}var f;y(b)&&(f=b);return new Om(this.j,f,this.C,this.N,this.A,
this.B,this.J,this.M,0,a,this.Ia,this.ha,this.P,this.H)};Qm.prototype.X=function(a){if(!this.Z)throw Error("Trying to send a request without a request sender for - "+(rl(this)+this.j));this.Z.send(a)};function Rm(a,b,c,d,e,f,h,k,n,p,r,u,D){Km.call(this,a,b,c,d,e,f,h,k,n,0,r,u,D);this.g=null;this.o=new X(this)}B(Rm,Km);Rm.prototype.tg=function(a){this.g=new hi;Xi(this.o,this.g,"complete",z(this.B,this));this.g.A=Math.max(0,this.Pa);"text"!=this.J&&(this.g.B=Sm(this.J));var b=Wd(this.Z+this.j,a.g.g);a=Jb(a.j);this.g.send(b,this.C,this.Da(),a)};
Rm.prototype.B=function(){var a,b=this.g;a="";var c=null;try{""==b.B?a=b.oa():a=ui(b),c=b.g&&4==ti(b)?b.g.getResponseHeader("Content-Type"):void 0}catch(p){}for(var d=Tm(b.B),e=b.pa(),f=b.v,h={},b=b.getAllResponseHeaders().split("\r\n"),k=0;k<b.length;k++)if(!Aa(Ra(b[k]))){var n=b[k].split(": ");2!=n.length||(h[n[0]]=n[1])}a=new dl(a,d,c,e,f,h,Nm(this),this.X);Mm(this,a)};Rm.prototype.reset=function(){this.g&&(this.g.W(),this.g=null)};Rm.prototype.F=function(){L(this.o);Rm.G.F.call(this)};
function Tm(a){switch(a){case "arraybuffer":return"arraybuffer";case "blob":return"blob";case "document":return"document";case "text":return"text";case "":return"text";default:throw Error("Unsupported Xhr Response Type - "+a);}}function Sm(a){switch(a){case "arraybuffer":return"arraybuffer";case "blob":return"blob";case "document":return"document";default:return""}};function Um(a,b,c,d,e){jl.call(this,b,c,d);this.P=a;this.Z=!!e}B(Um,jl);Um.prototype.V=function(){var a=this.Pa;0>a&&(a=this.Z?4E4:2E4);return new Rm(this.j,rl(this),this.Da(),this.C,this.N,this.A,this.B,this.J,this.M,0,a,this.I,this.H)};Um.prototype.X=function(a){if(!this.P)throw Error("Trying to send a request without a request sender for - "+(rl(this)+this.j));this.P.send(a)};function Vm(a,b,c,d,e){jl.call(this,b,c,d);this.P=a;a=Vi();this.ha=Ri(a,"docs-net-usud");this.Ia=Si(a,"docs-net-udmi");this.Z=e}B(Vm,jl);
Vm.prototype.V=function(){var a=null,b;if(b=this.ha&&this.v){if(!y(this.g)&&!x(this.g))throw Error("GetUploadContentLength() called when upload content is not available");if(x(this.g)){b=0;for(var c=this.g,d=0;d<c.length;d++)y(c[d])&&(b+=c[d].length)}else b=this.g.length;b=b>this.Ia}b&&(a=new Qm(this.P,this.j,this.ga,this.O,this.Z));null==a&&(a=new Um(this.P,this.j,this.ga,this.O));b=a;b.D=this.D;b.U=this.U;b.g=this.g;b.I=this.I;b.M=this.M;b.C=this.C;b.Y=this.Y;b.A=this.A;b.B=this.B;b.J=this.J;b.N=
this.N;b.Pa=this.Pa;b.v=this.v;b.H=this.H;return a.V()};Vm.prototype.X=function(a){if(!this.P)throw Error("Trying to send a request without a request sender for - "+(rl(this)+this.j));this.P.send(a)};function Wm(a){this.g=a};function Xm(a){this.g=a?Jb(a):{};this.j=null};var Ym=yc("Firefox"),Zm=Bc()||yc("iPod"),$m=yc("iPad"),an=yc("Android")&&!(Ac()||yc("Firefox")||zc()||yc("Silk")),bn=Ac(),cn=yc("Safari")&&!(Ac()||yc("Coast")||zc()||yc("Edge")||yc("Silk")||yc("Android"))&&!(Bc()||yc("iPad")||yc("iPod"));function dn(){try{var a=q.localStorage;if(a&&(bn||cn)&&(a.setItem("test","test"),"test"==a.getItem("test")&&(a.removeItem("test"),null==a.getItem("test"))))return!0}catch(b){}return!1};function en(a,b,c){xa.call(this,"Local storage error: "+b);this.type=a;this.Fb=c||null}B(en,xa);function fn(a){return"Failed to write to localstore ("+a.type+"): "+a.message}function gn(a){return(a=a.Fb&&a.Fb instanceof Event?a.Fb.target:null)?a.error:null}function hn(a){var b=gn(a);return 1==a.type&&!!b&&"UnknownError"==b.name};var jn=q.IDBKeyRange||q.webkitIDBKeyRange;
function kn(a,b,c,d,e,f){b=t(b)?ln(b,c):null;e=e?"prev":"next";if(d)return a=mn(a,d),f?(f=t(b),d=t(e),f=f&&d?a.g.openKeyCursor(b,e):f?a.g.openKeyCursor(b):a.g.openKeyCursor(),b=new nn(f,a.j,a.g.name+".openKeyCursor("+(b?b.lower+", "+b.upper:b)+", "+e+")",a.v,a.o)):(f=t(b),d=t(e),f=f&&d?a.g.openCursor(b,e):f?a.g.openCursor(b):a.g.openCursor(),b=new nn(f,a.j,a.g.name+".openCursor("+(b?b.lower+", "+b.upper:b)+", "+e+")",a.v,a.o)),b;f=t(b);d=t(e);f=f&&d?a.g.openCursor(b,e):f?a.g.openCursor(b):a.g.openCursor();
return new nn(f,a.j,a.g.name+".openCursor("+(b?b.lower+", "+b.upper:b)+", "+e+")",a.v,a.o)}function on(a,b,c,d){b=ln(b,c);a=pn(a,b);d&&qn(a,d)}function rn(a,b,c,d,e,f,h,k,n,p){b=Y(a,b);var r=[];qn(kn(b,e,f,h,k,n),function(b){if(b=b.target.result){var e=t(b.value)?b.value:b.key;(e=c(e))&&r.push(e);b["continue"]()}else p&&sn(a),d&&d(r)})}
function tn(a){var b=a.target.error,c=b&&b.name,b=b&&b.message||a.target.webkitErrorMessage;a.target.docs_internalAbort&&(b="Internal abort: "+b);return c+" ("+b+")"}function un(a,b){return function(c){c.stopPropagation();b(new en(1,a+" ("+tn(c)+")",c))}}function ln(a,b){return t(b)&&a!=b?jn.bound(a,b):jn.only(a)};function vn(a,b,c,d,e,f){U.call(this,e,f);this.V=a;this.D=[];this.J=!!b;this.Y=!!c;this.X=!!d;for(b=this.O=0;b<a.length;b++)V(a[b],z(this.M,this,b,!0),z(this.M,this,b,!1));0!=a.length||this.J||this.K(this.D)}B(vn,U);vn.prototype.M=function(a,b,c){this.O++;this.D[a]=[b,c];this.g||(this.J&&b?this.K([a,c]):this.Y&&!b?this.R(c):this.O==this.V.length&&this.K(this.D));this.X&&!b&&(c=null);return c};vn.prototype.R=function(a){vn.G.R.call(this,a);for(a=0;a<this.V.length;a++)this.V[a].cancel()};
function wn(a){return(new vn(a,!1,!0)).T(function(a){for(var c=[],d=0;d<a.length;d++)c[d]=a[d][1];return c})};function xn(a){J.call(this);this.j=new hi;this.C=new Lk(this.A,3E4,this);this.J=new Hk;this.I=!1;this.D=new X(this);this.U=a||10;this.D.L(this.j,"complete",this.O);this.D.L(this.j,"ready",this.A)}B(xn,J);xn.prototype.send=function(a,b,c,d){this.Bc().T(function(e){e>=this.U||(e={},e.u=a,e.m=b,e.c=c,e.h=d,this.yd(e).T(this.A,this))},this)};xn.prototype.A=function(){0!=this.C.g||this.j.g||this.I||yn(this)};
function yn(a){a.Ac().T(function(a){if(!this.j.g&&0==this.C.g&&!this.I&&a)if(4E3<a.u.length)this.Ub();else try{Jk(this.J,1),this.j.send(a.u,a.m,a.c,a.h)}catch(c){if(c instanceof Kk)this.I=!0;else throw c;}},a)}xn.prototype.O=function(){var a=this.j.pa();this.j.fc()||400<=a&&500>=a?this.Ub():Nk(this.C)};xn.prototype.F=function(){fc(this.D,this.C,this.j);xn.G.F.call(this)};function zn(a,b,c,d,e){xn.call(this,e);this.H=b;this.v=b+"-f";this.o=b+"-n";this.B=c;this.M=a;this.g=null;this.P=d||An;a=this.P.open("DocsErrors",1);a.onsuccess=z(this.Lj,this);a.onupgradeneeded=z(this.Ok,this);a.onerror=z(this.Wg,this);a.onblocked=z(this.Wg,this)}B(zn,xn);var An=q.indexedDB||q.webkitIndexedDB;m=zn.prototype;
m.Lj=function(a){var b=a.target.result;a=b.transaction(["Errors"],"readwrite");(new vn([Bn(this.v,a),Bn(this.o,a)])).T(function(a){if(null==a[0][1]||null==a[1][1]){a=b.transaction(["Errors"],"readwrite");var d=a.objectStore("Errors");d.put({key:this.v,value:"1"});d.put({key:this.o,value:"1"});a.oncomplete=z(this.cg,this,b)}else this.cg(b)},this)};m.cg=function(a){this.g=a;this.A()};m.Ok=function(a){a.target.transaction.db.createObjectStore("Errors",{keyPath:"key"})};
m.Wg=function(a){this.g&&(this.g.close(),this.g=null);Cn(this.M,Error("IdbErrorSender: "+tn(a)))};m.yd=function(a){if(!this.g)return this.B.yd(a);var b=this.g.transaction(["Errors"],"readwrite"),c=new U;Bn(this.o,b).T(function(d){if(d){var e=b.objectStore("Errors");e.put({key:this.o,value:String(d+1)});e.put({key:this.H+"-e-"+d,value:tb(a)});b.oncomplete=z(c.K,c)}else c.K()},this);return c};
m.Ub=function(){if(!this.g)return this.B.Ub();var a=this.g.transaction(["Errors"],"readwrite"),b=new U;(new vn([Bn(this.v,a),Bn(this.o,a)])).T(function(c){var d=c[0][1];c=c[1][1];if(!d||c<=d)b.K();else{var e=a.objectStore("Errors");e["delete"](this.H+"-e-"+d);d++;e.put({key:this.v,value:String(d)});Dn(this,a).T(function(c){0==c&&(e.put({key:this.v,value:"1"}),e.put({key:this.o,value:"1"}));a.oncomplete=z(b.K,b)},this)}},this);return b};
m.Ac=function(){if(!this.g)return this.B.Ac();var a=this.g.transaction(["Errors"],"readonly");return(new vn([Bn(this.v,a),Bn(this.o,a)])).T(function(b){var c=b[0][1];return!c||1>b[1][1]-c?null:En(this.H+"-e-"+c,a).T(function(a){return a&&(a=rb(a))?a:this.Ub().T(this.Ac,this)},this)},this)};m.Bc=function(){if(!this.g)return this.B.Bc();var a=this.g.transaction(["Errors"],"readonly");return Dn(this,a)};function Dn(a,b){return(new vn([Bn(a.v,b),Bn(a.o,b)])).T(function(a){return a[1][1]-a[0][1]})}
function Bn(a,b){return En(a,b).T(function(a){a=parseInt(a,10);return 0>a||isNaN(a)?null:a})}function En(a,b){var c=b.objectStore("Errors"),d=new U;c.get(a).onsuccess=function(a){a.target.result?d.K(a.target.result.value):d.K(null)};return d}m.F=function(){this.g&&(this.g.close(),this.g=null);zn.G.F.call(this)};function Fn(a,b){xn.call(this,b);this.H=a;this.B=a+"-v";this.o=a+"-f";this.v=a+"-n";this.g=q.localStorage;dn();var c=Gn(this,this.B);if(!c||1>c)this.g.setItem(this.B,"1"),this.g.setItem(this.o,"1"),this.g.setItem(this.v,"1");this.A()}B(Fn,xn);m=Fn.prototype;m.yd=function(a){var b=Gn(this,this.v);if(!b||1!=Gn(this,this.B))return xg();this.g.setItem(this.v,String(b+1));this.g.setItem(this.H+"-e-"+b,tb(a));return xg()};
m.Ub=function(){var a=Gn(this,this.o);if(!a||1!=Gn(this,this.B))return xg();this.g.removeItem(this.H+"-e-"+a);a++;this.g.setItem(this.o,String(a));return this.Bc().T(function(a){0==a&&(this.g.setItem(this.o,"1"),this.g.setItem(this.v,"1"))},this)};m.Ac=function(){var a=Gn(this,this.o);return a&&1==Gn(this,this.B)?this.Bc().T(function(b){if(1>b)return null;try{var c;if(c=this.g.getItem(this.H+"-e-"+a)){var d=rb(c);if(d)return d}}catch(e){}return this.Ub().T(this.Ac,this)},this):xg(null)};
m.Bc=function(){return xg(Gn(this,this.v)-Gn(this,this.o))};function Gn(a,b){var c=parseInt(a.g.getItem(b),10);return 0>c||isNaN(c)?null:c}m.F=function(){delete this.g;Fn.G.F.call(this)};function Hn(a){xn.call(this,a);this.g=[]}B(Hn,xn);m=Hn.prototype;m.yd=function(a){this.g.push(a);return xg()};m.Ub=function(){this.g.shift();return xg()};m.Ac=function(){return xg(t(this.g[0])?this.g[0]:null)};m.Bc=function(){return xg(this.g.length)};m.F=function(){delete this.g;Hn.G.F.call(this)};function In(a,b,c,d,e,f,h){Q.call(this);this.A={};this.g=null;this.D={};this.v=new X(this);this.H=!!e;this.o=null;var k;b&&dn()?k=new Fn(b,c):k=new Hn(c);b&&An&&bn&&h?(this.o=new zn(this,b,k,void 0,c),K(this,k)):this.o=k;a=Ti(Vi(),"docs-sup");a+="/jserror";(b=Ti(Vi(),"jobset"))&&(a=Vd(a,"jobset",b));if(Jn)throw Error("ErrorReporter already installed.");Jn=!0;b=z(this.Ml,this);this.g=new vi(a,b,void 0);this.g.H={"X-Same-Domain":"1","X-No-Abort":"1"};a=z(this.bm,this);this.g.D=a;this.v.L(this.g,"c",
this.Gj);this.B=!1;this.C=!0;this.j=!1}B(In,Q);var Jn=!1;function Kn(a,b){a.j=!1;if(!a.g)throw b;a.g.g(b,Ln("fatal",void 0))}function Cn(a,b){a.j=!1;a.g&&a.g.g(b,Ln("warning",void 0))}function Mn(a,b,c){a.j=!1;a.g&&a.g.g(b,Ln("incident",c))}m=In.prototype;m.log=function(a,b,c){this.j=!!c;if(!this.g)throw a;this.g.g(a,Ln("incident",b))};
function Nn(a,b,c,d){return z(function(a){var f;a:{var h=!!d,k=arguments;if(this.g){try{f=b.apply(c,k);break a}catch(n){if(Kn(this,n),h)throw n;}f=void 0}else f=b.apply(c,k)}return f},a)}function Ln(a,b){var c=b?Jb(b):{};c.severity=a;return c}
m.Gj=function(a){var b=a.o.severity;if((b="fatal"==b||"postmortem"==b)&&!this.H&&window.confirm("This error has been reported to Google and we'll look into it as soon as possible. Please reload this page to continue.")){var c=window;c.onbeforeunload=w;c.location.reload()}R(this,new On(b?"B":"C",a.error))};
m.Ml=function(a,b){for(var c in this.A)try{b[c]=this.A[c]()}catch(e){}Mb(b,this.D);c=b.severity||"fatal";var d;a:{for(d in Array.prototype){d=!1;break a}d=!0}b.isArrayPrototypeIntact=d.toString();this.B?(this.C=this.j||!Ri(Vi(),"docs-spfe"),"fatal"==c?c="postmortem":"incident"==c&&(c="warningafterdeath")):"fatal"==c&&(this.B=!0);this.j=!1;b.severity=c};m.bm=function(a,b,c,d){this.C&&this.o.send(a,b,c,d)};m.F=function(){Jn=!1;fc(this.v,this.g,this.o);In.G.F.call(this)};
function On(a,b){M.call(this,a);this.error=b}B(On,M);function Pn(){J.call(this);this.g={}}B(Pn,J);Pn.prototype.Pb=function(a,b,c){if(ma(a))c&&(a=z(a,c));else if(a&&"function"==typeof a.handleEvent)a=z(a.handleEvent,a);else throw Error("Invalid listener argument");c=new Qn;a=Zh(z(this.j,this,a,c),b);this.g[a]=!0;return c.g=a};Pn.prototype.j=function(a,b){var c=b.getId();null===c||delete this.g[c];a()};Pn.prototype.clear=function(a){null===a||delete this.g[a];$h(a)};Pn.prototype.F=function(){for(var a in this.g)$h(Number(a));Pn.G.F.call(this)};
function Qn(){this.g=null}Qn.prototype.getId=g("g");function Rn(a,b,c){M.call(this,"D",a);this.o=b;this.A=c}B(Rn,M);function Sn(a,b,c){Q.call(this);this.j={"X-Same-Domain":"1"};!1===c&&(this.j={});this.o="";this.g=b||new Xm(Ui(Vi(),"info_params"));a=(a||q).location.href;b=a.search(Yd);c=Xd(a,0,"authkey",b);if(0>c)a=null;else{var d=a.indexOf("&",c);if(0>d||d>b)d=b;c+=8;a=Da(a.substr(c,d-c))}a&&Tn(this,"authkey",a)}B(Sn,Q);Sn.prototype.v=function(a){Tn(this,"tfe",a)};function Tn(a,b,c){var d=a.g;if(c){if(d.g[b]=c,d.j&&(b=d.g.token||null))d.j.K(b),d.j=null}else delete d.g[b];R(a,"E")};function Un(a){Q.call(this);this.j=a;this.g=null;this.o=new X(this);this.o.L(this.j,"E",this.v)}B(Un,Q);function Vn(a){a=a.g;return!(null==a.j?0:a.j)}Un.prototype.v=function(){this.g&&(this.g.ga=Jb(this.j.g.g))};Un.prototype.A=function(a){var b=this.g;R(this,new Rn(this,0==a,b.Ka?b.Ka.gb:-1))};Un.prototype.F=function(){this.g&&!this.g.isDisposed()&&(this.g.Fe("tfe_changed",this.j.v,this.j),Yk(this.g),this.g.N=w);this.g=null;L(this.o);Un.G.F.call(this)};new uf;function Wn(a,b){J.call(this);this.j=[];this.A=a;this.o=b||null;this.g=this.v=null;this.o&&(this.g=new Wh(500),this.v=new X(this),this.v.L(this.g,"tick",this.qm))}B(Wn,J);m=Wn.prototype;m.reset=function(){this.j=[];this.g&&Xh(this.g)};m.contains=function(a){return eb(this.j,a)};m.remove=function(a){gb(this.j,a);0==this.j.length&&this.g&&Xh(this.g)};m.qm=function(){for(;0<this.j.length&&Ik(this.o);)Jk(this.o),this.A(this.j.shift());0==this.j.length&&this.g&&Xh(this.g)};
m.F=function(){L(this.v);L(this.g);Wn.G.F.call(this)};function Xn(a,b){M.call(this,"H");this.A=a;this.o=b}B(Xn,M);function Yn(){Q.call(this);this.g=Zn}B(Yn,Q);function $n(a,b){var c=a.g;b!=c&&(a.g=b,R(a,new Xn(c,b)))}function ao(a,b){this.j=a;this.g=b}
var Zn=new ao("IDLE",1),bo=new ao("BUSY",1),co=new ao("RECOVERING",2),eo=new ao("OFFLINE",3),fo=new ao("SERVER_DOWN",3),go=new ao("FORBIDDEN",4),ho=new ao("AUTH_REQUIRED",4),io=new ao("SESSION_LIMIT_EXCEEDED",4),jo=new ao("INCOMPATIBLE_SERVER",5),ko=new ao("CLIENT_ERROR",5),lo=new ao("BATCH_CLIENT_ERROR",3),mo=new ao("SAVE_ERROR",5),no=new ao("BATCH_SAVE_ERROR",3);ao.prototype.toString=g("j");function oo(a,b,c,d,e,f,h,k){Q.call(this);this.M=a;this.j=new Sn(b,e,h);this.o=new Un(this.j);this.B=new X(this);this.D=c||null;c&&this.B.L(c,"B",this.Uj);this.g=d||new Yn;this.J=k||null;this.I=new Pn;this.v=[];this.H=[];this.C=new Wn(z(this.cm,this),f);this.A=ko;this.B.L(this.o,"D",this.Ej)}B(oo,Q);function po(a,b){var c=new Vm(a,b,a,a.J,a.M.g);c.D=a.j.o;return c}m=oo.prototype;
m.send=function(a){if(!a.isDisposed()){fb(this.v,a);a:{var b=this.C;if(b.o){if(!Ik(b.o)||0!=b.j.length){b.j.push(a);Yh(b.g);break a}Jk(b.o)}b.A(a)}Xi(this.B,a,"A",this.Ek)}};m.cm=function(a){5<=this.g.g.g||(this.g.g==Zn&&$n(this.g,bo),Xi(this.B,a,"z",this.Yg),a.send(this.j))};
m.Yg=function(a){var b=a.target,c=a.o;"SOON"==c.B["x-restart"]&&R(this.g,"I");this.D&&il(c)&&1!=b.A&&this.D.log(Error("blank JSON response"),gl(c));if("NOW"==c.B["x-restart"])a=new cl("k",c.j,c.o);else if(7==c.j)a=null;else{a=c.j;var d=c.o;(c.fc()?0==a&&0==d&&("text"!=c.v||null==c.g):8==a||5==a||6==a&&(0>=d||503==d||405==d))?a="h":(a=c.o,a=6==c.j&&(202==a||401==a||403==a||409==a||429==a||500<=a&&599>=a&&503!=a&&550!=a)||200==a&&(null==c.A||hl(c)||il(c))?"i":c.fc()?"g":"f");a=new cl(a,c.j,c.o,6==c.j&&
500==c.o?hl(c):null)}if(a){d=!0;if("g"==a.type){try{b.M(c),qo(this,b)}catch(n){a=new cl("j",a.errorCode,a.o),a.Fb=n,a.A="g",qo(this,b,this.A)}b.W()}else if("h"==a.type||"i"==a.type){var e=a,f=!1;200==e.o&&(c=hl(c))&&"XSRF"==F(c,1)&&(c=c.getData(),Tn(this.j,"token",c),f=!0);409==e.o&&this.j.v(null);var c=5<=this.g.g.g,h="i"==e.type;c||!(f||1!=b.A&&4>b.D)?3==b.A?(c||(null==this.o.g||h?ro(this,b,!0):this.H.push(b),so(this),$n(this.g,to(this,e.o))),c=2):c=1:(ro(this,b,!1),c=3);switch(c){case 1:a.A=a.type;
a.type="f";break;case 3:d=!1;break;case 2:uo(a)}}else"k"==a.type&&(this.D&&Mn(this.D,Error("Incompatible server")),qo(this,b,jo),d=!1);if("f"==a.type){uo(a);try{if(0==b.I(a)&&(d=!1),b.Y)qo(this,b);else{var k=b.U(a)||to(this,a.o);qo(this,b,k)}}catch(n){a=new cl("j",a.errorCode,a.o),a.Fb=n,a.A="f",qo(this,b,this.A)}b.W()}d&&(a.D=b.j,R(this,a))}};function uo(a){a.N instanceof bl&&F(a.N,2)}
m.Ek=function(a){a=a.target;this.C.contains(a)?this.C.remove(a):eb(this.v,a)&&(this.B.za(a,"z",this.Yg),qo(this,a));gb(this.v,a);gb(this.H,a)};function qo(a,b,c){var d=a.g.g,e=d,f=c||eo;c=!c;gb(a.v,b);gb(a.H,b);Wa(!a.C.contains(b));if(!(5<=d.g))if(5<=f.g)$n(a.g,f);else{b=null!=a.o.g||cb(a.v,function(a){return 3==a.A});if(d==bo)c||!b?0==a.v.length&&(e=Zn):(so(a),e=f);else if(c)if(0<a.v.length)e=co,vo(a);else{if(null==a.o.g||Vn(a.o))e=Zn}else e=f;$n(a.g,e)}}
function so(a){null!=a.o.g&&1==a.g.g.g&&(a=a.o,Yk(a.g),Wk(a.g))}m.pa=g("g");function ro(a,b,c){var d=Lm;c&&0!=b.v&&(d=3E4>b.v?1.5*b.v:b.v);b.v=d;c=Math.max(0,d-(A()-b.P));a.I.Pb(z(a.send,a,b),c)}m.Ej=function(a){var b=this.g.g;5<=b.g||(a.o?1!=b.g&&(0<this.v.length?($n(this.g,co),vo(this)):$n(this.g,Zn)):$n(this.g,to(this,a.A)))};function vo(a){var b=a.H.shift();b&&a.send(b)}
function to(a,b){return 401==b?ho:403==b?go:421==b?io:202==b||405==b||409==b||429==b||500<=b&&599>=b&&550!=b?fo:400<=b&&499>=b||550==b?a.A:eo}m.Uj=function(){$n(this.g,this.A)};m.F=function(){fc(this.v);L(this.o);L(this.j);L(this.I);L(this.C);L(this.B);oo.G.F.call(this)};function wo(a){this.g=a};function xo(a){J.call(this);this.j=a;this.g={};this.j.qd(z(this.o,this))}B(xo,J);function yo(a,b){if(-1!=b.indexOf(":"))throw Error('Virtual channel name "'+b+'" should not contain colons');if(b in a.g)throw Error('Virtual channel "'+b+'" was already created for this multichannel.');var c=new zo(a,b);return a.g[b]=c}xo.prototype.o=function(a,b){var c=a.match(/^([^:]*):(.*)/);if(c){var d=c[1];a=c[2];d in this.g&&(c=this.g[d])&&c.o&&c.o(a,b)}};
xo.prototype.F=function(){zb(this.g,function(a){L(a)});L(this.j);delete this.g;delete this.j};function zo(a,b){J.call(this);this.g=a;this.j=b}B(zo,J);m=zo.prototype;m.connect=function(a){a&&a()};m.Na=l(!0);m.Yb=function(a,b,c){this.g.j.Yb(this.j+":"+a,z(this.fg,this,b),c)};m.qd=function(a){this.o=z(this.fg,this,a)};m.send=function(a,b){if(this.isDisposed())throw Error("#send called for disposed VirtualChannel.");this.g.j.send(this.j+":"+a,b)};
m.fg=function(a,b){this.isDisposed()||a.apply({},Array.prototype.slice.call(arguments,1))};m.F=function(){this.g=this.g.g[this.j]=null};function Ao(a,b){J.call(this);this.j=[];this.v=new xo(a);this.o=yo(this.v,"user");this.B=yo(this.v,"control");this.g=new Wh(b||50);Yh(this.g);se(this.g,"tick",this.Fh,!1,this);this.B.Yb("setPeerReady_",z(this.dm,this))}B(Ao,J);m=Ao.prototype;m.connect=function(a){a&&a()};m.Na=l(!0);m.Fh=function(){try{this.B.send("setPeerReady_",this.A?"1":"")}catch(a){throw Xh(this.g),a;}};m.Yb=function(a,b,c){this.o.Yb(a,b,c)};m.qd=function(a){this.o.qd(a)};
m.send=function(a,b){this.A?this.o.send(a,b):this.j.push({xf:a,cb:b})};m.dm=function(a){a?Xh(this.g):Yh(this.g);if(!this.A){this.A=!0;this.Fh();for(a=0;a<this.j.length;a++){var b=this.j[a];this.o.send(b.xf,b.cb)}this.j=null}};m.F=function(){L(this.v);L(this.g);Ao.G.F.call(this)};function Bo(){J.call(this);this.j={}}B(Bo,J);m=Bo.prototype;m.oj=null;m.connect=function(a){a&&a()};m.Na=l(!0);m.Yb=function(a,b,c){this.j[a]={K:b,jh:!!c}};m.qd=ca("C");function Co(a,b,c){var d;d=(d=a.j[b])?d:a.C?{K:ta(a.C,b),jh:na(c)}:null;d&&(a=a.wd(b,c,d.jh),null!=a&&d.K(a))}m.wd=function(a,b,c){if(c&&y(b))try{return rb(b)}catch(d){return null}else if(!c&&!y(b))return tb(b);return b};m.F=function(){Bo.G.F.call(this);delete this.oj;delete this.j;delete this.C};var Do={1:"NativeMessagingTransport",2:"FrameElementMethodTransport",3:"IframeRelayTransport",4:"IframePollingTransport",5:"FlashTransport",6:"NixTransport",7:"DirectTransport"},Eo=["pu","lru","pru","lpu","ppu"],Fo={};function Go(a){for(var b=Ho,c=b.length,d="";0<a--;)d+=b.charAt(Math.floor(Math.random()*c));return d}var Ho="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";function Io(a){J.call(this);this.X=a||Ic()}B(Io,J);Io.prototype.pc=0;function Jo(a){return Oc(a.X.g)}Io.prototype.getName=function(){return Do[String(this.pc)]||""};function Ko(a,b){Io.call(this,b);this.g=a;this.D=new X(this);K(this,this.D);this.B=new Wh(100,Jo(this));K(this,this.B);this.v=new U;this.A=new U;this.j=new U;this.I=Go(10);this.C=null;this.o={};this.J=this.g.name;Lo(this.g,this.g.name+"_"+Mo(this.g));this.H=!1;tg(this.j,this.v);tg(this.j,this.A);this.j.T(this.pj,this);this.j.K(!0);this.D.L(this.B,"tick",this.Mg)}B(Ko,Io);var No={};
function Oo(a){var b=new Po(a.channelName,a.service,a.payload);a=b.g;var c=b.ce,b=b.cb,d=Fo[a];if(d)return d.jb(c,b),!0;var d=Qo(b)[0],e;for(e in Fo){var f=Fo[e];if(1==Mo(f)&&!f.Na()&&"tp"==c&&"SETUP"==d)return Lo(f,a),f.jb(c,b),!0}return!1}m=Ko.prototype;m.pc=7;m.fe=function(a){a=Qo(a);var b=a[1];switch(a[0]){case "SETUP_ACK":this.v.g||this.v.K(!0);break;case "SETUP":this.send("tp","SETUP_ACK"),this.A.g||this.A.K(!0),null!=this.C&&this.C!=b&&Ro(this),this.C=b}};
function Ro(a){var b;b="SETUP,"+a.I;a.send("tp",b)}m.connect=function(){var a=Jo(this);if(a){var b=oa(a);0==(No[b]||0)&&null==fa("crosswindowmessaging.channel",a)&&v("crosswindowmessaging.channel",Oo,a);No[b]++;this.H=!0;this.Mg()}};m.Mg=function(){this.g.Na()?Xh(this.B):(Yh(this.B),Ro(this))};m.send=function(a,b){if(this.g.Ua){var c=new Po(this.J+"_"+(0==Mo(this.g)?1:0),a,b);this.g.g.directSyncMode?this.xg(c):this.o[oa(c)]=Zh(z(this.xg,this,c),0)}};
m.xg=function(a){var b=oa(a);this.o[b]&&delete this.o[b];try{var c=fa("crosswindowmessaging.channel",this.g.Ua)}catch(d){return}if(null!==c)try{c({channelName:a.g,service:a.ce,payload:a.cb})}catch(d){}};m.pj=function(){So(this.g,0)};
m.F=function(){if(this.H){var a=Jo(this),b=oa(a);1==--No[b]&&v("crosswindowmessaging.channel",null,a)}this.o&&(zb(this.o,function(a){$h(a)}),this.o=null);this.v&&(this.v.cancel(),delete this.v);this.A&&(this.A.cancel(),delete this.A);this.j&&(this.j.cancel(),delete this.j);Ko.G.F.call(this)};function Qo(a){a=a.split(",");a[1]=a[1]||null;return a}function Po(a,b,c){this.g=a;this.ce=b;this.cb=c};function To(a,b){Io.call(this,b);this.j=a;this.o=[];this.B=z(this.Ki,this)}B(To,Io);m=To.prototype;m.pc=2;m.sf=!1;m.connect=function(){0==Mo(this.j)?(this.g=this.j.Jc,this.g.XPC_toOuter=z(this.dh,this)):this.Pf()};
m.Pf=function(){var a=!0;try{this.g||(this.g=Jo(this).frameElement),this.g&&this.g.XPC_toOuter&&(this.v=this.g.XPC_toOuter,this.g.XPC_toOuter.XPC_toInner=z(this.dh,this),a=!1,this.send("tp","SETUP_ACK"),So(this.j))}catch(b){}a&&(this.A||(this.A=z(this.Pf,this)),Jo(this).setTimeout(this.A,100))};m.fe=function(a){if(0!=Mo(this.j)||this.j.Na()||"SETUP_ACK"!=a)throw Error("Got unexpected transport message.");this.v=this.g.XPC_toOuter.XPC_toInner;So(this.j)};
m.dh=function(a,b){this.sf||0!=this.o.length?(this.o.push({xf:a,cb:b}),1==this.o.length&&Jo(this).setTimeout(this.B,1)):this.j.jb(a,b)};m.Ki=function(){for(;this.o.length;){var a=this.o.shift();this.j.jb(a.xf,a.cb)}};m.send=function(a,b){this.sf=!0;this.v(a,b);this.sf=!1};m.F=function(){To.G.F.call(this);this.g=this.v=null};function Uo(a,b){Io.call(this,b);this.g=a;this.I=this.g.g.ppu;this.Y=this.g.g.lpu;this.H=[]}var Vo,Wo;B(Uo,Io);m=Uo.prototype;m.Il=5;m.pc=4;m.Re=0;m.Rc=!1;m.Ld=!1;m.xh=null;function Xo(a){return"googlexpc_"+a.g.name+"_msg"}function Yo(a){return"googlexpc_"+a.g.name+"_ack"}function Zo(a){try{if(!a.isDisposed()&&$o(a.g))return a.g.Ua.frames||{}}catch(b){}return{}}function ap(a,b){return Zo(a)[b]}
m.connect=function(){if(!this.isDisposed()&&$o(this.g)){if(!this.Ld){var a=Xo(this);this.o=bp(this,a);this.C=Jo(this).frames[a];a=Yo(this);this.j=bp(this,a);this.B=Jo(this).frames[a];this.Ld=!0}if(cp(this,Xo(this))&&cp(this,Yo(this)))this.O=new dp(this,ap(this,Xo(this)),z(this.Ll,this)),this.J=new dp(this,ap(this,Yo(this)),z(this.Kl,this)),this.Xf();else{if(1==Mo(this.g))this.xh||0<this.Il--||(Lo(this.g,Go(10)),ep(this),this.Ld=!1,this.xh=bp(this,"googlexpc_reconnect_"+this.g.name));else if(0==Mo(this.g))for(var a=
Zo(this),b=a.length,c=0;c<b;c++){var d;try{a[c]&&a[c].name&&(d=a[c].name)}catch(f){}if(d){var e=d.split("_");if(3==e.length&&"googlexpc"==e[0]&&"reconnect"==e[1]){this.g.name=e[2];ep(this);this.Ld=!1;break}}}Jo(this).setTimeout(z(this.connect,this),100)}}};function bp(a,b){var c=document.createElement("IFRAME"),d=c.style;d.position="absolute";d.top="-10px";d.left="10px";d.width="1px";d.height="1px";c.id=c.name=b;c.src=a.I+"#INITIAL";Jo(a).document.body.appendChild(c);return c}
function ep(a){a.o&&(a.o.parentNode.removeChild(a.o),a.o=null,a.C=null);a.j&&(a.j.parentNode.removeChild(a.j),a.j=null,a.B=null)}function cp(a,b){try{var c=ap(a,b);if(!c||0!=c.location.href.indexOf(a.Y))return!1}catch(d){return!1}return!0}m.Xf=function(){var a=Zo(this);a[Yo(this)]&&a[Xo(this)]?(this.P=new fp(this.I,this.C),this.A=new fp(this.I,this.B),Jo(this).setTimeout(z(function(){this.P.send("SETUP");this.Rc=!0},this),100)):(this.M||(this.M=z(this.Xf,this)),Jo(this).setTimeout(this.M,100))};
function gp(a){if(a.U&&a.Z&&(So(a.g),a.v)){for(var b=0,c;b<a.v.length;b++)c=a.v[b],a.g.jb(c.ce,c.cb);delete a.v}}
m.Ll=function(a){if("SETUP"==a)this.A&&(this.A.send("SETUP_ACK"),this.U=!0,gp(this));else if(this.g.Na()||this.U){var b=a.indexOf("|"),c=a.substring(0,b);a=a.substring(b+1);b=c.indexOf(",");if(-1==b){var d;this.A.send("ACK:"+c);hp(this,a)}else d=c.substring(0,b),this.A.send("ACK:"+d),c=c.substring(b+1).split("/"),b=parseInt(c[0],10),c=parseInt(c[1],10),1==b&&(this.D=[]),this.D.push(a),b==c&&(hp(this,this.D.join("")),delete this.D)}};
m.Kl=function(a){"SETUP_ACK"==a?(this.Rc=!1,this.Z=!0,gp(this)):this.g.Na()&&this.Rc&&parseInt(a.split(":")[1],10)==this.Re&&(this.Rc=!1,ip(this))};function ip(a){if(!a.Rc&&a.H.length){var b=a.H.shift();++a.Re;a.P.send(a.Re+b);a.Rc=!0}}function hp(a,b){var c=b.indexOf(":"),d=b.substr(0,c),c=b.substring(c+1);a.g.Na()?a.g.jb(d,c):(a.v||(a.v=[])).push({ce:d,cb:c})}m.send=function(a,b){this.H.push("|"+(a+":"+b));ip(this)};
m.F=function(){Uo.G.F.call(this);var a=jp;gb(a,this.O);gb(a,this.J);this.O=this.J=null;Rc(this.o);Rc(this.j);this.C=this.B=this.o=this.j=null};var jp=[],kp=z(function(){var a=jp,b,c=!1;try{for(var d=0;b=a[d];d++){var e;if(!(e=c)){var f=b,h=f.j.location.href;if(h!=f.g){f.g=h;var k=h.split("#")[1];k&&(k=k.substr(1),f.o(decodeURIComponent(k)));e=!0}else e=!1}c=e}}catch(n){if(b.v.g.close(),!a.length)return}a=A();c&&(Vo=a);Wo=window.setTimeout(kp,1E3>a-Vo?10:100)},Uo);
function lp(){Vo=A();Wo&&window.clearTimeout(Wo);Wo=window.setTimeout(kp,10)}function fp(a,b){if(!/^https?:\/\//.test(a))throw Error("URL "+a+" is invalid");this.j=a;this.o=b;this.g=0}fp.prototype.send=function(a){this.g=++this.g%2;a=this.j+"#"+this.g+encodeURIComponent(a);try{this.o.location.href=a}catch(b){}lp()};function dp(a,b,c){this.v=a;this.j=b;this.o=c;this.g=this.j.location.href.split("#")[0]+"#INITIAL";jp.push(this);lp()};function mp(a,b){Io.call(this,b);this.g=a;this.o=this.g.g.pru;this.j=this.g.g.ifrid;np()}B(mp,Io);var op=[],pp=0;function np(){pp||(pp=window.setTimeout(function(){qp()},1E3))}function qp(a){var b=A();for(a=a||3E3;op.length&&b-op[0].timestamp>=a;){var c=op.shift().Qk;Rc(c)}pp=window.setTimeout(rp,1E3)}function rp(){qp()}m=mp.prototype;m.pc=3;m.connect=function(){Jo(this).xpcRelay||(Jo(this).xpcRelay=sp);this.send("tp","SETUP")};
function sp(a,b){var c=b.indexOf(":");Fo[a].jb(b.substr(0,c),decodeURIComponent(b.substr(c+1)))}m.fe=function(a){"SETUP"==a?(this.send("tp","SETUP_ACK"),So(this.g)):"SETUP_ACK"==a&&So(this.g)};m.send=function(a,b){var c=encodeURIComponent(b),d;d=Jo(this).document.createElement("IFRAME");op.push({timestamp:A(),Qk:d});var e=d.style;e.visibility="hidden";e.width=d.style.height="0px";e.position="absolute";e=this.o;e+="#"+this.g.name;this.j&&(e+=","+this.j);e=e+("|"+a)+(":"+c);d.src=e;Jo(this).document.body.appendChild(d)};
m.F=function(){mp.G.F.call(this);qp(0)};function tp(a,b,c,d,e){Io.call(this,c);this.A=a;this.B=e||2;this.O=b||"*";this.H=new X(this);this.C=new Wh(100,Jo(this));this.I=!!d;this.o=new U;this.v=new U;this.j=new U;this.M=Go(10);this.D=null;this.I?1==Mo(this.A)?tg(this.j,this.o):tg(this.j,this.v):(tg(this.j,this.o),2==this.B&&tg(this.j,this.v));this.j.T(this.qj,this);this.j.K(!0);this.H.L(this.C,"tick",this.Ng)}B(tp,Io);tp.prototype.g=null;tp.prototype.J=!1;tp.prototype.pc=1;var up={};m=tp.prototype;m.sd=0;
function vp(a){var b=a.g.data;if(!y(b))return!1;var c=b.indexOf("|"),d=b.indexOf(":");if(-1==c||-1==d)return!1;var e=b.substring(0,c),c=b.substring(c+1,d),b=b.substring(d+1);if(d=Fo[e])return d.jb(c,b,a.g.origin),!0;a=wp(b)[0];for(var f in Fo)if(d=Fo[f],1==Mo(d)&&!d.Na()&&"tp"==c&&("SETUP"==a||"SETUP_NTPV2"==a))return Lo(d,e),d.jb(c,b),!0;return!1}
m.fe=function(a){var b=wp(a);a=b[1];switch(b[0]){case "SETUP_ACK":xp(this,1);this.o.g||this.o.K(!0);break;case "SETUP_ACK_NTPV2":2==this.B&&(xp(this,2),this.o.g||this.o.K(!0));break;case "SETUP":xp(this,1);yp(this,1);break;case "SETUP_NTPV2":2==this.B&&(b=this.g,xp(this,2),yp(this,2),1!=b&&null==this.D||this.D==a||zp(this),this.D=a)}};function zp(a){if(2==a.B&&(null==a.g||2==a.g)){var b;b="SETUP_NTPV2,"+a.M;a.send("tp",b)}null!=a.g&&1!=a.g||a.send("tp","SETUP")}
function yp(a,b){if(2!=a.B||null!=a.g&&2!=a.g||2!=b){if(null!=a.g&&1!=a.g||1!=b)return;a.send("tp","SETUP_ACK")}else a.send("tp","SETUP_ACK_NTPV2");a.v.g||a.v.K(!0)}function xp(a,b){b>a.g&&(a.g=b);1==a.g&&(a.v.g||a.I||a.v.K(!0),a.D=null)}m.connect=function(){var a=Jo(this),b=oa(a),c=up[b];la(c)||(c=0);0==c&&se(a.postMessage?a:a.document,"message",vp,!1,tp);up[b]=c+1;this.J=!0;this.Ng()};m.Ng=function(){var a=0==Mo(this.A);this.I&&a||this.A.Na()||this.isDisposed()?Xh(this.C):(Yh(this.C),zp(this))};
m.send=function(a,b){var c=this.A.Ua;c&&(this.send=function(a,b){var f=this,h=this.A.name;this.sd=Zh(function(){f.sd=0;try{var k=c.postMessage?c:c.document;k.postMessage&&k.postMessage(h+"|"+a+":"+b,f.O)}catch(n){}},0)},this.send(a,b))};m.qj=function(){So(this.A,1==this.B||1==this.g?200:void 0)};
m.F=function(){if(this.J){var a=Jo(this),b=oa(a),c=up[b];up[b]=c-1;1==c&&Ae(a.postMessage?a:a.document,"message",vp,!1,tp)}this.sd&&($h(this.sd),this.sd=0);L(this.H);delete this.H;L(this.C);delete this.C;this.o.cancel();delete this.o;this.v.cancel();delete this.v;this.j.cancel();delete this.j;delete this.send;tp.G.F.call(this)};function wp(a){a=a.split(",");a[1]=a[1]||null;return a};function Ap(a,b){Io.call(this,b);this.g=a;this.j=a.at||"";this.o=a.rat||"";var c=Jo(this);if(!c.nix_setup_complete)try{c.execScript("Class GCXPC____NIXVBS_wrapper\n Private m_Transport\nPrivate m_Auth\nPublic Sub SetTransport(transport)\nIf isEmpty(m_Transport) Then\nSet m_Transport = transport\nEnd If\nEnd Sub\nPublic Sub SetAuth(auth)\nIf isEmpty(m_Auth) Then\nm_Auth = auth\nEnd If\nEnd Sub\nPublic Function GetAuthToken()\n GetAuthToken = m_Auth\nEnd Function\nPublic Sub SendMessage(service, payload)\n Call m_Transport.GCXPC____NIXJS_handle_message(service, payload)\nEnd Sub\nPublic Sub CreateChannel(channel)\n Call m_Transport.GCXPC____NIXJS_create_channel(channel)\nEnd Sub\nPublic Sub GCXPC____NIXVBS_container()\n End Sub\nEnd Class\n Function GCXPC____NIXVBS_get_wrapper(transport, auth)\nDim wrap\nSet wrap = New GCXPC____NIXVBS_wrapper\nwrap.SetTransport transport\nwrap.SetAuth auth\nSet GCXPC____NIXVBS_get_wrapper = wrap\nEnd Function",
"vbscript"),c.nix_setup_complete=!0}catch(d){}this.GCXPC____NIXJS_handle_message=this.rj;this.GCXPC____NIXJS_create_channel=this.Fi}B(Ap,Io);m=Ap.prototype;m.pc=6;m.Lc=!1;m.hc=null;m.connect=function(){0==Mo(this.g)?this.Of():this.Nf()};m.Of=function(){if(!this.Lc){var a=this.g.Jc;try{a.contentWindow.opener=(0,Jo(this).GCXPC____NIXVBS_get_wrapper)(this,this.j),this.Lc=!0}catch(b){}this.Lc||Jo(this).setTimeout(z(this.Of,this),100)}};
m.Nf=function(){if(!this.Lc){try{var a=Jo(this).opener;if(a&&"GCXPC____NIXVBS_container"in a){this.hc=a;if(this.hc.GetAuthToken()!=this.o)return;this.hc.CreateChannel((0,Jo(this).GCXPC____NIXVBS_get_wrapper)(this,this.j));this.Lc=!0;So(this.g)}}catch(b){return}this.Lc||Jo(this).setTimeout(z(this.Nf,this),100)}};m.Fi=function(a){this.hc=a;this.hc.GetAuthToken()!=this.o||So(this.g)};m.rj=function(a,b){Jo(this).setTimeout(z(function(){this.g.jb(a,b)},this),1)};
m.send=function(a,b){this.hc.SendMessage(a,b)};m.F=function(){Ap.G.F.call(this);this.hc=null};function Bp(a,b){Bo.call(this);for(var c=0,d;d=Eo[c];c++)if(d in a&&!/^https?:\/\//.test(a[d]))throw Error("URI "+a[d]+" is invalid for field "+d);this.g=a;this.name=this.g.cn||Go(10);this.o=b||Ic();this.v=[];this.A=new X(this);a.lpu=a.lpu||Nd(Oc(this.o.g).location.href)+"/robots.txt";a.ppu=a.ppu||Nd(a.pu||"")+"/robots.txt";Fo[this.name]=this;Ce(window,"unload",Cp)||ze(window,"unload",Cp)}B(Bp,Bo);var Dp=/^%*tp$/,Ep=/^%+tp$/;m=Bp.prototype;m.Gb=null;m.qb=null;m.Ma=null;m.Gc=1;
m.Na=function(){return 2==this.Gc};m.Ua=null;m.Jc=null;function $o(a){try{return!!a.Ua&&!Boolean(a.Ua.closed)}catch(b){return!1}}function Fp(a,b){var c=a.g.ifrid;c||(c=a.g.ifrid="xpcpeer"+Go(4));var d=Ic(b).createElement("IFRAME");d.id=d.name=c;d.style.width=d.style.height="100%";Gp(a);a.qb=new U(void 0,a);var e=Hp(a);Yi(a.A,d,"load",a.qb.K,!1,a.qb);window.setTimeout(z(function(){b.appendChild(d);d.src=e.toString()},a),1)}function Gp(a){a.qb&&(a.qb.cancel(),a.qb=null);a.v.length=0;Zi(a.A)}
function Hp(a){var b=a.g.pu;y(b)&&(b=a.g.pu=new dj(b));var c={};c.cn=a.name;c.tp=a.g.tp;c.osh=a.g.osh;a.g.lru&&(c.pru=a.g.lru);a.g.lpu&&(c.ppu=a.g.lpu);a.g.ppu&&(c.lpu=a.g.ppu);(a=a.g.role)&&(c.role=1==a?0:1);rj(b,"xpc",tb(c));return b}m.connect=function(a){this.B=a||w;3==this.Gc&&(this.Gc=1);this.qb?this.qb.T(this.Yf):this.Yf()};
m.Yf=function(){this.qb=null;this.g.ifrid&&(this.Jc=this.o.S(this.g.ifrid));if(this.Jc){var a=this.Jc.contentWindow;a||(a=window.frames[this.g.ifrid]);this.Ua=a}if(!this.Ua){if(window==window.top)throw Error("CrossPageChannel: Can't connect, peer window-object not set.");this.Ua=window.parent}if(!this.Ma){this.g.tp||(this.g.tp=ma(document.postMessage)||ma(window.postMessage)?1:4);switch(this.g.tp){case 1:this.Ma=new tp(this,this.g.ph,this.o,!!this.g.osh,this.g.nativeProtocolVersion||2);break;case 6:this.Ma=
new Ap(this,this.o);break;case 2:this.Ma=new To(this,this.o);break;case 3:this.Ma=new mp(this,this.o);break;case 4:this.Ma=new Uo(this,this.o);break;case 7:if(a=this.Ua)try{a=window.document.domain==this.Ua.document.domain}catch(b){a=!1}a&&(this.Ma=new Ko(this,this.o))}if(this.Ma)this.Ma.getName();else throw Error("CrossPageChannel: No suitable transport found!");}for(this.Ma.connect();0<this.v.length;)this.v.shift()()};
m.close=function(){Gp(this);this.Gc=3;L(this.Ma);this.B=this.Ma=null;L(this.Gb);this.Gb=null};function So(a,b){a.Na()||a.Gb&&0!=a.Gb.g||(a.Gc=2,L(a.Gb),t(b)?(a.Gb=new Lk(a.B,b),Nk(a.Gb)):(a.Gb=null,a.B()))}m.send=function(a,b){this.Na()&&($o(this)?(na(b)&&(b=tb(b)),this.Ma.send(Ip(a),b)):this.close())};
m.jb=function(a,b,c){if(this.qb)this.v.push(z(this.jb,this,a,b,c));else{var d=this.g.ph;!Aa(Ra(c))&&!Aa(Ra(d))&&c!=this.g.ph||this.isDisposed()||3==this.Gc||(a&&"tp"!=a?this.Na()&&(a=a.replace(/%[0-9a-f]{2}/gi,decodeURIComponent),a=Ep.test(a)?a.substring(1):a,Co(this,a,b)):this.Ma.fe(b))}};function Ip(a){Dp.test(a)&&(a="%"+a);return a.replace(/[%:|]/g,encodeURIComponent)}function Mo(a){var b=a.g.role;return la(b)?b:window.parent==a.Ua?1:0}function Lo(a,b){delete Fo[a.name];a.name=b;Fo[b]=a}
m.F=function(){this.close();this.Jc=this.Ua=null;delete Fo[this.name];L(this.A);delete this.A;Bp.G.F.call(this)};function Cp(){for(var a in Fo)L(Fo[a])};function Jp(a){Q.call(this);this.j=a;this.o=new X(this);K(this,this.o);this.o.L(this.j,"u",this.v);this.j.Qc(this);this.g={};this.g.sync="sr";this.g.uc="uc"}B(Jp,Dh);Jp.prototype.v=function(a){var b=Kd(a.cb.p,"u");b&&(b.unshift("u"),R(this,new Eh("u",$b(b))));a.stopPropagation()};Jp.prototype.send=function(a,b,c,d,e){var f,h=this.g;c&&(f=function(b){var d=h[a];d&&(b=Kd(b,d),b.unshift(d),c($b(b)))});this.j.send(a,b.ca,f,d,e)};function Kp(a,b,c){Bo.call(this);c&&(this.o=c.o.g(this.o));this.g=a;K(this,this.g);this.g.qd(z(this.o,this));this.v=b}B(Kp,Bo);Kp.prototype.send=function(a,b){na(b)&&(b=tb(b));this.g.send(a,{t:this.v,p:b})};Kp.prototype.o=function(a,b){Co(this,a,b)};Kp.prototype.wd=function(a,b,c){b=Kp.G.wd.call(this,a,b,!0);if(!b)return null;var d=b.t;return d&&d==this.v?Kp.G.wd.call(this,a,b.p,c):null};function Lp(){Q.call(this)}B(Lp,Q);function Mp(a,b,c,d){Q.call(this);this.o=a;this.A=c||[];this.j=new X(this);K(this,this.j);this.j.L(this.o.pa(),"H",this.C);d&&(this.g=d,this.g.Ad("9",this.v,this));this.D=0;this.B=b}B(Mp,Lp);Mp.prototype.v=function(a){a&&R(this,new Eh("u",a))};Mp.prototype.C=function(a){1!=a.A.g&&1==a.o.g?R(this,new Eh("r")):3<=a.o.g&&R(this,new Eh("e"))};Mp.prototype.send=function(a,b,c,d,e){b=["p",tb(b)];Np(this,b,"/docos/p/"+a,c,d,e)};
function Np(a,b,c,d,e,f){b=Sd(b.concat("reqid",a.D++));c=ll(po(a.o,c).o(a.A),b);a.B&&kl(c);f?ol(c,1):ol(c,3);d&&pl(c,function(a){d(a.Ra())});e&&nl(c,e);ql(c)}Mp.prototype.F=function(){this.g&&this.g.Fe("9",this.v,this);delete this.j;Mp.G.F.call(this)};function Op(a,b){this.seq=Pp++;this.type=a;this.payload=b||null;this.rseq=0}var Pp=1;function Qp(a){Q.call(this);this.g=a;this.g.Yb("recv",z(this.v,this),!0);this.g.Yb("recvEvt",z(this.o,this),!0);this.j={}}B(Qp,Lp);Qp.prototype.v=function(a){var b=this.j[a.rseq];b&&(b(a.payload),delete this.j[a.rseq])};Qp.prototype.o=function(a){R(this,new Eh(a.type,a.payload))};Qp.prototype.send=function(a,b,c){a=new Op(a,b);c&&(this.j[a.seq]=c);this.g.send("send",a)};Qp.prototype.F=function(){Qp.G.F.call(this);delete this.g};function Rp(a){J.call(this);this.o=a}B(Rp,J);Rp.prototype.g=null;Rp.prototype.j=null;
function Sp(a){if(a.g)return a.g;var b=Jg(a.o),c=b.Be;if(t(c))return c&&(a.g=new Jp(c),K(a,a.g)),a.g;if(b.jg){var d=Pi(),c=new oo(new Wm,void 0,void 0,void 0,new Xm,void 0,void 0,new wo(d)),e=b.kg;e&&(c.j.o=e);var f=b.Uh;f&&Tn(c.j,"token",f);b.Bg&&Tn(c.j,"anon","true");(f=b.fh)&&Tn(c.j,"invite",f);f=null;if(b.hg){var f=new Tk,h=b.Ce.getId();f.Cf=h;var h=c.o,k=f;h.g=k;var n=z(h.A,h);k.N=n;null!=k.j&&k.N(k.j);k.Ad("tfe_changed",h.j.v,h.j);h.v();Wk(f,b.aa(),d,e)}b=new Mp(c,!0,["id",b.aa()],f);K(b,c);
K(b,f);a.g=new Jp(b);K(a,a.g);K(a,b);return a.g}c=b.uh;if(!c)throw Error("Peer missing.");b={};f=new dj(window.location.href);(d=f.j.get("docos-tp"))&&(b.tp=parseInt(d,10));if("/"==c.charAt(0)){c=new dj(c);d=f.clone();(e=!!c.v)?ej(d,c.v):e=!!c.N;e?d.N=c.N:e=!!c.o;e?fj(d,c.o):e=null!=c.C;h=c.g;if(e)gj(d,c.C);else if(e=!!c.g)if("/"!=h.charAt(0)&&(f.o&&!f.g?h="/"+h:(f=d.g.lastIndexOf("/"),-1!=f&&(h=d.g.substr(0,f+1)+h))),".."==h||"."==h)h="";else if(-1!=h.indexOf("./")||-1!=h.indexOf("/.")){f=0==h.lastIndexOf("/",
0);h=h.split("/");k=[];for(n=0;n<h.length;){var p=h[n++];"."==p?f&&n==h.length&&k.push(""):".."==p?((1<k.length||1==k.length&&""!=k[0])&&k.pop(),f&&n==h.length&&k.push("")):(k.push(p),f=!0)}h=k.join("/")}e?d.g=h:e=""!==c.j.toString();e?hj(d,ij(c.j.toString())):e=!!c.A;e&&(d.A=c.A);c=d.toString()}d=Pi();c=rj(new dj(c),"ctoken",d).toString();b.pu=c;a.j=document.createElement("div");a.j.style.display="none";document.body.appendChild(a.j);b=new Bp(b);Fp(b,a.j);b.connect();b=new Ao(b);c=Bg(a.o,"errorReporter");
b=new Kp(b,d,c);c=new Qp(b);a.g=new Jp(c);K(a,a.g);K(a,c);K(a,b);return a.g}Rp.prototype.F=function(){delete this.g;this.j&&(document.body.removeChild(this.j),this.j=null);Rp.G.F.call(this)};function Tp(a){Q.call(this);this.g=a;this.o=new X(this);K(this,this.o);this.j=a.get("netIo");this.A=!0;this.v=new gc(this);K(this,this.v);id();this.o.L(this.j,"r",this.vl).L(this.j,"u",this.Cl).L(this.j,"e",this.ol);this.o.L(W(a),["cd","dd"],this.Qi);hc(this.v,jd.tm,this.rl)}B(Tp,Q);m=Tp.prototype;m.Af=null;m.nc=null;m.yf=null;m.Wa=function(a){if(this.nc)return this.nc;this.nc=new U;this.Lh(a);return this.nc};function Up(a,b,c){b?a.nc.R(null):a.nc.K(t(c)?c:null);a.nc=null}
m.Lh=function(a){for(var b=W(this.g),c=Ni(b),d=[],e=0;e<c.length;e++){d.push(Yb(c[e].g));var f=c[e].getId();gb(b.v,f)}b=new Gd;Sb(b,1,d);this.yf&&G(b,2,this.yf);this.j.send("sync",b,z(this.ml,this),z(this.ll,this),!!a)};m.ll=function(){this.D=!1;Up(this,!0)};m.ol=function(){R(this,"net-error")};m.ml=function(a){var b=this.A;this.A=!1;var c;b&&(c=A());var d=W(this.g);try{Vp(this,a,b),this.yf=F(a,2),Oi(d)?Zh(z(this.Lh,this)):Up(this,!1,b?A()-c:void 0)}catch(e){throw Zh(function(){throw e;}),e;}};
function Vp(a,b,c){a=W(a.g);var d=Jb(a.g);Mb(d,a.o);for(var e=!1,f=Rb(b,vd,1),h=0;h<f.length;h++){var e=!0,k;k=Rb(b,vd,1)[h];k=Yb(k);var n=wd(k),p=Ii(a,n.getId(),ud(n));if(p){delete d[p.getId()];var r=p.getId();if(eb(a.v,r))continue;G(k,9,!1);G(n,12,!1);t(F(n,13))||G(n,13,0);for(var p=Jb(p.o),r=td(wd(k)),u=0;u<r.length;u++){var D=td(n)[u];G(D,12,!1);t(F(D,13))||G(D,13,0);delete p[D.getId()||""];delete p[ud(D)||""]}var r=[],O;for(O in p)r.push(Wp(Yb(p[O].g)));p=td(n);Sb(n,8,hb(p,r))}Bh(a,new sh(k),
"n")}b=Ni(a);for(h=0;h<b.length;h++)f=b[h],f.Oa()&&!t(f.j.g.getId())&&(k=Yb(f.g),n=wd(k),G(k,9,!1),G(n,12,!1),n=f.getId(),gb(a.v,n),Bh(a,new sh(k),"n"));if(c)for(O in d)p=d[O],p.B||!t(p.j.g.getId())&&!p.Oa()||(e=!0,c=Yb(p.g),wd(c),h=wd(c),Sb(h,8,[]),k=A(),G(h,13,k),G(h,12,!1),G(c,9,!1),Bh(a,new sh(c),"n"));e&&Ch(a)}function Wp(a){var b=A();G(a,13,b);G(a,12,!1);return a}m.vl=function(){var a=12E4*Math.random();null===this.Af||$h(this.Af);this.Af=Zh(function(){this.Wa()},a,this)};
m.Cl=function(a){if(a.cb){var b=a.cb;a=W(this.g);for(var c=0,b=Rb(b,vd,1),d=0;d<b.length;d++){var e=Yb(b[d]),f=wd(e),f=Ii(a,f.getId(),ud(f));f&&f.Ab()||(Bh(a,new sh(e),"n"),c++)}0<c&&Ch(W(this.g))}};m.Qi=function(a){"n"!=a.source&&Hi(W(this.g))&&this.Wa()};m.rl=function(a){a=a.data.g();var b=Jg(this.g),c=new yd;c.rb(a.j);G(c,3,a.g);G(c,4,a.o);G(c,5,a.v);G(c,6,a.A);H(b.g,7,c);b=new yd;b.rb(a.j);G(b,3,a.g);G(b,4,a.o);G(b,5,a.v);G(b,6,a.A);a=new zd;H(a,1,b);this.j.send("uc",a)};
m.F=function(){Tp.G.F.call(this);delete this.g;delete this.o;delete this.v};function Xp(a,b,c){this.key=a;this.data=b;this.g=c;this.key=this.key;this.data=this.data;this.dirty=this.g}v("docos.api.StorageUpdate",Xp,void 0);function Yp(a,b){if(a){b||a.unshift(void 0);Zp(a[2],b);var c=a[5];c&&(b||c.unshift(void 0),$p(c[2],b),Yp(c[3],b),b&&c.shift());b&&a.shift()}}function $p(a,b){a&&(b?a.shift():a.unshift(void 0))}
function Zp(a,b){if(a){b||a.unshift(void 0);$p(a[3],b);$p(a[4],b);var c=a[5];c&&(b?c.shift():c.unshift(void 0));if(c=a[14]){b||c.unshift(void 0);var d=c[3];d&&(b?d.shift():d.unshift(void 0));(d=c[7])&&(b?d.shift():d.unshift(void 0));b&&c.shift()}if(a[8])for(c=0;c<a[8].length;c++)Zp(a[8][c],b);(c=a[9])&&(b?c.shift():c.unshift(void 0));b&&a.shift()}};function aq(a){J.call(this);this.g=a;this.j=Jg(a).A;this.v=[];this.o=[];Jg(a).J||(this.A=new X(this),K(this,this.A),this.A.L(W(a),["f","cd","dd"],this.Ri))}B(aq,J);m=aq.prototype;
m.Ri=function(a){if("o"!=a.source&&this.j)if("f"==a.type){if(this.v.length||this.o.length){var b=ib(this.v),c=ib(this.o);this.j.D(b,c,z(this.Si,this,b),z(this.Pk,this,c));this.v=[];this.o=[]}}else if(b=a.wb,c=a.o,b)if((a="cd"==a.type?Ah(W(this.g),b):W(this.g).o[b])&&a.Oa()&&!t(a.j.g.getId()))this.o.push(b);else if(a&&!a.B){var d=Yb(a.g),d=Kb(d.ca);Yp(d,!1);a=new Xp(b,d,a.Ab());this.v.push(a);c&&c!=b&&this.o.push(c)}};m.Si=function(a){for(var b=0;b<a.length;b++);};
m.Pk=function(a,b,c){for(var d="",e=0;e<a.length;e++)d+="Put failure for docoId: "+a[e]+".\n";b&&(d+="Error message: "+b);bq(this,d,c)};function cq(a,b,c){a.j?a.j.v(z(a.bk,a,b),z(a.ak,a,c)):c()}m.bk=function(a,b){if(0<b.length){for(var c=W(this.g),d=0;d<b.length;d++){x(b[d]);var e=Kb(b[d]);Yp(e,!0);e=new vd(e);Bh(c,new sh(e),"o")}Ch(c)}a()};m.ak=function(a,b,c){var d="#inSync failure";b&&(d+=", message: "+b);bq(this,d,c);a()};
function bq(a,b,c){if(a=Bg(a.g,"errorReporter"))c&&t(c.message)?(c.message=b+"  Original message: "+c.message,a.g(c)):a.g(Error(b))}m.F=function(){aq.G.F.call(this);delete this.g;delete this.A;delete this.j};function dq(a){if(a.classList)return a.classList;a=a.className;return y(a)&&a.match(/\S+/g)||[]}function eq(a,b){return a.classList?a.classList.contains(b):eb(dq(a),b)}function fq(a,b){a.classList?a.classList.add(b):eq(a,b)||(a.className+=0<a.className.length?" "+b:b)}function gq(a,b){if(a.classList)Za(b,function(b){fq(a,b)});else{var c={};Za(dq(a),function(a){c[a]=!0});Za(b,function(a){c[a]=!0});a.className="";for(var d in c)a.className+=0<a.className.length?" "+d:d}}
function hq(a,b){a.classList?a.classList.remove(b):eq(a,b)&&(a.className=ab(dq(a),function(a){return a!=b}).join(" "))}function iq(a,b){a.classList?Za(b,function(b){hq(a,b)}):a.className=ab(dq(a),function(a){return!eb(b,a)}).join(" ")};function jq(){}ga(jq);jq.prototype.g=0;function kq(a){Q.call(this);this.j=a||Ic();this.U=lq;this.J=null;this.sa=!1;this.o=null;this.C=void 0;this.I=this.v=this.B=this.X=null}B(kq,Q);kq.prototype.ha=jq.ba();var lq=null;function mq(a,b){switch(a){case 1:return b?"disable":"enable";case 2:return b?"highlight":"unhighlight";case 4:return b?"activate":"deactivate";case 8:return b?"select":"unselect";case 16:return b?"check":"uncheck";case 32:return b?"focus":"blur";case 64:return b?"open":"close"}throw Error("Invalid component state");}m=kq.prototype;
m.getId=function(){return this.J||(this.J=":"+(this.ha.g++).toString(36))};m.S=g("o");function nq(a){a.C||(a.C=new X(a));return a.C}function oq(a,b){if(a==b)throw Error("Unable to set parent component");if(b&&a.B&&a.J&&pq(a.B,a.J)&&a.B!=b)throw Error("Unable to set parent component");a.B=b;kq.G.Qc.call(a,b)}m.fd=g("B");m.Qc=function(a){if(this.B&&this.B!=a)throw Error("Method not supported");kq.G.Qc.call(this,a)};m.Te=function(){this.o=this.j.createElement("DIV")};
m.render=function(a){if(this.sa)throw Error("Component already rendered");this.o||this.Te();a?a.insertBefore(this.o,null):this.j.g.body.appendChild(this.o);this.B&&!this.B.sa||this.Ya()};m.Ya=function(){this.sa=!0;qq(this,function(a){!a.sa&&a.S()&&a.Ya()})};m.nb=function(){qq(this,function(a){a.sa&&a.nb()});this.C&&Zi(this.C);this.sa=!1};m.F=function(){this.sa&&this.nb();this.C&&(this.C.W(),delete this.C);qq(this,function(a){a.W()});this.o&&Rc(this.o);this.B=this.X=this.o=this.I=this.v=null;kq.G.F.call(this)};
function rq(a){null==a.U&&(a.U=Ve(a.sa?a.o:a.j.g.body));return a.U}function pq(a,b){var c;a.I&&b?(c=a.I,c=(null!==c&&b in c?c[b]:void 0)||null):c=null;return c}function sq(a,b){return a.v?a.v[b]||null:null}function qq(a,b,c){a.v&&Za(a.v,b,c)}function tq(a,b){return a.v&&b?Ya(a.v,b):-1}
m.removeChild=function(a,b){if(a){var c=y(a)?a:a.getId();a=pq(this,c);if(c&&a){var d=this.I;c in d&&delete d[c];gb(this.v,a);b&&(a.nb(),a.o&&Rc(a.o));oq(a,null)}}if(!a)throw Error("Child is not in parent component");return a};var uq;function vq(a,b){b?a.setAttribute("role",b):a.removeAttribute("role")}function wq(a,b,c){x(c)&&(c=c.join(" "));var d="aria-"+b;""===c||void 0==c?(uq||(uq={atomic:!1,autocomplete:"none",dropeffect:"none",haspopup:!1,live:"off",multiline:!1,multiselectable:!1,orientation:"vertical",readonly:!1,relevant:"additions text",required:!1,sort:"none",busy:!1,disabled:!1,hidden:!1,invalid:"false"}),c=uq,b in c?a.setAttribute(d,c[b]):a.removeAttribute(d)):a.setAttribute(d,c)}
function xq(a,b){var c="";b&&(c=b.id);wq(a,"activedescendant",c)};function yq(a,b,c,d,e){if(!Hc("525"))return!0;if(Cc&&e)return zq(a);if(e&&!d)return!1;la(b)&&(b=Aq(b));if(!c&&(17==b||18==b||Cc&&91==b))return!1;if(d&&c)switch(a){case 220:case 219:case 221:case 192:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:return!1}switch(a){case 13:return!0;case 27:return!1}return zq(a)}
function zq(a){if(48<=a&&57>=a||96<=a&&106>=a||65<=a&&90>=a||0==a)return!0;switch(a){case 32:case 43:case 63:case 64:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:return!0;default:return!1}}function Aq(a){if(Cc)a:switch(a){case 93:a=91;break a}return a};function Bq(){throw Error("Do not instantiate directly");}Bq.prototype.g=null;Bq.prototype.Da=g("content");Bq.prototype.toString=g("content");function Cq(a,b){Q.call(this);a&&Dq(this,a,b)}B(Cq,Q);m=Cq.prototype;m.Ec=null;m.Td=null;m.jf=null;m.Ud=null;m.Ta=-1;m.Kc=-1;m.ke=!1;
var Eq={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},Fq={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},Gq=Hc("525"),Hq=Cc&&!1;m=Cq.prototype;
m.nj=function(a){if(17==this.Ta&&!a.ctrlKey||18==this.Ta&&!a.altKey||Cc&&91==this.Ta&&!a.metaKey)this.Kc=this.Ta=-1;-1==this.Ta&&(a.ctrlKey&&17!=a.keyCode?this.Ta=17:a.altKey&&18!=a.keyCode?this.Ta=18:a.metaKey&&91!=a.keyCode&&(this.Ta=91));Gq&&!yq(a.keyCode,this.Ta,a.shiftKey,a.ctrlKey,a.altKey)?this.handleEvent(a):(this.Kc=Aq(a.keyCode),Hq&&(this.ke=a.altKey))};m.dk=function(a){this.Kc=this.Ta=-1;this.ke=a.altKey};
m.handleEvent=function(a){var b=a.g,c,d,e=b.altKey;"keypress"==a.type?c=this.Kc:(c=b.keyCode||this.Kc,d=b.charCode||0,Hq&&(e=this.ke),Cc&&63==d&&224==c&&(c=191));d=c=Aq(c);var f=b.keyIdentifier;c?63232<=c&&c in Eq?d=Eq[c]:25==c&&a.shiftKey&&(d=9):f&&f in Fq&&(d=Fq[f]);a=d==this.Ta;this.Ta=d;b=new Iq(d,0,a,b);b.altKey=e;R(this,b)};m.S=g("Ec");function Dq(a,b,c){a.Ud&&Jq(a);a.Ec=b;a.Td=se(a.Ec,"keypress",a,c);a.jf=se(a.Ec,"keydown",a.nj,c,a);a.Ud=se(a.Ec,"keyup",a.dk,c,a)}
function Jq(a){a.Td&&(Be(a.Td),Be(a.jf),Be(a.Ud),a.Td=null,a.jf=null,a.Ud=null);a.Ec=null;a.Ta=-1;a.Kc=-1}m.F=function(){Cq.G.F.call(this);Jq(this)};function Iq(a,b,c,d){ee.call(this,d);this.type="key";this.keyCode=a;this.repeat=c}B(Iq,ee);function Kq(){}var Lq;ga(Kq);var Mq={button:"pressed",checkbox:"checked",menuitem:"selected",menuitemcheckbox:"checked",menuitemradio:"checked",radio:"checked",tab:"selected",treeitem:"selected"};m=Kq.prototype;m.Hc=ba();m.zb=function(a){return a.j.Ga("DIV",Nq(this,a).join(" "),a.Da())};m.bc=aa();m.Rg=function(a){rq(a)&&this.Ug(a.S(),!0);a.isEnabled()&&this.hd(a,a.ta())};function Oq(a,b,c){if(a=c||a.Hc())c=b.getAttribute("role")||null,a!=c&&vq(b,a)}
function Pq(a,b,c){b.ta()||wq(c,"hidden",!b.ta());b.isEnabled()||a.Eb(c,1,!b.isEnabled());b.ka&8&&a.Eb(c,8,Qq(b,8));b.ka&16&&a.Eb(c,16,Qq(b,16));b.ka&64&&a.Eb(c,64,Qq(b,64))}m.Tg=function(a,b){We(a,!b,!0)};m.Ug=function(a,b){var c=a.S?a.S():a;c&&(b?gq:iq)(c,[this.ea()+"-rtl"])};m.Sg=function(a){var b;return a.ka&32&&(b=a.S())?Vc(b)&&Wc(b):!1};
m.hd=function(a,b){var c;if(a.ka&32&&(c=a.S())){if(!b&&Qq(a,32)){try{c.blur()}catch(d){}Qq(a,32)&&a.Nd(null)}(Vc(c)&&Wc(c))!=b&&(b?c.tabIndex=0:(c.tabIndex=-1,c.removeAttribute("tabIndex")))}};m.eb=function(a,b){Ue(a,b);a&&wq(a,"hidden",!b)};m.Ve=function(a,b,c){var d=a.S();if(d){var e=this.Fd(b);e&&(a=a.S?a.S():a)&&(c?gq:iq)(a,[e]);this.Eb(d,b,c)}};
m.Eb=function(a,b,c){Lq||(Lq={1:"disabled",8:"selected",16:"checked",64:"expanded"});b=Lq[b];var d=a.getAttribute("role")||null;d&&(d=Mq[d]||b,b="checked"==b||"selected"==b?d:b);b&&wq(a,b,c)};m.ea=l("goog-control");function Nq(a,b){var c=a.ea(),d=[c],e=a.ea();e!=c&&d.push(e);c=b.cc;for(e=[];c;){var f=c&-c;e.push(a.Fd(f));c&=~f}d.push.apply(d,e);(c=b.yg)&&d.push.apply(d,c);return d}
m.Fd=function(a){if(!this.g){var b=this.ea();b.replace(/\xa0|\s/g," ");this.g={1:b+"-disabled",2:b+"-hover",4:b+"-active",8:b+"-selected",16:b+"-checked",32:b+"-focused",64:b+"-open"}}return this.g[a]};function Rq(){}B(Rq,Kq);ga(Rq);m=Rq.prototype;m.Hc=l("button");m.Eb=function(a,b,c){switch(b){case 8:case 16:wq(a,"pressed",c);break;default:case 64:case 1:Rq.G.Eb.call(this,a,b,c)}};m.zb=function(a){var b=Rq.G.zb.call(this,a);Sq(b,a.H);var c=a.Sa();c&&this.Og(b,c);a.ka&16&&this.Eb(b,16,Qq(a,16));return b};m.Sa=w;m.Og=w;function Sq(a,b){a&&(b?a.title=b:a.removeAttribute("title"))}m.ea=l("goog-button");function Tq(a,b){if(!a)throw Error("Invalid class name "+a);if(!ma(b))throw Error("Invalid decorator function "+b);}var Uq={};function Vq(a,b,c){kq.call(this,c);if(!b){b=this.constructor;for(var d;b;){d=oa(b);if(d=Uq[d])break;b=b.G?b.G.constructor:null}b=d?ma(d.ba)?d.ba():new d:null}this.A=b;this.We=t(a)?a:null}B(Vq,kq);m=Vq.prototype;m.We=null;m.cc=0;m.ka=39;m.le=255;m.Xe=!0;m.yg=null;m.md=!0;m.Te=function(){var a=this.A.zb(this);this.o=a;Oq(this.A,a,this.Md());this.A.Tg(a,!1);this.ta()||this.A.eb(a,!1)};m.Md=l(null);
m.Ya=function(){Vq.G.Ya.call(this);Pq(this.A,this,this.o);this.A.Rg(this);if(this.ka&-2&&(this.md&&Wq(this,!0),this.ka&32)){var a=this.S();if(a){var b=this.D||(this.D=new Cq);Dq(b,a);nq(this).L(b,"key",this.ob).L(a,"focus",this.wj).L(a,"blur",this.Nd)}}};
function Wq(a,b){var c=nq(a),d=a.S();b?(c.L(d,"mouseover",a.bf).L(d,"mousedown",a.jd).L(d,"mouseup",a.ec).L(d,"mouseout",a.af),a.ld!=w&&c.L(d,"contextmenu",a.ld)):(c.za(d,"mouseover",a.bf).za(d,"mousedown",a.jd).za(d,"mouseup",a.ec).za(d,"mouseout",a.af),a.ld!=w&&c.za(d,"contextmenu",a.ld))}m.nb=function(){Vq.G.nb.call(this);this.D&&Jq(this.D);this.ta()&&this.isEnabled()&&this.A.hd(this,!1)};m.F=function(){Vq.G.F.call(this);this.D&&(this.D.W(),delete this.D);delete this.A;this.yg=this.We=null};
m.Da=g("We");m.Ed=function(){var a=this.Da();if(!a)return"";if(!y(a))if(x(a))a=bb(a,Xc).join("");else{var b=[];Yc(a,b,!0);a=b.join("");a=a.replace(/ \xAD /g," ").replace(/\xAD/g,"");a=a.replace(/\u200B/g,"");a=a.replace(/ +/g," ");" "!=a&&(a=a.replace(/^\s*/,""))}return Ba(a)};m.ta=g("Xe");m.eb=function(a,b){if(b||this.Xe!=a&&R(this,a?"show":"hide")){var c=this.S();c&&this.A.eb(c,a);this.isEnabled()&&this.A.hd(this,a);this.Xe=a;return!0}return!1};m.isEnabled=function(){return!Qq(this,1)};
m.rb=function(a){var b=this.fd();b&&"function"==typeof b.isEnabled&&!b.isEnabled()||!Xq(this,1,!a)||(a||(Yq(this,!1),Zq(this,!1)),this.ta()&&this.A.hd(this,a),$q(this,1,!a,!0))};function Zq(a,b){Xq(a,2,b)&&$q(a,2,b)}function Yq(a,b){Xq(a,4,b)&&$q(a,4,b)}m.va=function(a){Xq(this,64,a)&&$q(this,64,a)};function Qq(a,b){return!!(a.cc&b)}function $q(a,b,c,d){d||1!=b?a.ka&b&&c!=Qq(a,b)&&(a.A.Ve(a,b,c),a.cc=c?a.cc|b:a.cc&~b):a.rb(!c)}
m.Va=function(a,b){if(this.sa&&Qq(this,a)&&!b)throw Error("Component already rendered");!b&&Qq(this,a)&&$q(this,a,!1);this.ka=b?this.ka|a:this.ka&~a};function ar(a,b){return!!(a.le&b)&&!!(a.ka&b)}function Xq(a,b,c){return!!(a.ka&b)&&Qq(a,b)!=c&&(!(0&b)||R(a,mq(b,c)))&&!a.isDisposed()}m.bf=function(a){(!a.o||!Sc(this.S(),a.o))&&R(this,"enter")&&this.isEnabled()&&ar(this,2)&&Zq(this,!0)};m.af=function(a){a.o&&Sc(this.S(),a.o)||!R(this,"leave")||(ar(this,4)&&Yq(this,!1),ar(this,2)&&Zq(this,!1))};
m.ld=w;m.jd=function(a){this.isEnabled()&&(ar(this,2)&&Zq(this,!0),0!=a.g.button||Cc&&a.ctrlKey||(ar(this,4)&&Yq(this,!0),this.A&&this.A.Sg(this)&&this.S().focus()));0!=a.g.button||Cc&&a.ctrlKey||a.j()};m.ec=function(a){this.isEnabled()&&(ar(this,2)&&Zq(this,!0),Qq(this,4)&&this.Pc(a)&&ar(this,4)&&Yq(this,!1))};
m.Pc=function(a){if(ar(this,16)){var b=!Qq(this,16);Xq(this,16,b)&&$q(this,16,b)}ar(this,8)&&Xq(this,8,!0)&&$q(this,8,!0);ar(this,64)&&this.va(!Qq(this,64));b=new M("action",this);a&&(b.altKey=a.altKey,b.ctrlKey=a.ctrlKey,b.metaKey=a.metaKey,b.shiftKey=a.shiftKey,b.C=a.C);return R(this,b)};m.wj=function(){ar(this,32)&&Xq(this,32,!0)&&$q(this,32,!0)};m.Nd=function(){ar(this,4)&&Yq(this,!1);ar(this,32)&&Xq(this,32,!1)&&$q(this,32,!1)};
m.ob=function(a){return this.ta()&&this.isEnabled()&&this.Ic(a)?(a.j(),a.stopPropagation(),!0):!1};m.Ic=function(a){return 13==a.keyCode&&this.Pc(a)};if(!ma(Vq))throw Error("Invalid component class "+Vq);if(!ma(Kq))throw Error("Invalid renderer class "+Kq);var br=oa(Vq);Uq[br]=Kq;Tq("goog-control",function(){return new Vq(null)});function cr(){}B(cr,Rq);ga(cr);m=cr.prototype;m.Hc=ba();m.zb=function(a){a.sa&&0!=a.md&&Wq(a,!1);a.md=!1;a.le&=-256;a.Va(32,!1);return a.j.Ga("BUTTON",{"class":Nq(this,a).join(" "),disabled:!a.isEnabled(),title:a.H||"",value:a.Sa()||""},a.Ed()||"")};m.Rg=function(a){nq(a).L(a.S(),"click",a.Pc)};m.Tg=w;m.Ug=w;m.Sg=function(a){return a.isEnabled()};m.hd=w;m.Ve=function(a,b,c){cr.G.Ve.call(this,a,b,c);(a=a.S())&&1==b&&(a.disabled=c)};m.Sa=function(a){return a.value};m.Og=function(a,b){a&&(a.value=b)};
m.Eb=w;function dr(a,b,c){Vq.call(this,a,b||cr.ba(),c)}B(dr,Vq);dr.prototype.Sa=g("ga");dr.prototype.F=function(){dr.G.F.call(this);delete this.ga;delete this.H};dr.prototype.Ya=function(){dr.G.Ya.call(this);if(this.ka&32){var a=this.S();a&&nq(this).L(a,"keyup",this.Ic)}};dr.prototype.Ic=function(a){return 13==a.keyCode&&"key"==a.type||32==a.keyCode&&"keyup"==a.type?this.Pc(a):32==a.keyCode};Tq("goog-button",function(){return new dr(null)});function er(a,b,c,d,e,f,h,k,n){var p,r;if(p=c.offsetParent){var u="HTML"==p.tagName||"BODY"==p.tagName;u&&"static"==Le(p,"position")||(r=Pe(p),u||(u=Ve(p)&&"visible"!=Le(p,"overflowX")?p.scrollWidth-p.clientWidth-p.scrollLeft:p.scrollLeft,r=tc(r,new sc(u,p.scrollTop))))}p=r||new sc;r=Te(a);if(u=Oe(a)){var D=new Je(u.left,u.top,u.right-u.left,u.bottom-u.top),u=Math.max(r.left,D.left),O=Math.min(r.left+r.width,D.left+D.width);if(u<=O){var ka=Math.max(r.top,D.top),D=Math.min(r.top+r.height,D.top+D.height);
ka<=D&&(r.left=u,r.top=ka,r.width=O-u,r.height=D-ka)}}u=Ic(a);O=Ic(c);if(u.g!=O.g){var u=u.g.body,da;O=Oc(O.g);ka=new sc(0,0);D=(D=Kc(u))?Oc(D):window;b:{try{de(D.parent);da=!0;break b}catch(Mg){}da=!1}if(da){da=u;do{var N;D==O?N=Pe(da):(N=Me(da),N=new sc(N.left,N.top));ka.x+=N.x;ka.y+=N.y}while(D&&D!=O&&D!=D.parent&&(da=D.frameElement)&&(D=D.parent))}da=tc(ka,Pe(u));r.left+=da.x;r.top+=da.y}a=fr(a,b);b=new sc(a&2?r.left+r.width:r.left,a&1?r.top+r.height:r.top);b=tc(b,p);e&&(b.x+=(a&2?-1:1)*e.x,b.y+=
(a&1?-1:1)*e.y);var P;if(h)if(n)P=n;else if(P=Oe(c))P.top-=p.y,P.right-=p.x,P.bottom-=p.y,P.left-=p.x;e=P;n=b.clone();P=fr(c,d);d=Re(c);a=k?k.clone():d.clone();k=n;n=a;k=k.clone();n=n.clone();a=0;if(f||0!=P)P&2?k.x-=n.width+(f?f.right:0):f&&(k.x+=f.left),P&1?k.y-=n.height+(f?f.bottom:0):f&&(k.y+=f.top);h&&(e?(f=k,P=n,a=0,65==(h&65)&&(f.x<e.left||f.x>=e.right)&&(h&=-2),132==(h&132)&&(f.y<e.top||f.y>=e.bottom)&&(h&=-5),f.x<e.left&&h&1&&(f.x=e.left,a|=1),h&16&&(b=f.x,f.x<e.left&&(f.x=e.left,a|=4),f.x+
P.width>e.right&&(P.width=Math.min(e.right-f.x,b+P.width-e.left),P.width=Math.max(P.width,0),a|=4)),f.x+P.width>e.right&&h&1&&(f.x=Math.max(e.right-P.width,e.left),a|=1),h&2&&(a=a|(f.x<e.left?16:0)|(f.x+P.width>e.right?32:0)),f.y<e.top&&h&4&&(f.y=e.top,a|=2),h&32&&(b=f.y,f.y<e.top&&(f.y=e.top,a|=8),f.y+P.height>e.bottom&&(P.height=Math.min(e.bottom-f.y,b+P.height-e.top),P.height=Math.max(P.height,0),a|=8)),f.y+P.height>e.bottom&&h&4&&(f.y=Math.max(e.bottom-P.height,e.top),a|=2),h&8&&(a=a|(f.y<e.top?
64:0)|(f.y+P.height>e.bottom?128:0)),h=a):h=256,a=h);f=new Je(0,0,0,0);f.left=k.x;f.top=k.y;f.width=n.width;f.height=n.height;h=a;h&496||(e=new sc(f.left,f.top),e instanceof sc?(k=e.x,e=e.y):(k=e,e=void 0),c.style.left=Qe(k,!1),c.style.top=Qe(e,!1),a=new uc(f.width,f.height),d==a||d&&a&&d.width==a.width&&d.height==a.height||(f=a,k=Kc(c),Ic(k),c=c.style,c.WebkitBoxSizing="border-box",c.width=Math.max(f.width,0)+"px",c.height=Math.max(f.height,0)+"px"));return h}
function fr(a,b){return(b&4&&Ve(a)?b^2:b)&-5};function gr(){}gr.prototype.v=ba();function hr(){Bq.call(this)}B(hr,Bq);(function(a){function b(a){this.content=a}b.prototype=a.prototype;return function(a,d){var e=new b(String(a));void 0!==d&&(e.g=d);return e}})(hr);(function(a){function b(a){this.content=a}b.prototype=a.prototype;return function(a,d){var e=String(a);if(!e)return"";e=new b(e);void 0!==d&&(e.g=d);return e}})(hr);(Zm||$m)&&Hc("533.17.9");function ir(a,b,c){this.B=a;this.j=b;this.o=new uf(c);this.v=[]}var jr=new ir(["6","12"],"1"),kr=new ir("2 1f 1c 12 16 13 14 1d 22 1b 20".split(" "),"4",[jr]);new ir("6 12 16 17 18 1a".split(" "),"3",[jr]);new ir("2 4 2a 5 6 9 b 1c d e f 11 12 29 13 14 15 1d 22 16 17 19 28 1e 1b".split(" "),"2",[jr,kr]);new ir([]);ir.prototype.toString=function(){var a=this.j?"g"+this.j:this.B.join(",");this.j&&this.v.length&&(a+=","+this.v.join(","));return a};function lr(a){a.A||(a.A=new uf(a.B));return a.A}
ir.prototype.contains=function(a){if(this.o.contains(a))return!0;this.g||(this.g=new uf);if(this.g.contains(a))return!1;var b=lr(this),c=lr(a);if(tf(c,b.contains,b))return this.o.add(a),!0;this.g.add(a);return!1};new uf;Hc("530");function mr(a){this.j=a}ga(mr);function nr(a,b){a&&(a.tabIndex=b?0:-1)}mr.prototype.g=function(a){a=a.S();We(a,!0,!1);var b=this.j;b&&vq(a,b)};mr.prototype.ea=l("goog-container");function or(a,b){var c=a.ea(),d=[c,"horizontal"==b.Oc?c+"-horizontal":c+"-vertical"];b.isEnabled()||d.push(c+"-disabled");return d};function pr(a,b,c){kq.call(this,c);this.gd=b||mr.ba();this.Oc=a||"vertical"}B(pr,kq);m=pr.prototype;m.kf=null;m.ac=null;m.gd=null;m.Oc=null;m.Lb=!0;m.$b=!0;m.zc=!0;m.ib=-1;m.ua=null;m.Bb=!1;m.ub=null;function qr(a){return a.kf||a.S()}m.Te=function(){this.o=this.j.Ga("DIV",or(this.gd,this).join(" "))};
m.Ya=function(){pr.G.Ya.call(this);qq(this,function(a){if(a.sa){var c=a.S(),c=c.id||(c.id=a.getId());this.ub||(this.ub={});this.ub[c]=a}},this);var a=this.S();this.gd.g(this);this.eb(this.Lb,!0);nq(this).L(this,"enter",this.Ze).L(this,"highlight",this.tj).L(this,"unhighlight",this.vj).L(this,"open",this.uk).L(this,"close",this.sj).L(a,"mousedown",this.uj).L(Kc(a),"mouseup",this.Sj).L(a,["mousedown","mouseup","mouseover","mouseout","contextmenu"],this.Fj);this.zc&&rr(this,!0)};
function rr(a,b){var c=nq(a),d=qr(a);b?c.L(d,"focus",a.Qg).L(d,"blur",a.Pg).L(a.ac||(a.ac=new Cq(qr(a))),"key",a.ob):c.za(d,"focus",a.Qg).za(d,"blur",a.Pg).za(a.ac||(a.ac=new Cq(qr(a))),"key",a.ob)}m.nb=function(){this.lc(-1);this.ua&&this.ua.va(!1);this.Bb=!1;pr.G.nb.call(this)};m.F=function(){pr.G.F.call(this);this.ac&&(this.ac.W(),this.ac=null);this.gd=this.ua=this.ub=this.kf=null};m.Ze=l(!0);
m.tj=function(a){var b=tq(this,a.target);if(-1<b&&b!=this.ib){var c=sr(this);c&&Zq(c,!1);this.ib=b;c=sr(this);this.Bb&&Yq(c,!0);this.ua&&c!=this.ua&&(c.ka&64?c.va(!0):this.ua.va(!1))}b=this.S();null!=a.target.S()&&wq(b,"activedescendant",a.target.S().id)};m.vj=function(a){a.target==sr(this)&&(this.ib=-1);this.S().removeAttribute("aria-activedescendant")};m.uk=function(a){(a=a.target)&&a!=this.ua&&a.fd()==this&&(this.ua&&this.ua.va(!1),this.ua=a)};
m.sj=function(a){a.target==this.ua&&(this.ua=null);var b=this.S(),c=a.target.S();b&&Qq(a.target,2)&&c&&xq(b,c)};m.uj=function(a){this.$b&&(this.Bb=!0);var b=qr(this);b&&Vc(b)&&Wc(b)?b.focus():a.j()};m.Sj=function(){this.Bb=!1};
m.Fj=function(a){var b;a:{b=a.target;if(this.ub)for(var c=this.S();b&&b!==c;){var d=b.id;if(d in this.ub){b=this.ub[d];break a}b=b.parentNode}b=null}if(b)switch(a.type){case "mousedown":b.jd(a);break;case "mouseup":b.ec(a);break;case "mouseover":b.bf(a);break;case "mouseout":b.af(a);break;case "contextmenu":b.ld(a)}};m.Qg=ba();m.Pg=function(){this.lc(-1);this.Bb=!1;this.ua&&this.ua.va(!1)};
m.ob=function(a){return this.isEnabled()&&this.ta()&&(0!=(this.v?this.v.length:0)||this.kf)&&this.Ue(a)?(a.j(),a.stopPropagation(),!0):!1};
m.Ue=function(a){var b=sr(this);if(b&&"function"==typeof b.ob&&b.ob(a)||this.ua&&this.ua!=b&&"function"==typeof this.ua.ob&&this.ua.ob(a))return!0;if(a.shiftKey||a.ctrlKey||a.metaKey||a.altKey)return!1;switch(a.keyCode){case 27:if(this.zc)qr(this).blur();else return!1;break;case 36:tr(this);break;case 35:ur(this);break;case 38:if("vertical"==this.Oc)vr(this);else return!1;break;case 37:if("horizontal"==this.Oc)rq(this)?wr(this):vr(this);else return!1;break;case 40:if("vertical"==this.Oc)wr(this);
else return!1;break;case 39:if("horizontal"==this.Oc)rq(this)?vr(this):wr(this);else return!1;break;default:return!1}return!0};m.removeChild=function(a,b){if(a=y(a)?pq(this,a):a){var c=tq(this,a);-1!=c&&(c==this.ib?(Zq(a,!1),this.ib=-1):c<this.ib&&this.ib--);var d=a.S();d&&d.id&&this.ub&&(c=this.ub,d=d.id,d in c&&delete c[d])}c=a=pr.G.removeChild.call(this,a,b);c.sa&&1!=c.md&&Wq(c,!0);c.md=!0;return a};m.ta=g("Lb");
m.eb=function(a,b){if(b||this.Lb!=a&&R(this,a?"show":"hide")){this.Lb=a;var c=this.S();c&&(Ue(c,a),this.zc&&nr(qr(this),this.$b&&this.Lb),b||R(this,this.Lb?"aftershow":"afterhide"));return!0}return!1};m.isEnabled=g("$b");m.rb=function(a){this.$b!=a&&R(this,a?"enable":"disable")&&(a?(this.$b=!0,qq(this,function(a){a.Qh?delete a.Qh:a.rb(!0)})):(qq(this,function(a){a.isEnabled()?a.rb(!1):a.Qh=!0}),this.Bb=this.$b=!1),this.zc&&nr(qr(this),a&&this.Lb))};
function xr(a,b){b!=a.zc&&a.sa&&rr(a,b);a.zc=b;a.$b&&a.Lb&&nr(qr(a),b)}m.lc=function(a){(a=sq(this,a))?Zq(a,!0):-1<this.ib&&Zq(sr(this),!1)};function sr(a){return sq(a,a.ib)}function tr(a){yr(a,function(a,c){return(a+1)%c},(a.v?a.v.length:0)-1)}function ur(a){yr(a,function(a,c){a--;return 0>a?c-1:a},0)}function wr(a){yr(a,function(a,c){return(a+1)%c},a.ib)}function vr(a){yr(a,function(a,c){a--;return 0>a?c-1:a},a.ib)}
function yr(a,b,c){c=0>c?tq(a,a.ua):c;var d=a.v?a.v.length:0;c=b.call(a,c,d);for(var e=0;e<=d;){var f=sq(a,c);if(f&&a.Sf(f)){a.lc(c);break}e++;c=b.call(a,c,d)}}m.Sf=function(a){return a.ta()&&a.isEnabled()&&!!(a.ka&2)};function zr(){}B(zr,Kq);ga(zr);zr.prototype.ea=l("goog-menuheader");function Ar(a,b,c){Vq.call(this,a,c||zr.ba(),b);this.Va(1,!1);this.Va(2,!1);this.Va(4,!1);this.Va(32,!1);this.cc=1}B(Ar,Vq);Tq("goog-menuheader",function(){return new Ar(null)});function Br(){this.j=[]}B(Br,Kq);ga(Br);function Cr(a,b){var c=a.j[b];if(!c){switch(b){case 0:c=a.ea()+"-highlight";break;case 1:c=a.ea()+"-checkbox";break;case 2:c=a.ea()+"-content"}a.j[b]=c}return c}m=Br.prototype;m.Hc=l("menuitem");m.zb=function(a){var b=a.j.Ga("DIV",Nq(this,a).join(" "),Dr(this,a.Da(),a.j));Er(this,a,b,!!(a.ka&8)||!!(a.ka&16));return b};m.bc=function(a){return a&&a.firstChild};function Dr(a,b,c){a=Cr(a,2);return c.Ga("DIV",a,b)}
function Er(a,b,c,d){Oq(a,c,b.Md());Pq(a,b,c);var e;if(e=a.bc(c)){e=e.firstChild;var f=Cr(a,1);e=!!e&&na(e)&&1==e.nodeType&&eq(e,f)}else e=!1;d!=e&&(d?fq(c,"goog-option"):hq(c,"goog-option"),c=a.bc(c),d?(a=Cr(a,1),c.insertBefore(b.j.Ga("DIV",a),c.firstChild||null)):c.removeChild(c.firstChild))}m.Fd=function(a){switch(a){case 2:return Cr(this,0);case 16:case 8:return"goog-option-selected";default:return Br.G.Fd.call(this,a)}};m.ea=l("goog-menuitem");function Fr(a,b,c,d){Vq.call(this,a,d||Br.ba(),c);this.X=b}B(Fr,Vq);m=Fr.prototype;m.Sa=function(){var a=this.X;return null!=a?a:this.Ed()};m.Va=function(a,b){Fr.G.Va.call(this,a,b);switch(a){case 8:Qq(this,16)&&!b&&Xq(this,16,!1)&&$q(this,16,!1);var c=this.S();c&&this&&c&&Er(this.A,this,c,b);break;case 16:(c=this.S())&&this&&c&&Er(this.A,this,c,b)}};
m.Ed=function(){var a=this.Da();return x(a)?(a=bb(a,function(a){return na(a)&&1==a.nodeType&&(eq(a,"goog-menuitem-accel")||eq(a,"goog-menuitem-mnemonic-separator"))?"":Xc(a)}).join(""),Ba(a)):Fr.G.Ed.call(this)};m.ec=function(a){var b=this.fd();if(b){var c=b.g;b.g=null;if(b=c&&la(a.clientX))b=new sc(a.clientX,a.clientY),b=c==b?!0:c&&b?c.x==b.x&&c.y==b.y:!1;if(b)return}Fr.G.ec.call(this,a)};m.Ic=function(a){return a.keyCode==this.ih&&this.Pc(a)?!0:Fr.G.Ic.call(this,a)};m.lj=g("ih");
Tq("goog-menuitem",function(){return new Fr(null)});Fr.prototype.Md=function(){return this.ka&16?"menuitemcheckbox":this.ka&8?"menuitemradio":Fr.G.Md.call(this)};Fr.prototype.fd=function(){return Vq.prototype.fd.call(this)};Fr.prototype.Gd=function(){return Vq.prototype.Gd.call(this)};function Gr(){}B(Gr,Kq);ga(Gr);Gr.prototype.zb=function(a){return a.j.Ga("DIV",this.ea())};Gr.prototype.ea=l("goog-menuseparator");function Hr(a,b){Vq.call(this,null,a||Gr.ba(),b);this.Va(1,!1);this.Va(2,!1);this.Va(4,!1);this.Va(32,!1);this.cc=1}B(Hr,Vq);Hr.prototype.Ya=function(){Hr.G.Ya.call(this);vq(this.S(),"separator")};Tq("goog-menuseparator",function(){return new Hr});function Ir(a){this.j=a||"menu"}B(Ir,mr);ga(Ir);Ir.prototype.ea=l("goog-menu");Ir.prototype.g=function(a){Ir.G.g.call(this,a);wq(a.S(),"haspopup","true")};Tq("goog-menuseparator",function(){return new Hr});function Jr(a,b){pr.call(this,"vertical",b||Ir.ba(),a);xr(this,!1)}B(Jr,pr);m=Jr.prototype;m.je=!0;m.ea=function(){return this.gd.ea()};m.removeItem=function(a){(a=this.removeChild(a,!0))&&a.W()};m.eb=function(a,b,c){(b=Jr.G.eb.call(this,a,b))&&a&&this.sa&&this.je&&qr(this).focus();a&&c&&la(c.clientX)?this.g=new sc(c.clientX,c.clientY):this.g=null;return b};m.Ze=function(a){this.je&&qr(this).focus();return Jr.G.Ze.call(this,a)};m.Sf=function(a){return a.isEnabled()&&a.ta()&&!!(a.ka&2)};
m.Ue=function(a){var b=Jr.G.Ue.call(this,a);b||qq(this,function(c){!b&&c.lj&&c.ih==a.keyCode&&(this.isEnabled()&&this.lc(tq(this,c)),b=c.ob(a))},this);return b};
m.lc=function(a){Jr.G.lc.call(this,a);var b=sq(this,a);if(b){a=this.S()||Nc(document);var b=b.S(),c=a||Nc(document),d=Pe(b),e=Pe(c),f,h,k,n;n=Ke(c,"borderLeftWidth");k=Ke(c,"borderRightWidth");f=Ke(c,"borderTopWidth");h=Ke(c,"borderBottomWidth");f=new Ie(parseFloat(f),parseFloat(k),parseFloat(h),parseFloat(n));c==Nc(document)?(h=d.x-c.scrollLeft,d=d.y-c.scrollTop):(h=d.x-e.x-f.left,d=d.y-e.y-f.top);e=c.clientHeight-b.offsetHeight;f=c.scrollLeft;k=c.scrollTop;f+=Math.min(h,Math.max(h-(c.clientWidth-
b.offsetWidth),0));k+=Math.min(d,Math.max(d-e,0));b=new sc(f,k);a.scrollLeft=b.x;a.scrollTop=b.y}};function Kr(a){a||Ic();lf.call(this)}B(Kr,lf);Kr.prototype.hb=function(a,b){lf.prototype.hb.call(this,a,b);return this};function Lr(a,b,c,d){return a.hb(b.key,b.caption,c,d)}Kr.prototype.render=ba();Kr.prototype.S=l(null);var Mr={key:"ok",caption:"OK"},Nr={key:"cancel",caption:"Cancel"},Or={key:"yes",caption:"Yes"},Pr={key:"no",caption:"No"},Qr={key:"save",caption:"Save"},Rr={key:"continue",caption:"Continue"};
"undefined"!=typeof document&&(Lr(new Kr,Mr,!0,!0),Lr(Lr(new Kr,Mr,!0),Nr,!1,!0),Lr(Lr(new Kr,Or,!0),Pr,!1,!0),Lr(Lr(Lr(new Kr,Or),Pr,!0),Nr,!1,!0),Lr(Lr(Lr(new Kr,Rr),Qr),Nr,!0,!0));function Sr(a,b,c){this.g=a;this.j=b;this.C=c}B(Sr,gr);Sr.prototype.v=function(a,b,c){er(this.g,this.j,a,b,void 0,c,this.C)};function Tr(a,b,c,d){Sr.call(this,a,b);this.o=c?5:0;this.A=d||void 0}B(Tr,Sr);Tr.prototype.B=g("o");Tr.prototype.v=function(a,b,c,d){var e=er(this.g,this.j,a,b,null,c,10,d,this.A);if(e&496){var f=Ur(e,this.j);b=Ur(e,b);e=er(this.g,f,a,b,null,c,10,d,this.A);e&496&&(f=Ur(e,f),b=Ur(e,b),er(this.g,f,a,b,null,c,this.o,d,this.A))}};function Ur(a,b){a&48&&(b^=2);a&192&&(b^=1);return b};function Vr(a,b,c,d){Tr.call(this,a,b,c||d);if(c||d)this.o=65|(d?32:132)}B(Vr,Tr);function Wr(){}B(Wr,Rq);ga(Wr);m=Wr.prototype;m.zb=function(a){var b=Nq(this,a),b=a.j.Ga("DIV",{"class":"goog-inline-block "+b.join(" ")},this.se(a.Da(),a.j));Sq(b,a.H);return b};m.Hc=l("button");m.bc=function(a){return a&&a.firstChild&&a.firstChild.firstChild};m.se=function(a,b){return b.Ga("DIV","goog-inline-block "+(this.ea()+"-outer-box"),b.Ga("DIV","goog-inline-block "+(this.ea()+"-inner-box"),a))};m.ea=l("goog-custom-button");function Xr(){}B(Xr,Wr);ga(Xr);Xr.prototype.bc=function(a){return Xr.G.bc.call(this,a&&a.firstChild)};Xr.prototype.se=function(a,b){return Xr.G.se.call(this,[b.Ga("DIV","goog-inline-block "+(this.ea()+"-caption"),a),b.Ga("DIV","goog-inline-block "+(this.ea()+"-dropdown"),"\u00a0")],b)};Xr.prototype.ea=l("goog-menu-button");function Yr(a,b,c,d,e){dr.call(this,a,c||Xr.ba(),d);this.Va(64,!0);this.O=new Vr(null,5);b&&Zr(this,b);this.M=new Wh(500);!Zm&&!$m||Hc("533.17.9")||(this.Qd=!0);this.wa=e||Ir.ba()}B(Yr,dr);m=Yr.prototype;m.Qd=!1;m.Ya=function(){Yr.G.Ya.call(this);$r(this,!0);this.g&&as(this,this.g,!0);wq(this.o,"haspopup",!!this.g)};m.nb=function(){Yr.G.nb.call(this);$r(this,!1);if(this.g){this.va(!1);this.g.nb();as(this,this.g,!1);var a=this.g.S();a&&Rc(a)}};
m.F=function(){Yr.G.F.call(this);this.g&&(this.g.W(),delete this.g);delete this.Ca;this.M.W()};m.jd=function(a){Yr.G.jd.call(this,a);Qq(this,4)&&(this.va(!Qq(this,64),a),this.g&&(this.g.Bb=Qq(this,64)))};m.ec=function(a){Yr.G.ec.call(this,a);this.g&&!Qq(this,4)&&(this.g.Bb=!1)};m.Pc=function(){Yq(this,!1);return!0};m.Rj=function(a){this.g&&this.g.ta()&&!this.Ye(a.target)&&this.va(!1)};
m.Ye=function(a){var b;if(!(b=a&&Sc(this.S(),a))&&(b=this.g))a:if(b=this.g,Sc(b.S(),a))b=!0;else{for(var c=0,d=b.v?b.v.length:0;c<d;c++){var e=sq(b,c);if("function"==typeof e.Ye&&e.Ye(a)){b=!0;break a}}b=!1}return b||!1};
m.Ic=function(a){if(32==a.keyCode){if(a.j(),"keyup"!=a.type)return!0}else if("key"!=a.type)return!1;if(this.g&&this.g.ta()){var b=13==a.keyCode||32==a.keyCode,c=this.g.ob(a);return 27==a.keyCode||b?(this.va(!1),!0):c}return 40==a.keyCode||38==a.keyCode||32==a.keyCode||13==a.keyCode?(this.va(!0,a),!0):!1};m.lk=function(){this.va(!1)};m.mk=function(){Qq(this,4)||this.va(!1)};m.Nd=function(a){this.Qd||this.va(!1);Yr.G.Nd.call(this,a)};
function Zr(a,b){var c=a.g;b!=c&&(c&&(a.va(!1),a.sa&&as(a,c,!1),delete a.g),a.sa&&wq(a.o,"haspopup",!!b),b&&(a.g=b,oq(b,a),b.eb(!1),c=a.Qd,(b.je=c)&&xr(b,!0),a.sa&&as(a,b,!0)))}m.removeItem=function(a){this.g||Zr(this,new Jr(this.j,this.wa));(a=(this.g||null).removeChild(a,!0))&&a.W()};m.eb=function(a,b){var c=Yr.G.eb.call(this,a,b);c&&!this.ta()&&this.va(!1);return c};m.rb=function(a){Yr.G.rb.call(this,a);this.isEnabled()||this.va(!1)};
m.va=function(a,b){Yr.G.va.call(this,a);if(this.g&&Qq(this,64)==a){if(a)this.g.sa||this.g.render(),this.Z=Oe(this.S()),this.Y=Te(this.S()),bs(this),!b||40!=b.keyCode&&38!=b.keyCode?this.g.lc(-1):tr(this.g);else{Yq(this,!1);this.g.Bb=!1;var c=this.S();c&&(wq(c,"activedescendant",""),wq(c,"owns",""));if(null!=this.P&&(this.P=void 0,c=this.g.S())){var d="",e;d instanceof uc?(e=d.height,d=d.width):e="";c.style.width=Qe(d,!0);c.style.height=Qe(e,!0)}}this.g.eb(a,!1,b);this.isDisposed()||(c=nq(this),d=
a?c.L:c.za,d.call(c,this.j.g,"mousedown",this.Rj,!0),this.Qd&&d.call(c,this.g,"blur",this.mk),d.call(c,this.M,"tick",this.Aj),a?Yh(this.M):Xh(this.M))}this.g&&this.g.S()&&this.g.o.removeAttribute("aria-hidden")};function bs(a){if(a.g.sa){var b=a.O;a.O.g=a.Ca||a.S();var c=a.g.S();a.g.ta()||(c.style.visibility="hidden",Ue(c,!0));!a.P&&a.O.B&&a.O.o&32&&(a.P=Re(c));b.v(c,b.j^1,null,a.P);a.g.ta()||(Ue(c,!1),c.style.visibility="visible")}}
m.Aj=function(){var a=Te(this.S()),b=Oe(this.S()),c;c=this.Y;(c=!(c==a||c&&a&&c.left==a.left&&c.width==a.width&&c.top==a.top&&c.height==a.height))||(c=this.Z,c=!(c==b||c&&b&&c.top==b.top&&c.right==b.right&&c.bottom==b.bottom&&c.left==b.left));c&&(this.Y=a,this.Z=b,bs(this))};function as(a,b,c){var d=nq(a);c=c?d.L:d.za;c.call(d,b,"action",a.lk);c.call(d,b,"close",a.xj);c.call(d,b,"highlight",a.yj);c.call(d,b,"unhighlight",a.zj)}
function $r(a,b){var c=nq(a);(b?c.L:c.za).call(c,a.S(),"keydown",a.ck)}m.yj=function(a){(a=a.target.S())&&cs(this,a)};m.ck=function(a){this.ka&32&&this.S()&&this.g&&this.g.ta()&&a.stopPropagation()};m.zj=function(){if(!sr(this.g)){var a=this.S();wq(a,"activedescendant","");wq(a,"owns","")}};m.xj=function(a){if(Qq(this,64)&&a.target instanceof Fr){a=a.target;var b=a.S();a.ta()&&Qq(a,2)&&null!=b&&cs(this,b)}};
function cs(a,b){var c=a.S(),d;d=b.getAttribute("aria-activedescendant");d=null==d||void 0==d?"":String(d);d=Kc(b).getElementById(d)||b;if(!d.id){var e=jq.ba();d.id=":"+(e.g++).toString(36)}xq(c,d);wq(c,"owns",d.id)}Tq("goog-menu-button",function(){return new Yr(null)});function ds(){}B(ds,Xr);ga(ds);ds.prototype.ea=l("goog-toolbar-menu-button");function es(a,b,c,d){Yr.call(this,a,b,c||ds.ba(),d)}B(es,Yr);Tq("goog-toolbar-menu-button",function(){return new es(null)});function fs(){};function gs(a,b,c,d,e,f){this.type=a;this.o=b;this.j=c;this.v=d;this.A=e;this.g=f;this.type=this.type;this.anchors=this.o;this.docos=this.j;this.nonAnchored=this.v;this.userInitiated=this.A;this.args=this.g}v("docos.Event",gs,void 0);function hs(){}function is(a){if("number"==typeof a){var b=new hs;b.o=a;var c;c=a;if(0==c)c="Etc/GMT";else{var d=["Etc/GMT",0>c?"-":"+"];c=Math.abs(c);d.push(Math.floor(c/60)%100);c%=60;0!=c&&d.push(":",Qa(c,2));c=d.join("")}b.v=c;c=a;0==c?c="UTC":(d=["UTC",0>c?"+":"-"],c=Math.abs(c),d.push(Math.floor(c/60)%100),c%=60,0!=c&&d.push(":",c),c=d.join(""));a=js(a);b.A=[c,c];b.g={Bm:a,Jf:a};b.j=[];return b}b=new hs;b.v=a.id;b.o=-a.std_offset;b.A=a.names;b.g=a.names_ext;b.j=a.transitions;return b}
function js(a){var b=["GMT"];b.push(0>=a?"+":"-");a=Math.abs(a);b.push(Qa(Math.floor(a/60)%100,2),":",Qa(a%60,2));return b.join("")}function ks(a,b){for(var c=Date.UTC(b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate(),b.getUTCHours(),b.getUTCMinutes())/36E5,d=0;d<a.j.length&&c>=a.j[d];)d+=2;return 0==d?0:a.j[d-1]};function ls(a,b){this.j=[];this.g=b||Og;"number"==typeof a?ms(this,a):ns(this,a)}var os=[/^\'(?:[^\']|\'\')*\'/,/^(?:G+|y+|M+|k+|S+|E+|a+|h+|K+|H+|c+|L+|Q+|d+|m+|s+|v+|V+|w+|z+|Z+)/,/^[^\'GyMkSEahKHcLQdmsvVwzZ]+/];function ns(a,b){for(ps&&(b=b.replace(/\u200f/g,""));b;)for(var c=0;c<os.length;++c){var d=b.match(os[c]);if(d){d=d[0];b=b.substring(d.length);0==c&&("''"==d?d="'":(d=d.substring(1,d.length-1),d=d.replace(/\'\'/,"'")));a.j.push({text:d,type:c});break}}}
ls.prototype.format=function(a,b){if(!a)throw Error("The date to format must be non-null.");var c=b?6E4*(a.getTimezoneOffset()-(b.o-ks(b,a))):0,d=c?new Date(a.getTime()+c):a,e=d;b&&d.getTimezoneOffset()!=a.getTimezoneOffset()&&(d=new Date(d.getTime()+6E4*(d.getTimezoneOffset()-a.getTimezoneOffset())),e=new Date(a.getTime()+(c+(0<c?-864E5:864E5))));for(var c=[],f=0;f<this.j.length;++f){var h=this.j[f].text;1==this.j[f].type?c.push(qs(this,h,a,d,e,b)):c.push(h)}return c.join("")};
function ms(a,b){var c;if(4>b)c=a.g.Gf[b];else if(8>b)c=a.g.Kf[b-4];else if(12>b)c=a.g.Wh[b-8],c=c.replace("{1}",a.g.Gf[b-8]),c=c.replace("{0}",a.g.Kf[b-8]);else{ms(a,10);return}ns(a,c)}function rs(a,b){var c;c=String(b);var d=a.g||Og;if(void 0!==d.ui){for(var e=[],f=0;f<c.length;f++){var h=c.charCodeAt(f);e.push(48<=h&&57>=h?String.fromCharCode(d.ui+h-48):c.charAt(f))}c=e.join("")}return c}var ps=!1;
function ss(a){if(!(a.getHours&&a.getSeconds&&a.getMinutes))throw Error("The date to format has no time (probably a goog.date.Date). Use Date or goog.date.DateTime, or use a pattern without time fields.");}
function qs(a,b,c,d,e,f){var h=b.length;switch(b.charAt(0)){case "G":return c=0<d.getFullYear()?1:0,4<=h?a.g.Yh[c]:a.g.Zh[c];case "y":return c=d.getFullYear(),0>c&&(c=-c),2==h&&(c%=100),rs(a,Qa(c,h));case "M":a:switch(c=d.getMonth(),h){case 5:h=a.g.ci[c];break a;case 4:h=a.g.ai[c];break a;case 3:h=a.g.ii[c];break a;default:h=rs(a,Qa(c+1,h))}return h;case "k":return ss(e),rs(a,Qa(e.getHours()||24,h));case "S":return rs(a,(e.getTime()%1E3/1E3).toFixed(Math.min(3,h)).substr(2)+(3<h?Qa(0,h-3):""));case "E":return c=
d.getDay(),4<=h?a.g.ti[c]:a.g.ki[c];case "a":return ss(e),h=e.getHours(),a.g.Vh[12<=h&&24>h?1:0];case "h":return ss(e),rs(a,Qa(e.getHours()%12||12,h));case "K":return ss(e),rs(a,Qa(e.getHours()%12,h));case "H":return ss(e),rs(a,Qa(e.getHours(),h));case "c":a:switch(c=d.getDay(),h){case 5:h=a.g.ni[c];break a;case 4:h=a.g.ri[c];break a;case 3:h=a.g.pi[c];break a;default:h=rs(a,Qa(c,1))}return h;case "L":a:switch(c=d.getMonth(),h){case 5:h=a.g.mi[c];break a;case 4:h=a.g.li[c];break a;case 3:h=a.g.oi[c];
break a;default:h=rs(a,Qa(c+1,h))}return h;case "Q":return c=Math.floor(d.getMonth()/3),4>h?a.g.ji[c]:a.g.ei[c];case "d":return rs(a,Qa(d.getDate(),h));case "m":return ss(e),rs(a,Qa(e.getMinutes(),h));case "s":return ss(e),rs(a,Qa(e.getSeconds(),h));case "v":return h=f||is(c.getTimezoneOffset()),h.v;case "V":return a=f||is(c.getTimezoneOffset()),2>=h?a.v:0<ks(a,c)?t(a.g.Xh)?a.g.Xh:a.g.DST_GENERIC_LOCATION:t(a.g.Jf)?a.g.Jf:a.g.STD_GENERIC_LOCATION;case "w":return c=a.g.If,e=new Date(e.getFullYear(),
e.getMonth(),e.getDate()),b=a.g.Hf||0,c=e.valueOf()+864E5*(((t(c)?c:3)-b+7)%7-((e.getDay()+6)%7-b+7)%7),rs(a,Qa(Math.floor(Math.round((c-(new Date((new Date(c)).getFullYear(),0,1)).valueOf())/864E5)/7)+1,h));case "z":return a=f||is(c.getTimezoneOffset()),4>h?a.A[0<ks(a,c)?2:0]:a.A[0<ks(a,c)?3:1];case "Z":return e=f||is(c.getTimezoneOffset()),4>h?(h=-(e.o-ks(e,c)),a=[0>h?"-":"+"],h=Math.abs(h),a.push(Qa(Math.floor(h/60)%100,2),Qa(h%60,2)),h=a.join("")):h=rs(a,js(e.o-ks(e,c))),h;default:return""}};var ts={Fm:"y",Gm:"y G",Hm:"MMM y",Im:"MMMM y",bi:"MMM d",xm:"MMMM dd",zm:"M/d",ym:"MMMM d",Am:"MMM d, y",Dm:"EEE, MMM d",Em:"EEE, MMM d, y",wm:"d"},us=ts,us=ts;new ls(7);var vs=new ls(2),ws=new ls(us.bi);z(vs.format,vs);z(ws.format,ws);function xs(a,b,c){Fr.call(this,a,b,c);this.Va(16,!0)}B(xs,Fr);Tq("goog-checkbox-menuitem",function(){return new xs(null)});function ys(){}B(ys,Rq);ga(ys);ys.prototype.zb=function(a){var b=Nq(this,a),b=a.j.Ga("DIV",{"class":"goog-inline-block "+b.join(" ")},a.Da());Sq(b,a.H);return b};ys.prototype.Hc=l("button");ys.prototype.Sa=l("");ys.prototype.ea=l("goog-flat-button");Tq("goog-flat-button",function(){return new dr(null,ys.ba())});function zs(){}B(zs,ys);ga(zs);zs.prototype.zb=function(a){var b=Nq(this,a),b=a.j.Ga("DIV",{"class":"goog-inline-block "+b.join(" ")},[As(this,a.Da(),a.j),a.j.Ga("DIV",{"class":"goog-inline-block "+(this.ea()+"-dropdown"),"aria-hidden":!0},"\u00a0")]);Sq(b,a.H);return b};zs.prototype.bc=function(a){return a&&a.firstChild};function As(a,b,c){return c.Ga("DIV","goog-inline-block "+(a.ea()+"-caption"),b)}zs.prototype.ea=l("goog-flat-menu-button");
Tq("goog-flat-menu-button",function(){return new Yr(null,null,zs.ba())});function Bs(a){this.j=a;this.o={};this.A={};this.B=Jg(this.j).o;this.g=new X(this);K(this,this.g);this.g.L(Jg(this.j),"r",this.C)}B(Bs,J);var Cs=["load","abort","error"];Bs.prototype.C=function(){var a;a=Jg(this.j).o;if(this.B!=a&&(this.B=a,!a))for(var b in this.o)a=b,this.g.L(this.o[a],Cs,this.v),this.o[a].src=this.A[a]};
Bs.prototype.v=function(a){var b=a.v;!b||"readystatechange"==a.type&&"complete"!=b.readyState||("abort"==a.type||"error"==a.type?(this.g.za(b,Cs,this.v),b.src="//ssl.gstatic.com/s2/profiles/images/silhouette96.png"):b&&b.id&&(this.g.za(b,Cs,this.v),delete this.o[b.id],delete this.A[b.id]))};Bs.prototype.F=function(){Bs.G.F.call(this);delete this.g;delete this.j};function Ds(a){this.g=a}B(Ds,fs);Ds.prototype.j=g("g");Ds.prototype.getCancelAnchorId=Ds.prototype.j;function Es(a,b,c,d,e){gs.call(this,a,b,c,d,e,new fs)}B(Es,gs);function Fs(a){this.g=a}B(Fs,fs);Fs.prototype.j=g("g");Fs.prototype.getPosition=Fs.prototype.j;function Gs(a,b){gs.call(this,a,[],[],!1,!1,new fs);this.interval=this.interval=b}B(Gs,gs);function Hs(a){J.call(this);this.A={};this.j=new Ig;var b=Hs.__default_config;b&&Mb(this.A,b);a&&Mb(this.A,a);this.g=new Xe(this.A);Eg(this.j,"config",this.g);this.O={};F(this.g.g,17)&&(this.Ib=new yi,Eg(this.j,"errorReporter",this.Ib),this.Ae=this.Ib.o.g(this.Ae));this.M=!1;this.I=null;this.Ae()}B(Hs,J);v("Docos",Hs,void 0);m=Hs.prototype;m.kc=null;m.Ib=null;m.$k=null;m.wi=null;m.vi=null;m.ud=null;m.gc=null;m.kh=!1;
m.Ae=function(){if(this.Ib)for(var a in Hs.prototype)ma(this[a])&&(this[a]=this.Ib.o.g(this[a]));this.J=new Bs(this.j);Eg(this.j,"imageManager",this.J);this.o=new Gi;Eg(this.j,"stream",this.o);this.H=new Rp(this.j);K(this,this.H);this.B=new X(this);K(this,this.B);this.C=null;this.v=new zh(this.j);Eg(this.j,"controller",this.v);F(this.g.g,19)?(this.C=new aq(this.j),K(this,this.C),cq(this.C,z(this.qk,this),z(this.cf,this))):this.cf();id();if(null===Ze)try{Ze=!!gapi&&!!gapi.load&&ma(gapi.load)}catch(c){Ze=
!1}if(Ze){var b=this.g;gapi.load("config:client",function(){b.Ke&&gapi.config.update("googleapis.config/sessionIndex",b.Ke);gapi.config.update("googleapis.config/auth/useFirstPartyAuth",!0)})}this.D=new gc(this);K(this,this.D);hc(hc(hc(hc(hc(hc(hc(hc(this.D,jd.Vk,this.hl),jd.Zk,this.jl),jd.Tk,this.nf),jd.gm,this.ze),jd.mm,this.pl),jd.pm,this.wl),jd.Sk,this.gl),jd.om,this.ql);this.B.L(this.o,["cd","dd","crt"],this.nl).L(this.o,"af",this.el).L(this.o,"p",this.sl).L(this.g,"r",this.Ni)};
m.Ni=function(){Is(this);this.ud&&("none"!=this.g.H?this.ud.A():this.ud.g())};m.jj=function(a){return a.x};m.kj=function(a){return a.y};function Is(a){if(a.kh&&!Dg(a.j)){var b=Sp(a.H);b&&(Eg(a.j,"netIo",b),a.Ib&&(a.Ib.v=b),Ye(a.g)?a.g.v?Js(a,"r"):Ks(a)&&Ls(a):a.mh(null))}}function Ks(a){if(!Dg(a.j))return!1;a.gc=new Tp(a.j);K(a,a.gc);a.B.L(a.gc,"net-error",a.xl);return!0}
m.xl=function(){var a=Ms(this,"net-error");a&&a(new gs("net-error",[],[],!1,!1,new fs));this.g.I&&("readonly"!==this.A.accessLevel&&(this.A.accessLevel="readonly",this.g.xd(this.A)),this.ud.D())};m.qk=function(){Js(this,"r");this.cf()};m.cf=function(){this.kh=!0;Is(this)};m.mh=function(a){var b=Ms(this,"sync-success");b&&b(new gs("sync-success",[],[],!1,!1,new fs));(b=Ms(this,"initial-anchored-render-done"))&&null!==a&&b(new Gs("initial-anchored-render-done",a));Js(this,"s");Js(this,"r")};
m.kl=function(){var a=Ms(this,"sync-error");a&&a(new gs("sync-error",[],[],!1,!1,new fs));Js(this,"e")};function Js(a,b){var c=a.O[b];c&&c();a.O[b]=null}function Ls(a){a.M=!0;qg(a.gc.Wa(a.g.M).T(a.mh,a).T(a.Ph,a),a.kl,a)}m.Wa=function(a){if(Ye(this.g)){if(!this.M){if(!this.gc&&!Ks(this))return;Ls(this)}var b=this.gc.Wa();a&&b.T(a);b.T(this.Ph,this)}};
m.hl=function(a){var b=this.g.j;b&&b(43011,null);a=a.data;var b=this.v,c=a.wb;Mi(W(b.g),c);Ch(W(b.g));b=null!=a.sb;c=(c=this.o.C)&&c.getId()!==a.wb;c||(this.nf(new dc(b?new kd(void 0,a.sb):new kd)),this.ze(new dc(b?new kd(void 0,a.sb):new kd)));(b=Ms(this,"deleted"))&&a.sb&&a.vb&&(b(new gs("deleted",[a.sb],[a.vb],!1,!0,new fs)),this.kc=null);c&&(this.kc=this.o.C)};
m.jl=function(a){a=a.data;var b=Ms(this,"before-doco-deleted");if(b&&a.vb){var c;c=this.o;var d=c.j.j[a.vb]||null;if(d){if(d.j)throw Error("Handle references reply, expected doco.");c=c.g[d.g]||null}else c=null;c=c.la();c=new Es("before-doco-deleted",[c],[a.vb],!1,!0);b(c)}d=a.wb;a=Fi(this.o.j,d,void 0);var b=this.o.g[d].la(),e=this.v;c=W(e.g);var f=c.g[d];f&&(e.o[Fi(c.j,d,void 0)]=Db(Jb(f.o)),d=mh(new kh(jh(f.j),f.getId())),e=A(),G(d.g,13,e),d=uh(th(d),!0),Bh(c,d),Ch(c));c=Ms(this,"before-selected");
d=Ms(this,"selected");e=Ms(this,"deleted");b&&a&&(c&&c(new gs("before-selected",[],[],!1,!0,new fs)),d&&d(new gs("selected",[],[],!1,!0,new fs)),e&&e(new gs("deleted",[b],[a],!1,!0,new fs)),this.kc=null)};
m.wl=function(a){a=a.data;var b=this.v,c=a.g(),d=a.j(),e=a.o();if(c=Ah(W(b.g),c)){if(c.hf())throw Error("Cannot resolve a suggestion.");var f=Ta(),h=A(),f=oh(nh(mh(new kh(f)),h),He(Jg(b.g))).A(d);e&&ph(f,e,h);e=lh(new kh(jh(c.j),c.getId()),f);d=uh(th(e),!0).A(d);Bh(W(b.g),d);Ch(W(b.g))}b=Ms(this,"before-selected");if(d=Ms(this,"selected"))e=this.o.g[a.g()],c=Fi(this.o.j,a.g(),void 0),e&&rh(e)&&c&&(a.j()?(b&&b(new gs("before-selected",[],[],!1,!0,new fs)),d(new gs("selected",[],[],!1,!0,new fs)),this.kc=
null):(b&&b(new gs("before-selected",[e.la()],[c],!1,!0,new fs)),d(new gs("selected",[e.la()],[c],!1,!0,new fs)),this.kc=e))};m.gl=function(a){var b=a.data;(a=this.g.B)&&(b=this.o.g[b.wb])&&a(b.la(),!0)};function Ns(a,b,c){var d=Ms(a,c);if(d){var e=a.o.g[""]||null;if(e!=a.kc){var f=Fi(a.o.j,"",void 0),h=[],k=[];e&&rh(e)&&f&&(h=[e.la()],k=[f]);var f=new fs,n=b.j;null!=n&&(f=new Ds(n));if(n=!!e)n=!(rh(e)&&!F(e.g,6));d(new gs(c,h,k,n,b.g,f))}"selected"==c&&(a.kc=e)}}m.nf=function(a){Ns(this,a.data,"before-selected")};
m.ze=function(a){Ns(this,a.data,"selected")};m.ql=function(a){var b=a.data;a=this.v;var c=b.g(),d=b.o(),b=b.j(),e;(e=Jg(a.g).j)&&e(43010,null);if(c=Ah(W(a.g),c)){e=Ta();var f=A(),d=oh(nh(ph(mh(new kh(e)),d,f),f),He(Jg(a.g)));b&&G(d.g,16,b);d=lh(new kh(jh(c.j),c.getId()),d);d=uh(th(d),!0);Bh(W(a.g),d);Ch(W(a.g))}};
m.pl=function(a){var b=a.data;a=b.sb;var c=b.vb,d=this.v,e=b.Lm,f=b.text,h=b.quote,b=b.Qm,k;(k=Jg(d.g).j)&&k(43009,null);e&&e!=a&&(e=Li(W(d.g),e))&&e.B&&Mi(W(d.g),e.getId());k=Ta();e=A();k=oh(nh(mh(new kh(k)),e),He(Jg(d.g)));f&&ph(k,f,e);h&&(f=new pd,G(f,1,"text/plain"),G(f,2,h),H(k.g,9,f));b&&G(k.g,16,b);h=uh(th(k),!0);G(h.g,3,e);a&&G(h.g,8,a);Bh(W(d.g),h);Ch(W(d.g));W(d.g);(d=Ms(this,"posted"))&&a&&c&&d(new gs("posted",[a],[c],!1,!0,new fs));this.nf(new dc(new kd));this.ze(new dc(new kd))};
m.nl=function(a){"dd"==a.type?Os(this,"deleted",16,a):"cd"==a.type?(Os(this,"created",8,a,z(this.Ii,this)),Os(this,"resolved",2,a),Os(this,"unresolved",4,a)):"crt"==a.type&&this.Wa();Os(this,"model-changed",24,a)};m.sl=function(a){"p"==a.type&&(a=Ms(this,"pending"))&&a(new gs("pending",[],[],!1,!0,new fs))};m.el=function(){var a=Ms(this,"view-updated");a&&a(new gs("view-updated",[],[],!1,!0,new fs))};m.Ph=function(){var a=Ms(this,"unread-comments");a&&a(new gs("unread-comments",[],[],!0,!0,new fs))};
function Os(a,b,c,d,e){(a=Ms(a,b))&&d.wb&&d.sb&&d.vb&&d.A&c&&(b=t(e)?e(d):new gs(b,[d.sb],[d.vb],!1,!1,new fs),a(b))}m.Ii=function(a){var b=this.I;this.I=null;return new gs("created",[a.sb],[a.vb],!1,!1,new Fs(b))};function Ms(a,b){return a.isDisposed()?null:a.g.D[b]||null}
m.F=function(){delete this.wi;delete this.vi;delete this.g;delete this.v;delete this.Ib;delete this.B;delete this.J;delete this.H;delete this.gc;delete this.$k;delete this.C;delete this.o;delete this.ud;delete this.D;Hs.G.F.call(this);L(this.j);delete this.j};v("Docos.Point",sc,void 0);v("Docos.Point.getX",Hs.prototype.jj,void 0);v("Docos.Point.getY",Hs.prototype.kj,void 0);v("Docos.LayoutType.ABSOLUTE","absolute",void 0);v("Docos.LayoutType.VERTICAL","vertical",void 0);
v("Docos.OptionName.ACCESS_LEVEL","accessLevel",void 0);v("Docos.OptionName.ACL_FIX_FN","acl-fix-fn",void 0);v("Docos.OptionName.ANCHOR_DIV","anchordiv",void 0);v("Docos.OptionName.ANCHOR_MUTATE_FN","anchor-mutate-fn",void 0);v("Docos.OptionName.ANCHOR_SHADOW","anchor-shadow",void 0);v("Docos.OptionName.DEFER_FIRST_SYNC","defer-first-sync",void 0);v("Docos.OptionName.DIALOG_CLOSED","dialog-closed",void 0);v("Docos.OptionName.DIALOG_OPENED","dialog-opened",void 0);
v("Docos.OptionName.DISABLE_FOCUS","disable-focus",void 0);v("Docos.OptionName.DISABLE_STREAM_PANE_FOCUS_WRAPPING","disable-spfw",void 0);v("Docos.OptionName.DOC_SCROLLER","docscroller",void 0);v("Docos.OptionName.ENABLE_COMMENT_BUTTON","enable-comment-button",void 0);v("Docos.OptionName.ENABLE_LAZY_LOADING","enable-lazy-loading",void 0);v("Docos.OptionName.ENABLE_UNREAD_COMMENTS","enable-unread-comments",void 0);v("Docos.OptionName.FATAL_READONLY","fatal-readonly",void 0);
v("Docos.OptionName.HIDE_NOTIFICATION_SETTINGS","hide-notification",void 0);v("Docos.OptionName.IGNORE_POSITIONAL_HISTORY","iph",void 0);v("Docos.OptionName.IMPRESSION_RECORDER_FN","impression-recorder-fn",void 0);v("Docos.OptionName.INACTIVE_DOCO_INDENT","inactive-doco-indent",void 0);v("Docos.OptionName.INSTANT_DOCOS_DIV","instant-docos-div",void 0);v("Docos.OptionName.IO","i",void 0);v("Docos.OptionName.KEY_DATA","kd",void 0);v("Docos.OptionName.LAYOUT","layout",void 0);
v("Docos.OptionName.LAYOUT_RTL","layoutrtl",void 0);v("Docos.OptionName.LISTENERS","listeners",void 0);v("Docos.OptionName.LOCAL","l",void 0);v("Docos.OptionName.MAX_DOCO_HEIGHT","maxheight",void 0);v("Docos.OptionName.OFFLINE","offline",void 0);v("Docos.OptionName.PANE_DIV","panediv",void 0);v("Docos.OptionName.PANE_KB_DIV","panekbdiv",void 0);v("Docos.OptionName.SHOW_ERRORS","showerrors",void 0);v("Docos.OptionName.QUOTE_FN","quotefn",void 0);
v("Docos.OptionName.QUOTE_RENDER_FN","quoterenderfn",void 0);v("Docos.OptionName.READONLY","readonly",void 0);v("Docos.OptionName.RESOLVE","resolve",void 0);v("Docos.OptionName.SCROLL_CONTAINER","container",void 0);v("Docos.OptionName.SCROLL_CONTAINER_DIV","containerdiv",void 0);v("Docos.OptionName.SORT_PANE","sortpane",void 0);v("Docos.OptionName.SORT_PANE_BY","sortpaneby",void 0);v("Docos.OptionName.STORAGE","storage",void 0);v("Docos.OptionName.STORAGE_IS_READ_ONLY","storage-ro",void 0);
v("Docos.OptionName.STREAM_BUTTON","stream-button",void 0);v("Docos.OptionName.SYNC_ONCE","so",void 0);v("Docos.OptionName.USER_COLOR_FROM_NAME_PROVIDER_FN","user-color-provider-from-name-fn",void 0);v("Docos.OptionName.USER_COLOR_PROVIDER_FN","user-color-provider-fn",void 0);v("Docos.EventType.BEFORE_DOCO_DELETED","before-doco-deleted",void 0);v("Docos.EventType.BEFORE_SELECTED","before-selected",void 0);v("Docos.EventType.BEFORE_SUGGESTION_ACCEPTED","before-suggestion-accepted",void 0);
v("Docos.EventType.BEFORE_SUGGESTION_REJECTED","before-suggestion-rejected",void 0);v("Docos.EventType.BOUNDS_UPDATED","bounds",void 0);v("Docos.EventType.CREATED","created",void 0);v("Docos.EventType.CREATE_DRAFT","create-draft",void 0);v("Docos.EventType.DELETED","deleted",void 0);v("Docos.EventType.HIGHLIGHT_INITIAL_DOCO","highlight-initial-doco",void 0);v("Docos.EventType.HOVER","hover",void 0);v("Docos.EventType.INITIAL_SYNC_ERROR","sync-error",void 0);
v("Docos.EventType.INITIAL_SYNC_SUCCESS","sync-success",void 0);v("Docos.EventType.NETWORK_ERROR","net-error",void 0);v("Docos.EventType.PENDING","pending",void 0);v("Docos.EventType.POSTED","posted",void 0);v("Docos.EventType.RESOLVED","resolved",void 0);v("Docos.EventType.SELECTED","selected",void 0);v("Docos.EventType.UNRESOLVED","unresolved",void 0);v("Docos.EventType.UNREAD_COMMENTS","unread-comments",void 0);v("Docos.EventType.VIEW_FLUSHED","view-updated",void 0);
v("Docos.EventType.INITIAL_ANCHORED_RENDER_DONE","initial-anchored-render-done",void 0);v("Docos.EventType.INITIAL_PANE_RENDER_DONE","initial-pane-render-done",void 0);v("Docos.EventType.MODEL_CHANGED","model-changed",void 0);v("Docos.AccessLevel.READONLY","readonly",void 0);v("Docos.AccessLevel.SUGGEST","suggest",void 0);v("Docos.AccessLevel.FULL","full",void 0);v("Docos.prototype.dispose",Hs.prototype.W,void 0);window.closure_verification&&(window.closure_verification.dcs_main_js={});function Ps(a,b){this.g=a;this.j=b};function Qs(a,b){b.push(a);for(var c=0;c<a.length;c++)if(x(a[c])){if(eb(b,a[c]))throw Error("Circular reference detected");Qs(a[c],b)}b.pop()}function Rs(a,b,c){if(a.length!=b.length)return!1;c=c||pb;for(var d=0;d<a.length;d++)if(!c(a[d],b[d]))if(x(a[d])&&x(b[d])){if(!Rs(a[d],b[d],c))return!1}else return!1;return!0};function Ss(a,b){if(a==b)return!0;if(!na(a)||!na(b))return!1;var c=Db(a);if(c.length!=Db(b).length)return!1;for(var d=Ts||pb,e=0;e<c.length;e++){var f=c[e];if(!(f in b&&d(a[f],b[f])))return!1}return!0}function Ts(a,b){return a===b?!0:x(a)&&x(b)?ob(a,b,Ts):na(a)&&na(b)?Ss(a,b):!1}function Us(a,b){b.push(a);for(var c in a)if(na(a[c])){if(eb(b,a[c]))throw Error("Circular reference detected");Us(a[c],b)}b.pop()};function Vs(a,b){J.call(this);this.A=a;this.g={};this.v={};this.H=b||!1;this.o=!this.H}B(Vs,J);m=Vs.prototype;m.Ob=!1;m.pb=function(){return this.H||!Ib(this.v)};function Ws(a){a.pb();a.Ob=!0}function Xs(a,b){var c=Ys(a,b);return null==c?null:Kb(c)}function Zs(a,b){var c=$s(a,b);return null==c||0==c?null:c}function $s(a,b){var c=Ys(a,b);return null==c?null:c}function at(a,b){var c=Ys(a,b);return null==c?null:c}function bt(a){return null==Ys(a,"inc")?null:""!=a.g.inc}
function ct(a){return null==Ys(a,"undeliverable")?!1:""!=a.g.undeliverable}function dt(a,b,c){Z(a,b,c?"true":"")}function et(a,b){var c=Ys(a,b);return null==c?null:Kb(c)}function Ys(a,b){var c=a.g[b];return null!=c?c:null}function Z(a,b,c){if(na(c)&&!x(c))return Us(c,[]),null!=a.g[b]&&Ts(a.g[b],c)||(c=Kb(c),a.g[b]=c,a.o||(a.v[b]=c)),a;if(x(c))return Qs(c,[]),Us(c,[]),null!=a.g[b]&&Rs(a.g[b],c)||(c=Kb(c),a.g[b]=c,a.o||(a.v[b]=c)),a;a.g[b]!=c&&(a.g[b]=c,a.o||(a.v[b]=c));return a}
function ft(a,b,c,d){var e=a.g,f=e[b];null==f&&(e[b]=f={});f[c]=d;a.o||(a=a.v,e=a[b],null==e&&(a[b]=e={}),e[c]=d)}m.Rb=function(){this.v={};this.H=!1};m.Kb=l(null);m.F=function(){Vs.G.F.call(this);delete this.g;delete this.v};function gt(a,b,c){Vs.call(this,"comment",c);Z(this,"di",a);Z(this,"i",b);Z(this,"s",1)}B(gt,Vs);gt.prototype.Kb=function(){return new Ps(this.aa(),2)};gt.prototype.aa=function(){return this.g.di};gt.prototype.getId=function(){return this.g.i};gt.prototype.getData=function(){return Xs(this,"da")};function ht(a,b,c,d){J.call(this);this.A=a;this.I=b;this.o=c;this.j=d||null;this.g=null}B(ht,J);ht.prototype.v=function(a,b){if(this.g)this.B(a);else{var c=z(this.B,this,a);it(this.A,this.o,z(this.C,this,c),jt(b))}};ht.prototype.getAll=ht.prototype.v;ht.prototype.B=function(a){var b=[],c;for(c in this.g)b.push(this.g[c].getData());a(b)};ht.prototype.C=function(a,b){if(!this.g){this.g={};for(var c=0;c<b.length;c++)this.g[b[c].getId()]=b[c]}a()};
ht.prototype.D=function(a,b,c,d){this.g?this.H(a,b,c,d):(a=z(this.H,this,a,b,c,d),it(this.A,this.o,z(this.C,this,a),jt(d)))};ht.prototype.writeAll=ht.prototype.D;
ht.prototype.H=function(a,b,c,d){c=ff(c);d=jt(d);for(var e=[],f=0;f<a.length;f++){var h=a[f],k=this.g[h.key];k||(k=new gt(this.o,h.key,!0),this.g[h.key]=k);Z(k,"da",h.data);Z(k,"s",h.dirty?2:1);e.push(k);this.j&&(kt(this.j,h.dirty?A():null),e.push(this.j))}for(f=0;f<b.length;f++)if(a=b[f],h=this.g[a])Ws(h),e.push(h),delete this.g[a];this.I.write(e,c,d)};function jt(a){return function(b){a(fn(b),b.Fb)}}ht.prototype.F=function(){ht.G.F.call(this)};function lt(a){this.g=a}lt.prototype.Wa=function(a,b,c,d,e,f){var h=new J,k={};b=new ht(b,c,a);K(h,b);k.storage=b;k.so=!0;k.kd=d;d={};k.listeners=d;a=new Mp(this.g,!1,["id",a]);K(h,a);k.i=a;d["sync-success"]=function(){e();Zh(function(){L(h)},0)};d["sync-error"]=function(){f();Zh(function(){L(h)},0)};k=new Hs(k);ec(h,ta(L,k))};function mt(a){E(this,a,0,-1,null)}B(mt,C);function nt(a){E(this,a,0,-1,null)}B(nt,C);function ot(a){E(this,a,0,-1,null)}B(ot,C);function pt(a){E(this,a,0,-1,null)}B(pt,C);function qt(a){E(this,a,0,-1,rt)}B(qt,C);var rt=[1];function st(a){E(this,a,0,-1,null)}B(st,C);st.prototype.Cc=function(){return F(this,1)};function tt(a){this.g=a}function ut(a,b,c){return new T(function(a,e){var f=c?["id",c]:[];ql(nl(pl(ml(ol(po(this.g,"/logImpressions"),2).o(f),{impressionBatch:b.ca}),a),e))},a)};function vt(a,b){this.g={};for(var c=0;c<a.length;c++){var d=a[c];this.g[d.toLowerCase()]=d}for(var e in b)for(d=b[e],c=0;c<d.length;c++){var f=d[c];this.g[f.toLowerCase()]=f}};function wt(){vt.call(this,xt,yt)}B(wt,vt);
var xt="Arial;Comic Sans MS;Courier New;Georgia;Impact;Times New Roman;Trebuchet MS;Verdana".split(";"),yt={ar:"Arabic Typesetting;Sakkal Majalla;Simplified Arabic;Traditional Arabic;Al Bayan;Baghdad;DecoType Naskh;KufiStandardGK;Nadeem".split(";"),hi:["Aparajita","Kokila","Mangal","Utsaah","Devanagari MT"],iw:"Aharoni;David;FrankRuehl;Gisha;Levenim MT;Miriam;Narkisim;Rod;Arial Hebrew;Corsiva Hebrew;New Peninim MT;Raanana".split(";"),ja:"Meiryo;MS Gothic;MS Mincho;MS PGothic;MS PMincho;HiraMaruPro-W4;HiraMinPro-W3;HiraKakuPro-W3;HiraMaruProN-W4;HiraMinProN-W3;HiraKakuProN-W3".split(";"),ko:"Batang;Batangche;Dotum;Dotumche;Gulim;Gulimche;Gungsuh;Malgun Gothic;GungSeo;HeadLineA;PCMyungjo;Pilgi".split(";"),
th:"Angsana New;AngsanaUPC;Browallia New;BrowalliaUPC;Cordia New;CordiaUPC;DilleniaUPC;EucrosiaUPC;FreesiaUPC;IrisUPC;JasmineUPC;KodchiangUPC;Leelawadee;LilyUPC;TH Sarabun PSK;TH SarabunPSK;Ayuthaya;Krungthep;Sathu;Silom;Thonburi;Sarabun;TH Sarabun OFL".split(";"),"zh-cn":"SimSun;SimSun-ExtB;SimHei;NSimSun;Microsoft Yahei;FangSong;KaiTi;Hei;Heiti SC;Kai;STFangsong;STHeiti;STKaiti;STsong".split(";"),"zh-tw":"PMingLiu;PMingLiu-ExtB;MingLiu;MingLiu-ExtB;Microsoft JhengHei;DFKai-SB;BiauKai;Heiti TC;LiHei Pro;LiSong Pro".split(";")};function zt(a,b,c,d){this.N=a;this.A=b;this.g=c;this.v=d}zt.prototype.j=function(a,b){At(this.g.$.Ee(),z(this.o,this,a,b),b)};zt.prototype.o=function(a,b,c){var d=Si(Vi(),"owsprv");c||(c=new Bt(!0));d&&c.g.webfontsSyncVersion!=d?(d=this.A,a=z(this.C,this,a,b,c),a=z(d.v,d,a,b),Ct(d.j.Xb(),a,b)):Dt(this.g.$.j,null,z(this.B,this,a,b),b)};zt.prototype.C=function(a,b,c){a=z(this.j,this,a,b);var d=Si(Vi(),"owsprv")||0;Z(c,"webfontsSyncVersion",d);this.g.write([c],a,b)};
zt.prototype.B=function(a,b,c){for(var d=[],e=0;e<c.length;e++){var f=Et(this,c[e]);f&&d.push(f)}d=qb(d);lb(d);c=this.N;d=ib(d);jb(d,c.g);c.o&&(e=Ft(c,Gt),jb(d,e),e=Ft(c,Ht),jb(d,e));lb(d);a=z(c.H,c,a,b,d,!0);It(c.A,["fonts"],"file",a)};function Et(a,b){var c=Xs(b,"startupHints");if(!c)return null;c=c.fontFamilies;if(!c)return null;try{return rb(c)}catch(d){return Mn(a.v,Error("Cannot parse font families on startup hints")),null}};function Jt(a,b){this.g=a;this.j=!!b}Jt.prototype.getId=g("g");function Kt(a){this.g=a}Kt.prototype.ma=g("g");function Lt(a){return"Font|"+a.g};function Mt(a,b,c){J.call(this);this.o=a;this.j=b;this.g=c}B(Mt,J);Mt.prototype.fetch=function(a,b){for(var c=this.o.filter(a),d=[],e=0;e<c.length;e++)d.push(new Jt(new Kt(c[e]),b));for(var c=this.j,e=[],f=[],h=0;h<d.length;h++){var k=Lt(d[h].getId()),n=c.g[k];n||(e.push(d[h]),c.g[k]=n=new U);f.push(n)}d=new U;V(new vn(f),z(c.Jl,c,d),z(d.R,d));if(e.length){f=c.A.fetch(e);h=[];for(k=0;k<e.length;k++)h.push(e[k].getId());V(f,z(c.Vj,c),z(c.Ge,c,"Entire fetch failed",h),c)}d.T(this.g.g,this.g);return d};function Nt(a,b,c){this.j=a;this.g=b||null;this.o=c||!1}Nt.prototype.filter=function(a){for(var b=[],c=0;c<a.length;c++){var d=!!this.j.g[a[c].toLowerCase()],e=this.g?this.g.Mm(a[c]):!1,e=this.o||!e;!d&&e&&b.push(a[c])}return b};function Ot(a,b,c,d){Vs.call(this,"fontMetadata",d);a=Z(Z(this,"fontFamily",a),"version",b);b=[];for(d=0;d<c.length;d++){for(var e=c[d],f=e.g,h=[],k=0;k<f.length;k++){var n=f[k],p={};p.format=n.j;p.isSystemFont=n.g;p.url=n.o;h.push(p)}f={};f.fontFamily=e.j;f.isMenuFont=e.o;f.source=h;f.style=e.v;f.weight=e.A;b.push(f)}Z(a,"fontFaces",b)}B(Ot,Vs);Ot.prototype.ma=function(){return this.g.fontFamily};
function Pt(a){a=a.g.fontFaces;for(var b=[],c=0;c<a.length;c++){for(var d=a[c],e=[],f=d.source,h=0;h<f.length;h++){var k=f[h];e.push(new Qt(k.format,k.isSystemFont,k.url))}b.push(new Rt(d.fontFamily,d.isMenuFont,d.style,d.weight,e))}return b}function Rt(a,b,c,d,e){this.j=a;this.o=b;this.v=c;this.A=d;this.g=e}Rt.prototype.ma=g("j");Rt.prototype.getStyle=g("v");function Qt(a,b,c){this.j=a;this.g=b;this.o=c}Qt.prototype.getUrl=g("o");function St(a,b,c){this.j=a;this.o=b;this.g=c}St.prototype.getId=g("j");St.prototype.Cc=g("o");function Tt(a,b,c,d){this.o=a;this.j=b;this.g=c;this.v=!!d}Tt.prototype.getId=g("o");function Ut(a,b,c,d,e){this.j=a;this.o=b;this.v=c;this.A=d;this.g=e}Ut.prototype.ma=g("j");Ut.prototype.getStyle=g("v");function Vt(a,b,c){this.o=a;this.j=b;this.g=c}Vt.prototype.getUrl=g("o");function Wt(a,b){if(!Fb(Xt,a[0]))throw Error("The keyPath should contain a valid type in its first field.");this.g=a;this.o=b}var Xt={Cm:"syncMap"};function Yt(a,b,c){this.g=a;this.j=b;this.o=c};function Zt(){}Zt.prototype.j=function(a){var b={};b.keyPath=a.g;b.state=a.j;b.data=a.o;return b};Zt.prototype.g=function(a){var b=a.keyPath,c=a.state;a=a.data;if(!b||!c||!a)throw Error("Serialized SyncUpdate missing required key.");if(!b.length)throw Error("SyncUpdate key may not be empty.");return new Yt(b,c,a)};function $t(a){for(var b=a.sources,c=[],d=0;d<b.length;d++)c.push(new Vt(b[d].url,!!b[d].isLocal,b[d].format));return new Ut(a.fontFamily,!!a.menuFont,a.style,a.weight,c)};function au(a,b,c){this.g=a;this.o=b;a={};for(var d in this.g){b=this.g[d];for(var e=0,f;f=b[e];e++)for(var h=0,k;k=f.g[h];h++)if(!k.j){var n=k.getUrl(),p=bu[k.g],r;r=(new dj(n)).j.get("kit");r||(r=this.o+"\\/([^/.&]+)"+p+"$",r=(r=n.match(r))&&2==r.length?r[1]:null);r||(r="(persistent\\/docs\\/fonts\\/)([^/.]+)("+p+")?$",r=(r=n.match(r))&&4==r.length?r[2]:null);if(!r&&(-1!=n.indexOf("file:///")||-1!=n.indexOf("LOCALFILE:"))){var u=n.split("/"),u=u[u.length-1].split(".");2==u.length&&"."+u[1]==p&&
(r=u[0])}a[n]=r?r+(p||""):null;p||c.log(Error("Missing font file extension for format "+k.g))}}this.j=a}var bu={truetype:".ttf","embedded-opentype":".eot",svg:".svg",swf:".swf",woff:".woff",woff2:".woff2"};au.prototype.yc=function(a){if(this==a)return!0;if(!(a&&a instanceof au)||this.o!=a.o)return!1;var b=Cb(this.j);a=Cb(a.j);mb(b);mb(a);return ob(b,a)};function cu(a,b,c){Wt.call(this,a,b);if("syncMap"!=a[0])throw Error("SyncMap constructed with wrong type.");this.j=c}B(cu,Wt);cu.prototype.get=function(a){return this.j[a]};var Gt=["syncMap","applicationFonts"],Ht=["syncMap","preferences"].concat(["docs-fonts"]);function du(a,b){for(var c=a.ma(),d=Pt(a),e=[],f=0;f<d.length;f++){for(var h=d[f],k=[],n=0;n<h.g.length;n++){var p=h.g[n];k.push(new Vt(p.getUrl(),p.g,p.j))}e.push(new Ut(h.ma(),h.o,h.getStyle(),h.A,k))}d={};d[c]=e;return new au(d,a.g.version,b)}var eu=/\/fonts\/([^/]+)$/;function fu(a){return(a=a.match(eu))?a[1]:null};function gu(){this.g={}}gu.prototype.get=function(a){return this.g[a]||null};function hu(a,b,c,d,e){this.A=a;this.j=b;this.v=c;this.o=d;this.g=e||new gu}m=hu.prototype;m.fetch=function(a){if(a.j)return a=new U,a.R(),a;a=a.getId();var b=a.ma(),c=new U,d=this.g.get(b);d?c.K(new St(a,d,"sync-not-needed")):iu(this.A,[b],z(this.Wj,this,a,c),z(c.R,c,"Failed to read fontmetadata for "+b));return c};m.Wj=function(a,b,c){if(c&&c[0]){c=du(c[0],this.o);var d=a.ma();this.g.g[d]=c;b.K(new St(a,c,"sync-not-needed"))}else b.R("Failed to read fontmetadata.")};
m.Wa=function(a){if(!this.j.g)return xg(a);for(var b=a.Cc(),c=a.getId(),c=b.g[c.ma()],d={},e=b.j,f=new U,h=0;h<c.length;h++)for(var k=c[h].g,n=0;n<k.length;n++){var p=k[n];if(!p.j){var r=e[p.getUrl()];if(!r)return f.R("Bad url "+p.getUrl()),f;d[r]=new Tt(r,p.getUrl(),"")}}this.v.g(d,["fonts"],!1,z(this.Lk,this,a,f,b));return f};
m.Lk=function(a,b,c,d){if(0<d.vd||0<d.Xc||0<d.vd||0<d.Xc)b.K(a);else{var e=Kb(c);a=a.getId();var f=e.g[a.ma()];c=c.j;for(var h=0;h<f.length;h++)for(var k=f[h].g,n=0;n<k.length;n++){var p=k[n],r=c[p.getUrl()];if(!p.j&&r){r=d.v[r];if(!r)throw Error("Null local url for font file");k[n]=new Vt(r,!1,p.g)}}var u;a:{for(u in e.g){d=[];f=e.g[u];for(c=0;c<f.length;c++){h=f[c];k=[];for(n=0;n<h.g.length;n++)p=h.g[n],k.push(new Qt(p.g,p.j,p.getUrl()));d.push(new Rt(h.ma(),h.o,h.getStyle(),h.A,k))}u=new Ot(u,
e.o,d,!0);break a}throw Error("Can not create FontMetadata from invalid record");}this.j.write([u],z(this.Zj,this,a,b,e),z(b.R,b,"Failed to write updated fontMetadata for "+a.ma()))}};m.Zj=function(a,b,c){var d=a.ma();this.g.g[d]=c;b.K(new St(a,c,"sync-not-needed"))};function ju(a,b){for(var c={},d=0;d<a.length;d++){var e=Lt(a[d].getId());c[e]=!0}for(d=0;d<b.length;d++)if(c[Lt(b[d])])throw Error("A fetch request can not be both successful and unsuccessful.");this.g=a;this.j=b};function ku(a,b,c,d){this.v=a;this.o=b;this.j=d||null;this.g={};if(c){a=lu(this,c);for(var e in a)this.g[e]=a[e]}}ku.prototype.fetch=function(a){for(var b=[],c=[],d=[],e=0;e<a.length;e++){var f=a[e].getId();b.push(f);var h=f.ma(),k=this.g[h];k?d.push(new St(f,k,"sync-needed")):c.push(h)}a=new U;c.length?this.v&&(b=ll(nl(pl(ol(po(this.v,"/font/getmetadata"),2),z(this.A,this,a,b,d)),z(this.B,this,a,c)),["families",c.join(",")]),this.j&&b.o("id",this.j),ql(b)):a.K(new ju(d,[]));return a};
function lu(a,b){var c={},d=b.fontMetadataMap||{},e;for(e in d){for(var f=d[e],h={},k=h,n=e,p=[],r=f.fontFaces,u=0;u<r.length;u++)p.push($t(r[u]));k[n]=p;c[e]=new au(h,f.version,a.o)}return c}
ku.prototype.A=function(a,b,c,d){if(d=d.Ra()){var e=lu(this,d),f={};d={};for(var h=0;h<b.length;h++)f[b[h].ma()]=b[h],d[b[h].ma()]=!1;for(var k in e)h=e[k],this.g[k]=h,f[k]?c.push(new St(f[k],h,"sync-needed")):this.o.log(Error("Font metadata for an unexpected font family was received."));for(h=0;h<c.length;h++)k=c[h].getId().ma(),d[k]=!0;k=[];for(h=0;h<b.length;h++)d[b[h].ma()]||k.push(b[h]);a.K(new ju(c,k))}else a.R("No font response object.")};
ku.prototype.B=function(a,b,c){a.R(Error("Error fetching font metadata, http status code:"+c.o+", fonts: "+b.join(",")))};function mu(a){this.g={};if(a)for(var b=0;b<a.length;b++)this.g[nu(a[b])]=null;for(var c in Object.prototype);}var ou={};function nu(a){return a in ou||32==String(a).charCodeAt(0)?" "+a:a}function pu(a){return 32==a.charCodeAt(0)?a.substr(1):a}m=mu.prototype;m.add=function(a){this.g[nu(a)]=null};function qu(a,b){for(var c=0;c<b.length;c++)a.g[nu(b[c])]=null}m.clear=function(){this.g={}};m.clone=function(){var a=new mu,b;for(b in this.g)a.g[b]=null;return a};m.contains=function(a){return nu(a)in this.g};
m.yc=function(a){return ru(this,a)&&ru(a,this)};m.forEach=function(a,b){for(var c in this.g)a.call(b,pu(c),void 0,this)};m.fa=Object.keys?function(){return Object.keys(this.g).length}:function(){var a=0,b;for(b in this.g)a++;return a};m.ia=Object.keys?function(){return Object.keys(this.g).map(pu,this)}:function(){var a=[],b;for(b in this.g)a.push(pu(b));return a};m.ya=function(){for(var a in this.g)return!1;return!0};function ru(a,b){for(var c in a.g)if(!(c in b.g))return!1;return!0}
m.remove=function(a){a=nu(a);return a in this.g?(delete this.g[a],!0):!1};function su(a,b){for(var c=0;c<b.length;c++)delete a.g[nu(b[c])]}m.qc=function(){return jf(this.ia())};function tu(a,b){this.j=a;this.o=b}tu.prototype.v=function(a,b,c){uu(this,a,b,Cb(c))};function uu(a,b,c,d){for(var e=[],f=0;f<d.length;f++){Ws(d[f]);for(var h=[],k=Pt(d[f]),n=0;n<k.length;n++)for(var p=k[n].g,r=0;r<p.length;r++){var u=p[r];u.g||(u=fu(u.getUrl()))&&h.push(u)}jb(e,h)}a.j.write(d,z(a.g,a,b,c,e),c)}tu.prototype.g=function(a,b,c){for(var d=[],e=0;e<c.length;e++){var f=new U,h=this.o,k=z(f.K,f),n=z(f.R,f);V(Cl(h.xb,vu(["fonts"],c[e])),z(h.zh,h,k,n),z(h.df,h,k,n));d.push(f)}V(wn(d),a,b)};function wu(){J.call(this)}B(wu,J);function xu(a,b,c){var d=[],e=new U,f=new U;tg(e,f);e.T(ta(c,d));It(a,b,"file",function(a){if(a)for(var c=0;c<a.length;c++)d.push(new yu(a[c],b));e.K()});It(a,b,"directory",z(function(a){if(a&&a.length)for(var c=a.length,e=0;e<a.length;e++)xu(this,b.concat(a[e]),function(a){c--;jb(d,a);0==c&&f.K()});else f.K()},a))}function yu(a,b){this.id=a;this.g=b}function zu(a,b){xa.call(this,a);this.type=b}B(zu,xa);function Au(a,b,c,d,e,f,h,k){this.N=a;this.j=b;this.C=c;this.B=d;this.g=e;this.A=f;this.v=h;this.o=k}function Ft(a,b){for(var c=a.o.get(b),d=[],e=0;e<c.length;e++){var f;f=c[e];if("syncMap"!=f.g[0])f=[];else{var h=f.g;f=ob(Gt,h.slice(0,Gt.length))?f.get("value")||[]:ob(Ht,h.slice(0,Ht.length))?f.get("familyList")||[]:[]}jb(d,f)}return d}Au.prototype.H=function(a,b,c,d,e){e=e||[];new U;Ct(this.N,z(this.V,this,a,b,c,d,e),b)};
Au.prototype.V=function(a,b,c,d,e,f){var h=new mu(this.g);qu(h,c);if(d){c=h.fa();for(var k=Db(f),n=k.length-1;0<=n&&!(60<=c);n--){var p=k[n];h.contains(p)||(h.add(p),c++)}}else qu(h,Db(f));h=h.ia();c=[];for(k=0;k<h.length;k++)c.push(new Jt(new Kt(h[k])));V(this.C.fetch(c),z(this.I,this,a,b,h,d,e,f),b)};
Au.prototype.I=function(a,b,c,d,e,f,h){var k=h.g;h={};for(var n=0;n<k.length;n++){var p=k[n].Cc(),r=k[n].getId();h[r.ma()]=p}p=new mu(c);r=new mu(e);n=[];c=[];var k={},u;for(u in f)if(d&&!p.contains(u))n.push(f[u]),delete f[u];else{var D=du(f[u],this.v);k[u]=D;var D=D.j,O;for(O in D)if(D=fu(O),!r.contains(D)){c.push(u);break}}d=new U;uu(this.j,z(d.K,d),z(d.R,d),n);for(u in h)D=k[u],f=h[u],D&&D.yc(f)||c.push(u);u=this.B.fetch(c,!0);V(wn([u,d]),z(this.D,this,a,b,h,e),b)};
Au.prototype.D=function(a,b,c,d){var e=this.j;if(d){var f=[],h;for(h in c){var k=c[h].j,n;for(n in k)f.push(k[n])}c=new mu(d);su(c,f);e.g(a,b,c.ia())}else b(Error("No filesystem font files provided."))};function Bu(a){this.g=a};function Cu(){}Cu.prototype.j=function(a){return a?[a.g]:null};Cu.prototype.g=function(a){return a?new Bu(a[0]):null};function Du(a,b,c){Vs.call(this,"document",c);this.B=new Cu;Z(this,"id",a);Z(this,"documentType",b)}B(Du,Vs);var Eu=[0,1,4,2,3];Du.prototype.getId=function(){return this.g.id};function Fu(a){return a.g.documentType}function Gu(a,b,c){Z(a,"rev",b);Z(a,"rai",a.B.j(c))}function Hu(a,b){Z(a,"lastModifiedServerTimestamp",b)}function Iu(a,b){Z(a,"docosKeyData",b)}function kt(a,b){Z(a,"lastModifiedClientTimestamp",b)}Du.prototype.Kb=function(){return this.Ob?new Ps(this.getId(),1):Du.G.Kb.call(this)};
function Ju(a,b){Z(a,"modelVersion",b)};function Ku(a){this.g=a}function Lu(a){a=a.g;return"update-record"==a||"delete-record"==a};function Mu(a,b,c){this.g=a;this.j=b;this.C=c}B(Mu,Ku);function Nu(a,b,c,d,e){Mu.call(this,"append-commands",a,b);this.A=c;this.v=d;this.B=e}B(Nu,Mu);function Ou(a,b,c,d,e,f){this.g=a;this.v=c;this.A=d;this.o=e;this.j=f||0}Ou.prototype.La=g("A");function Pu(){J.call(this);this.g=[]}B(Pu,J);Pu.prototype.j=!1;function Qu(a,b){for(var c=0;c<a.g.length;++c){var d=b,e=a.g[c];a.j&&(d.g=[],d.j=!0);d.g.push(e);a.j=!1}a.g=[]}function Ru(a){var b=a.g;a.g=[];a.j=!1;return b}Pu.prototype.ya=function(){return 0==this.g.length};Pu.prototype.F=function(){Pu.G.F.call(this);delete this.g};function Su(a,b,c,d){Du.call(this,a,b,c);this.C=d;this.j=new Pu}B(Su,Du);m=Su.prototype;m.gf=!1;m.wc=!1;m.pb=function(){return Su.G.pb.call(this)||!this.j.ya()||this.wc};m.Rb=function(){Su.G.Rb.call(this);this.wc&&(this.gf=!1);this.wc=!1};m.Kb=function(){return this.j.ya()&&!this.wc?Su.G.Kb.call(this):new Ps(this.getId(),2)};m.F=function(){delete this.C;this.j.W();delete this.j;Su.G.F.call(this)};function Tu(a){this.g=a};ua(ba().prototype,ba().prototype);function Uu(a,b){for(var c=[],d=0;d<b.length;d++)c.push(a.g(b[d]));return c};Ti(Vi(),"docs-csi-reporting-uri-override");var Vu={slbf:!0,slrm:!0,slrt:!0,slbc:!0,slce:!0,slms:!0,slmc:!0,slmi:!0};function Wu(){this.g={};this.setTime=this.j;this.incrementTime=this.o;this.setServerValues=this.v}ga(Wu);Wu.prototype.j=function(a){Xu(this,a,A())};Wu.prototype.getTime=function(a){a=this.g[a];return null!=a?a:null};Wu.prototype.o=function(a,b){null!=this.g[a]||(this.g[a]=0);this.g[a]+=b};function Xu(a,b,c){if(null!=a.g[b])throw Error("Field "+b+" is already set.");a.g[b]=c}
Wu.prototype.v=function(a){var b=Vi(),c=Ri(b,"icso"),b=Ri(b,"docs-eslt");if(!c&&b){if(a)for(var d in a)d in Vu&&Xu(this,d,a[d]);Xu(this,"sldummy",0)}};q._getTimingInstance=Wu.ba;q._docsTiming=Wu;function Yu(a){this.g=a;this.j=Wu.ba()}B(Yu,J);function Zu(a){J.call(this);this.v=a}B(Zu,J);Zu.prototype.j=g("v");function $u(){J.call(this);Wu.ba()}B($u,J);function av(a,b){Mu.call(this,"unstage-commands",a,b)}B(av,Mu);function bv(a,b){Zu.call(this,a);this.g=b;this.o=new Yu(this.g);new $u}B(bv,Zu);bv.prototype.lg=function(a){return new Su(a,this.j(),!0,this)};bv.prototype.ng=function(a){var b=new Su(a.getId(),this.j(),!1,this);b.v={};b.g=a.g;b.o=!1;return b};
bv.prototype.mg=function(a){if(a.Ob)return[];var b=new Pu;Qu(a.j,b);if(a.wc){if(!b.ya())throw Error("Cannot commit staged commands with pending commands");return[new av(a.getId(),Fu(a))]}if(b.ya())return[];var c=b.j;return[new Nu(a.getId(),Fu(a),Ru(b),a.gf,c)]};function cv(a){J.call(this);this.g=a}B(cv,J);cv.prototype.La=function(){return this.g.c||null};function dv(a,b,c,d,e,f){var h={};h.dcKey=[a,b,c,d];h.t=e;f&&(h.c=f);return new cv(h)}function ev(a,b){return null!=b?[a,b,[]]:[a,[]]}cv.prototype.F=function(){delete this.g;cv.G.F.call(this)};function fv(){J.call(this)}B(fv,J);function gv(a,b,c,d){bv.call(this,a,d);this.B=b;this.A=c;new fv}B(gv,bv);m=gv.prototype;m.Gg=g("B");m.Fg=g("A");
m.sg=function(a,b){switch(a.g){case "append-commands":if(a.B){var c=z(this.Rh,this,a,b);if(a.v)var d=Y(b,"DocumentCommandsStaging"),e=a.j;else d=Y(b,"DocumentCommands"),e=a.j;on(d,[e],ev(e,void 0),c)}else this.Rh(a,b);break;case "unstage-commands":c=Y(b,"DocumentCommands");d=a.j;e=z(this.nm,this,b,a.j);on(c,[d],ev(d,void 0),e);break;default:throw Error("Unsupported operation type "+a.g);}};
m.Rh=function(a,b){for(var c=Y(b,"DocumentCommands"),c=a.v?Y(b,"DocumentCommandsStaging"):c,d=a.A,e=0;e<d.length;++e){for(var f=c,h=a.j,k=d[e],n=k.La(),p=[],r=0;r<n.length;++r)p.push(this.g.j(n[r]));h=dv(h,k.o,k.g,k.j,k.v,p);hv(f,h.g)}};m.nm=function(a,b){var c=Y(a,"DocumentCommands"),d=Y(a,"DocumentCommandsStaging");qn(kn(d,[b],ev(b)),z(this.Yk,this,c))};m.Yk=function(a,b){var c=b.target.result;c&&(hv(a,c.value),c["delete"](),c["continue"]())};function iv(a,b){this.g="document-lock";this.j=a;this.v=b}B(iv,Ku);function jv(a){Q.call(this);this.$=a;a.Qc(this);this.g=!1}B(jv,Q);function kv(a){if(a.g)throw Error("Called setWritable on an already writable localstore.");a.g=!0}jv.prototype.Xb=function(){return this.$.Xb()};
jv.prototype.write=function(a,b,c){if(!this.g)throw Error("Cannot write to read-only local store.");for(var d=[],e=null,f=0;f<a.length;f++){var h=a[f];if(h.pb()||h.Ob){var k=this.$.C[h.A]||null;if(k){k=k.C(h);d=d.concat(k);if((k=h.Kb())&&e){if(e.g!=k.g)throw Error("Cannot compare two requirements with different doc id.");e=e.j>k.j?e:k}else e=e||k;h.Rb();h.pb()}else throw Error("No Capability for record :"+h.A);}}e&&d.unshift(new iv(e.g,e.j));a=d;if(0==a.length)b();else if(d=this.$,d.g.j)Zh(b);else{f=
{};for(e=0;e<a.length;e++)for(h=a[e],k=lv(d,h),h=k.Fa(h),k=0;k<h.length;k++)f[h[k]]=!0;c=mv(d.g,Db(f),"Error writing records.",c,!0);nv(c,b);for(e=0;e<a.length;e++)h=a[e],k=lv(d,h),k.Ja(h,c)}};function ov(a){this.g=a};function pv(){try{return q.localStorage.getItem("docs-ois")}catch(a){return null}};function qv(a){return(a=a.exec(vc))?a[1]:""}(function(){if(Ym)return qv(/Firefox\/([0-9.]+)/);if(bn)return qv(/Chrome\/([0-9.]+)/);if(cn&&!(Bc()||yc("iPad")||yc("iPod")))return qv(/Version\/([0-9.]+)/);if(Zm||$m){var a;if(a=/Version\/(\S+).*Mobile\/(\S+)/.exec(vc))return a[1]+"."+a[2]}else if(an)return(a=qv(/Android\s+([0-9.]+)/))?a:qv(/Version\/([0-9.]+)/);return""})();function rv(a){this.o=a;this.g={};this.j=!1}rv.prototype.add=function(a){a.A&&(this.g[a.getId()]=a)};rv.prototype.remove=function(a){delete this.g[a.getId()]};function sv(){}sv.prototype.clear=w;sv.prototype.g=w;sv.prototype.log=w;function tv(a){this.v=a||A;this.g={};this.o=new sv;this.j={};this.saveInitialLoadStats=this.B;this.getInitialLoadStats=this.A}ga(tv);tv.prototype.B=function(a,b){var c=this.j=b,d=[],e;for(e in c)d.push([e,c[e]]);this.o.g(a,d)};tv.prototype.A=function(){return tb(this.j)};function uv(a,b,c){var d="goog_"+Va++;a.g[d]={startTime:a.v(),dj:b,im:!!c};return d}function vv(a,b){var c=a.g[b];c&&(a.o.log(c.dj,a.v()-c.startTime,c.im),delete a.g[b])}function wv(a,b){a.g[b]&&delete a.g[b]};function xv(a,b,c,d){J.call(this);this.D=a;this.B=b;this.o=c;this.A=d||A;this.v=this.j=0;this.g=[]}B(xv,J);function yv(a){if(a.v)throw Error("Idle delay has already been started");a.v=a.A()+a.B;a.j=Zh(a.C,a.B,a)}xv.prototype.C=function(){this.j=0;var a=this.A()-this.v;this.g.push(a);var b=this.o.hidden||this.o.webkitHidden||this.o.mozHidden||this.o.msHidden?1020:20;10>this.g.length&&a>b?(this.v=this.A()+1E3,this.j=Zh(this.C,1E3,this)):this.D(this)};xv.prototype.F=function(){this.j&&$h(this.j)};function nn(a,b,c,d,e,f,h,k,n){this.C=a;this.o=b;this.H=c;this.J=d;this.O=e;a=e.v++;e.g[a]=c;this.M=a;this.A=this.D=null;this.N=f||null;this.B=tv.ba();this.j=n?uv(this.B,n):null;this.I=k||0;this.g=null;0<this.I&&(this.N||h)&&(this.g=new xv(z(this.Wi,this),this.I,document),yv(this.g));this.C.onsuccess=Nn(this.o,this.Yi,this,!0);this.C.onerror=Nn(this.o,this.Xi,this,!0)}m=nn.prototype;m.Cc=function(){return this.C.result};function qn(a,b){if(a.D)throw Error("Success callback already set");a.D=b}
m.Yi=function(a){L(this.g);this.j&&vv(this.B,this.j);var b=this.O,c=this.M;b.o++;delete b.g[c];this.J.g||this.D&&this.D(a)};function zv(a,b){if(a.A)throw Error("Error callback already set");a.A=b}m.Xi=function(a){L(this.g);this.j&&wv(this.B,this.j);var b=this.O,c=this.M;b.j++;delete b.g[c];a.target.docs_requestContext=this.H;this.J.g||(b=a.target.error)&&"AbortError"==b.name||this.A&&this.A(a)};m.mf=function(a){a.onsuccess=w;a.onerror=w};
m.Wi=function(){this.j&&wv(this.B,this.j);Mn(this.o,Error("A request was running for a long time"),{documentHidden:document.hidden||document.webkitHidden,request:this.H,requestTimeoutMs:this.I,timeoutCallbackSet:!!this.N,timeoutDelays:this.g.g.concat().toString()});L(this.g);!this.J.g&&this.N&&(this.mf(this.C),this.N())};function Av(){this.g={};this.v=this.o=this.j=0};function Bv(){this.j=this.o=this.g=!1};function Cv(a){try{var b=q.localStorage.getItem("docs-ucb")}catch(c){return Mn(a,Error("Error reading unsaved changes bit: "+c.message)),"e"}switch(b){case "1":return"t";case "0":return"f";default:return"u"}};function Dv(a,b,c,d,e,f){nn.call(this,a,b,c,new Bv,new Av,d,!0,e,f);this.V=this.v=null;a.onblocked=Nn(b,this.P,this,!0);a.onupgradeneeded=Nn(b,this.U,this,!0)}B(Dv,nn);Dv.prototype.P=function(a){L(this.g);this.v&&this.v(a)};Dv.prototype.U=function(a){L(this.g);if(a.dataLoss&&"none"!=a.dataLoss){var b={};b.dataLoss=a.dataLoss;b.dataLossMessage=a.dataLossMessage;b.optinBackup=!!pv();b.requestContext=this.H;b.unsavedChanges=Cv(this.o);Mn(this.o,Error("upgradeNeeded after dataLoss"),b)}this.V&&this.V(a)};
Dv.prototype.mf=function(a){Dv.G.mf.call(this,a);a.onblocked=w;a.onupgradeneeded=w};function Ev(a,b){if(a.v)throw Error("Blocked callback already set");a.v=b}function Fv(a,b){if(a.V)throw Error("Upgrade needed callback already set");a.V=b};function Gv(a,b,c,d){this.g=a;this.v=b;this.o=c;this.j=d}Gv.prototype.get=function(a){return new nn(this.g.get(a),this.j,this.g.name+".get("+a+")",this.v,this.o)};function Hv(a,b,c,d){this.g=a;this.v=b;this.o=c;this.j=d}Hv.prototype.get=function(a){return new nn(this.g.get(a),this.j,this.g.name+".get("+a+")",this.v,this.o)};function hv(a,b){var c=t(void 0)?a.g.put(b,void 0):a.g.put(b);return new nn(c,a.j,a.g.name+".put(undefined)",a.v,a.o)}Hv.prototype.add=function(a,b){var c=t(b)?this.g.add(a,b):this.g.add(a);return new nn(c,this.j,this.g.name+".add("+b+")",this.v,this.o)};
function pn(a,b){return new nn(a.g["delete"](b),a.j,a.g.name+".delete("+b+")",a.v,a.o)}Hv.prototype.clear=function(){return new nn(this.g.clear(),this.j,this.g.name+".clear()",this.v,this.o)};Hv.prototype.count=function(a){var b=t(a)?this.g.count(a):this.g.count();return new nn(b,this.j,this.g.name+".count("+a+")",this.v,this.o)};function mn(a,b){return new Gv(a.g.index(b),a.v,a.o,a.j)};function Iv(a,b,c,d,e,f,h,k,n,p){this.Y=a;this.X=b;this.I=c;this.o=d;this.M=e;this.V=!1;this.A=!!h;this.N=this.C=null;this.j=new Bv;this.P=new Av;this.U=k||6E4;this.v=new xv(z(this.$i,this),this.U,document);this.H=n||null;this.D=tv.ba();this.g=null;this.O=Jv++;this.B=f;this.J=t(p)?p:this.A?"idbrwt":"idbrot"}var Jv=0;m=Iv.prototype;
m.open=function(){null!=this.J&&(this.g=uv(this.D,this.J,!0));var a=this.A?"readwrite":"readonly";yv(this.v);a=this.Y.transaction(this.X,a);a.onabort=Nn(this.o,this.dl,this);a.oncomplete=Nn(this.o,this.il,this);a.onerror=Nn(this.o,this.aj,this,!0);this.N=a;this.B.add(this)};function sn(a){a.j.j=!0;a.v.W();a.g&&(wv(a.D,a.g),a.g=null);a.B.remove(a)}
function Kv(a,b,c){var d=a.j;if(!d.o&&!d.g){Lv(a);d.g=!0;try{a.N.abort(),c&&!a.V&&(a.M(c),a.V=!0)}catch(e){"InvalidStateError"==e.name&&b||(c=Mv(a),c.abortFromTimeout=b,Mn(a.o,e,c))}a.v.W();a.B.remove(a)}}function Y(a,b){Lv(a);return new Hv(a.N.objectStore(b),a.j,a.P,a.o)}function nv(a,b){if(a.C)throw Error("Completion callback already set");a.C=b}m.pa=g("j");function Lv(a){if(!a.N)throw Error("Transaction does not exist");}
m.dl=function(a){this.j.j||(this.j.o=!0,this.g&&(wv(this.D,this.g),this.g=null),this.B.remove(this),this.v.W(),this.j.g||(a.target.docs_internalAbort=!0,!this.A&&a.target.error&&"QuotaExceededError"==a.target.error.name?this.C&&this.C():Nv(this,"LocalStore IndexedDB transaction abort",Mv(this),a)))};m.il=function(){this.j.j||(this.B.remove(this),this.g&&(vv(this.D,this.g),this.g=null),this.v.W(),this.C&&this.C())};
m.aj=function(a){a.stopPropagation();var b=this.j;if(!(b.j||b.o||b.g||(b=a.target.error,b&&"AbortError"==b.name))&&(b=Mv(this),b.request=a.target.docs_requestContext,Nv(this,"LocalStore IndexedDB error",b,a),a=this.B,Ri(Qi.ba(),"docs-ewtaoe")&&this.A)){delete a.g[this.getId()];var b=0,c;for(c in a.g){var d=Number(c);Kv(a.g[d],!1,void 0);delete a.g[d];b++}a.j=!0;Mn(a.o,Error("Handled fatal error of transaction: "+this.getId()+" and aborted "+b+" transactions "))}};
function Nv(a,b,c,d){b=b+" ("+a.I+"): "+tn(d);Mn(a.o,Error(b),c);c=new en(1,b,d);a.V||(a.M(c),a.V=!0)}m.$i=function(){if(!this.j.j){var a=Mv(this);a.transactionTimeout=this.U;a.timeoutDelays=this.v.g.concat().toString();a.documentHidden=document.hidden||document.webkitHidden;Mn(this.o,Error("A transaction was running for a long time ("+this.I+")"),a);this.v.W();this.H&&(Kv(this,!0),this.H(),this.N.oncomplete=null)}};m.getId=g("O");
function Mv(a){var b={transactionAllowWrite:a.A,transactionContext:a.I,transactionId:a.O,transactionObjectStores:a.X.toString()};a=a.P;var c=Cb(a.g);b.pendingRequestCount=c.length;b.pendingRequests=c.toString();b.requestErrorCount=a.j;b.requestSuccessCount=a.o;return b};function Ov(a,b){M.call(this,"R",b)}B(Ov,M);function Pv(a,b){Q.call(this);this.o=a;this.v=b;this.g=null;this.j=!1;this.A=new rv(b)}B(Pv,Q);var Qv=q.indexedDB||q.webkitIndexedDB;Pv.prototype.B=function(){this.j=!0;this.close();R(this,new Ov)};Pv.prototype.close=function(){this.g&&(this.g.onversionchange=null,this.g.close(),this.g=null)};
function Rv(a,b){if(a.g)throw Error("IdbDocsDatabase already managing a database.");if(null!=b.onversionchange)throw Error("This database is being managed by another class.");b.onclose=z(function(){var a={};a.optinBackup=!!pv();Mn(this.v,Error("The database connection was closed."),a);R(this,"P")},a);b.onerror=un("Database error.",a.o);b.onversionchange=z(a.B,a);a.g=b}function Sv(a){if(!a.g)return-1;a=parseInt(a.g.version,10);return 0<=a?a:-1}
function mv(a,b,c,d,e,f,h,k){if(!a.g)throw Error("Cannot open transaction on uninitialized IdbDocsDatabase");if(e&&a.A.j)throw Error("Cannot open read-write transactions because of a previous fatal error in a read-write transaction.");a=new Iv(a.g,b,c,a.v,d||a.o,a.A,e,f,h,k);a.open();return a}
function Tv(a,b,c,d,e){if(Sv(a)>=b)throw Error("Upgrading to a version ("+b+") less than or equal to current version ("+Sv(a)+")");var f=a.g.name;a.close();var h=a.v;b=new Dv(Qv.open(f,b),h,"setVersion database.open");Fv(b,function(a){a=a.target.transaction;a.onabort=a.onerror=Nn(h,d,{},!0);c(a)});zv(b,d);Ev(b,function(a){Mn(h,Error("Onblocked handler called when upgrading database."),{"Old version":a.oldVersion,"New version":a.newVersion})});qn(b,z(function(a){Rv(this,a.target.result);e(a)},a))}
Pv.prototype.F=function(){this.close();Pv.G.F.call(this)};var Uv=q.indexedDB||q.webkitIndexedDB;function Vv(a,b,c,d,e,f){e=e?function(){d(new en(6,"Timeout opening database."))}:void 0;var h=Wu.ba();f&&(h.j("odbs"),Zh(z(h.j,h,"odbjy")));e=new Dv(Uv.open("GoogleDocs"),c,"database.open",e,Si(Vi(),"docs-localstore-iort"),"idbodb");qn(e,function(d){f&&h.j("odbc");var e=new Pv(b,c);Rv(e,d.target.result);a(e)});zv(e,un("Error opening database.",d))};function Wv(a,b){Vs.call(this,"applicationMetadata",b);Z(this,"dt",a);this.C=[]}B(Wv,Vs);Wv.prototype.B=!1;Wv.prototype.j=function(){return this.g.dt};Wv.prototype.Rb=function(){Wv.G.Rb.call(this);this.B=!1};Wv.prototype.pb=function(){return this.B||Wv.G.pb.call(this)};function Xv(a,b,c){Vs.call(this,a,c);Z(this,"dataType",b)}B(Xv,Vs);function Yv(a,b,c){Vs.call(this,"syncObject",a);Z(this,"keyPath",b);Z(this,"state",c)}B(Yv,Vs);Yv.prototype.getData=function(){return this.g.data};function Zv(a){a=Xs(a,"state");if(!a)throw Error("SyncObject not allowed to have null state.");return a};function $v(a,b){Vs.call(this,"user",b);Z(this,"id",a);dt(this,"fastTrack",!0)}B($v,Vs);$v.prototype.getId=function(){return this.g.id};function aw(a,b,c){this.g=a;this.B=b;this.A=c}B(aw,Ku);function bw(a){if(null===a.B)throw Error("Cannot getKey of operation for singleton record.");return a.B};function cw(a,b){aw.call(this,"delete-record",a,b)}B(cw,aw);function dw(a,b,c,d){aw.call(this,d||"update-record",a,b.A);this.o=b.H;this.j={};a=b.v;c=c||[];for(var e in a)this.j[e]=eb(c,e)?Ys(b,e):b.g[e]}B(dw,aw);function ew(){Q.call(this)}B(ew,Q);ew.prototype.C=function(a){if(!(0<=Ya(this.j(),a.A)))throw Error("Cannot create operations for an unsupported record type "+a.A);return this.v(a)};ew.prototype.v=function(a,b){var c=this.o(a),d=[];a.Ob?d.push(new cw(c,a.A)):d.push(new dw(c,a,b));return d};ew.prototype.o=function(a){throw Error("Key cannot be obtained for record of type "+a.A);};ew.prototype.g=function(a){return Lu(a)?0<=Ya(this.j(),a.A):!1};function fw(){Q.call(this)}B(fw,ew);fw.prototype.j=function(){return["comment"]};fw.prototype.o=function(a){return[a.aa(),a.getId()]};function gw(a,b,c){Q.call(this);this.A=a;this.D=c}B(gw,fw);function it(a,b,c,d){d=mv(a.A,["Comments"],"Error reading comments.",d);var e;e=[b];b=[b,[]];rn(d,"Comments",z(a.B,a),c,e,b,void 0,void 0,void 0,!0)}gw.prototype.B=function(a){var b=new gt(a.cmtKey[0],a.cmtKey[1],!1);Z(b,"s",a.stateIndex[0]);Z(b,"da",a.da);b.o=!1;return b};function hw(a,b,c,d){iw(a.A,"missingdocosdocumentids",b,c,d)}gw.prototype.Fa=function(){return["Comments"]};
gw.prototype.Ja=function(a,b){switch(a.g){case "update-record":var c=Y(b,"Comments");bw(a);if(a.o){var d=a.j,e={};e.cmtKey=bw(a);e.stateIndex=[d.s,d.di];e.da=d.da;hv(c,e)}else{var d=a.j,e=bw(a),f={};"s"in d&&(f.stateIndex=[d.s,e[0]],delete d.s);for(var h in d)f[h]=d[h];jw(this.D,e,f,c)}break;case "delete-record":c=Y(b,"Comments");d=bw(a);pn(c,d);break;default:throw Error("Operation type "+a.g+" not supported.");}};function kw(a){Q.call(this);this.B=a}B(kw,ew);kw.prototype.j=function(){return["document"]};function lw(a,b){var c=a.B[b];if(!c)throw Error("No adapter found for this type: "+b);return c}kw.prototype.g=function(a){var b=a.g;return"append-commands"==b||"unstage-commands"==b||"write-trix"==b?!0:kw.G.g.call(this,a)};kw.prototype.v=function(a){var b=kw.G.v.call(this,a,["lastModifiedClientTimestamp","ic","rev","rai"]);a=lw(this,Fu(a)).mg(a);return b.concat(a)};kw.prototype.o=function(a){return a.getId()};function mw(){Q.call(this)}B(mw,ew);mw.prototype.j=function(){return[]};function nw(a,b,c){this.g=a;this.v=b;this.o=c}nw.prototype.j=function(){var a={};a.e=this.g;a.dlKey=[this.v];a.sId=this.o;return a};function ow(a){return new nw(a.e,a.dlKey[0],a.sId)};function pw(a,b,c,d,e){Q.call(this);this.g=a;this.j=b;this.o=c;this.C=e||this.o.o;this.A=0;this.B=d;this.v=new X(this);this.v.L(c,"R",this.Vi)}B(pw,Q);m=pw.prototype;m.Ha=null;m.Vi=function(){L(this.Ha);this.Ha=null;var a=window.localStorage;a&&a.setItem("dcl_"+this.g,String(A()))};function qw(a,b,c,d){return mv(a.o,["DocumentLocks"],"Lock acquisition",c,d,Si(Vi(),"docs-localstore-ilat"),b,"idbla")}m.ik=function(a,b,c,d){1==d?nv(c,z(this.jk,this,a,b)):(c.H=null,b(d))};
m.jk=function(a,b){if(this.Ha)throw Error("Lock refresh timer should not be running on lock acquisition");this.isDisposed()||0==this.j||(this.Ha=new Wh(Math.max(this.j-1E4,0)),this.v.L(this.Ha,"tick",z(this.Ak,this,a)),Yh(this.Ha));b(1)};m.kk=function(a,b){if(!b){var c=new en(2,"Lock not available");Kv(a,!1,c)}};function rw(a,b,c){a.Ha&&Xh(a.Ha);var d=z(a.hk,a,b,c),e=z(a.Kh,a,b,c);c=Y(c,"DocumentLocks");d=z(a.Sh,a,b,c,d,e);sw(a,b,d,c,!0,!1,e)}m.hk=function(a,b,c){1!=c?this.Kh(0,b):this.Ha&&Yh(this.Ha)};
m.Kh=function(a,b){L(this.Ha);this.Ha=null;var c=new en(2,"Lock could not be refreshed");Kv(b,!1,c)};function sw(a,b,c,d,e,f,h){d=d.get([b]);qn(d,z(a.Bi,a,b,c,e,f));h&&zv(d,ff(h))}
m.Bi=function(a,b,c,d,e){if(!this.isDisposed()){a=e.target.result;var f=null;if(a){a=ow(a);e=a.o;e==this.g&&(f=a.g);if(!(c=c&&e!=this.g)){c=this.g;var h=0==this.j,k=A();a.g+(h?6E4:0)<=k||a.g>k+36E4||a.o==c?c=!0:(c=window.localStorage,c=!!c&&!!c.getItem("dcl_"+a.o));c=!c}if(c){d=A();f={};f.sessionId=this.g;f.lockHoldingSessionId=e;f.validUntil=a.g-d;f.lockDuration=this.j;this.A&&(f.lastWrittenValidUntil=this.A-d);Mn(this.B,Error("IndexedDB document lock not available"),f);b(!1,null);return}}else if(c){f=
{};f.sessionId=this.g;Mn(this.B,Error("IndexedDB document lock not available because the lock does not exist"),f);b(!1,null);return}d&&R(this,"T");b(!0,f)}};m.Sh=function(a,b,c,d,e,f){e?(c=ta(c,1),e=A(),this.A=f=Math.min(Math.max(e+this.j,f||0),e+6E4),a=hv(b,(new nw(f,a,this.g)).j()),qn(a,ff(c)),d&&zv(a,ff(d))):c(2)};m.Ak=function(a){tw(this,a,0)};function tw(a,b,c){c=mv(a.o,["DocumentLocks"],"Lock refresh timer",z(a.Bk,a,b,c),!0);rw(a,b,c)}
m.Bk=function(a,b,c){this.isDisposed()||(2==c.type||2<=b?(L(this.Ha),this.Ha=null,this.C(c)):tw(this,a,b+1))};m.F=function(){this.v.W();L(this.Ha);pw.G.F.call(this)};m.zk=function(a,b){var c=b.target.result;c?(c=ow(c),c.g>A()?a("unavailable"):this.g==c.o?a("available"):a("expiredOtherSid")):a("available")};function uw(){Q.call(this)}B(uw,ew);uw.prototype.j=function(){return[]};function vw(a){Q.call(this);this.A=a}B(vw,uw);function ww(a,b,c,d){iw(a.A,"nonsnapshottedocumentids",b,c,d)};var xw={$h:"l",gi:"s",fi:"r"};function yw(a,b,c,d){kw.call(this,d);this.A=a;this.H=c;this.D=new Cu}B(yw,kw);var zw=["lastModifiedClientTimestamp","rev","rai"];function Aw(a,b,c,d,e,f){if(a.A.j)Zh(ta(e,[]));else{var h=mv(a.A,["Documents","DocumentCommandsMetadata","DocumentCommandsMetadataStaging"],"Error reading documents.",f);f=function(a){sn(h);e(a)};d?Bw(a,b,c,f,h):Cw(a,b,c,f,h,{},!1)}}m=yw.prototype;
m.Ol=function(a,b){if(this.A.j)Zh(ta(a,[]));else{var c=mv(this.A,["Documents","PendingQueueCommands"],"Error reading documents with pending changes.",b);rn(c,"PendingQueueCommands",function(a){var b=a.c;return b&&0!=b.length?a.pqcKey[0]:null},z(this.Wd,this,c,a))}};function Dt(a,b,c,d){Aw(a,b,null,!0,c,d)}function Dw(a,b,c,d){Aw(a,null,b,!1,function(a){1==a.length?c(a[0]):c(null)},d)}
m.Wd=function(a,b,c){if(0>=c.length)b([]);else{lb(c);for(var d=[],e=0;e<c.length;e++){var f=c[e];rn(a,"Documents",z(this.re,this,null,{},!1),function(a){0<a.length&&d.push(a[0])},f)}nv(a,function(){b(d)})}};function Bw(a,b,c,d,e){var f=Y(e,"DocumentCommandsMetadata");qn(kn(f,c?[c]:void 0,c?[c,[]]:void 0),z(a.Hj,a,b,c,d,e,{}))}
m.Hj=function(a,b,c,d,e,f){(f=f.target.result)?(e[f.value.dcmKey[0]]=!0,f["continue"]()):(f=Y(d,"DocumentCommandsMetadataStaging"),qn(kn(f,b?[b]:void 0,b?[b,[]]:void 0),z(this.Tj,this,a,b,c,d,{},e)))};m.Tj=function(a,b,c,d,e,f,h){(h=h.target.result)?(a=h.value.dcmKey[0],f[a]||(e[a]=!0),h["continue"]()):Cw(this,a,b,c,d,e,!0)};function Cw(a,b,c,d,e,f,h){c?qn(Y(e,"Documents").get(c),z(function(a){(a=a.target.result)?d([this.re(b,f,h,a)]):d([])},a)):rn(e,"Documents",z(a.re,a,b,f,h),d,void 0)}
m.re=function(a,b,c,d){if(b[d.id]||c&&d.hpmdo)return null;if(null!=a&&d.acl&&!t(d.acl[a]))d=null;else{a=new Du(d.id,d.documentType,!1);Z(a,"title",d.title);Z(a,"lastSyncedTimestamp",d.lastSyncedTimestamp);Z(a,"jobset",d.jobset);dt(a,"isFastTrack",!!d.isFastTrack);Hu(a,d.lastModifiedServerTimestamp);Z(a,"lastColdStartedTimestamp",d.lastColdStartedTimestamp);Z(a,"lastWarmStartedTimestamp",d.lastWarmStartedTimestamp);b=d.acl;for(var e in b)ft(a,"acl",e,b[e]);Iu(a,d.docosKeyData||null);dt(a,"inc",!!d.inc);
e=d.lastModifiedClientTimestamp;null!=e&&kt(a,e);if(e=d.startupHints)for(var f in e)ft(a,"startupHints",f,e[f]);(f=d.ic)&&Z(a,"ic",f);dt(a,"hpmdo",!!d.hpmdo);dt(a,"ips",!!d.ips);dt(a,"ip",!!d.ip);f=d.fact;null!=f&&Z(a,"fact",f);dt(a,"modelNeedsResync",!!d.modelNeedsResync);dt(a,"ind",!!d.ind);f=d.modelVersion;null!=f&&Ju(a,f);f=d.rev;null!=f&&(d=d.rai,d=null!=d?this.D.g(d):null,Gu(a,f,d));d=a}if(!d)return null;d.o=!1;return(a=this.B[Fu(d)])?a.ng(d):d};
m.Pl=function(a,b){var c=mv(this.A,["Comments","Documents"],"Error reading comments.",b);rn(c,"Comments",function(a){return a[1]},z(this.Wd,this,c,a),[2],[2,[]],"StateIndex",!1,!0)};m.Rl=function(a,b){Ew(this,"nonsnapshottedocumentids",a,b)};m.Ql=function(a,b){Ew(this,"missingdocosdocumentids",a,b)};function Ew(a,b,c,d){var e=mv(a.A,["Documents","ProfileData"],"Error reading document ids",d);Fw(b,function(b){a.Wd(e,c,b)},e)}
m.Fa=function(a){if(!this.g(a))throw Error("Cannot get object store names for operation type "+a.g);var b=["DocumentCommands","DocumentCommandsStaging","DocumentCommandsMetadata","DocumentCommandsMetadataStaging","Documents"];"delete-record"==a.g&&(b=b.concat(["Comments","DocumentEntities","PendingQueueCommands","PendingQueues"]));return b};
m.Ja=function(a,b){var c=Y(b,"Documents");switch(a.g){case "update-record":a.o?c.add(a.j):jw(this.H,bw(a),a.j,c,zw);break;case "delete-record":Gw(this,a,b);break;default:lw(this,a.C).sg(a,b)}};function Gw(a,b,c){Hw(a,bw(b),c,z(function(a){a?(a=new en(5,"Pending changes found"),Kv(c,!1,a)):this.xe(b,c)},a))}function Hw(a,b,c,d){qn(kn(Y(c,"PendingQueueCommands"),[b],[b,[]]),z(function(a){a.target.result?d(!0):Iw(b,c,d)},a))}
function Iw(a,b,c){qn(mn(Y(b,"Comments"),"StateIndex").get([2,a]),function(a){c(!!a.target.result)})}
m.xe=function(a,b){var c=bw(a),d=Y(b,"DocumentCommands");on(d,[c],[c,[]]);d=Y(b,"DocumentCommandsStaging");on(d,[c],[c,[]]);d=Y(b,"DocumentCommandsMetadata");on(d,[c],[c,[]]);d=Y(b,"DocumentCommandsMetadataStaging");on(d,[c],[c,[]]);d=Y(b,"PendingQueueCommands");on(d,[c],[c,[]]);d=Y(b,"PendingQueues");on(d,c);d=Y(b,"Documents");on(d,c);d=Y(b,"DocumentLocks");on(d,[c]);d=Y(b,"Comments");on(d,[c],[c,[]]);iw(this.A,"nonsnapshottedocumentids",[c],w);iw(this.A,"missingdocosdocumentids",[c],w);d=Y(b,"DocumentEntities");
on(d,[c],[c,[]])};function Jw(a,b,c){dw.call(this,a,b,void 0,"update-application-metadata");this.v=c}B(Jw,dw);function Kw(a){Q.call(this);this.B=a}B(Kw,ew);Kw.prototype.j=function(){return["applicationMetadata"]};Kw.prototype.o=function(a){return a.j()};Kw.prototype.g=function(a){return"update-application-metadata"==a.g};Kw.prototype.v=function(a){var b=this.o(a);return[new Jw(b,a,a.B?a.C.concat():null)]};function Lw(a,b,c,d){Kw.call(this,c);this.A=a;this.D=d}B(Lw,Kw);function Mw(a,b,c,d,e){var f=mv(a.A,["NewDocumentIds"],"Error writing new document ids.",e,!0);nv(f,d);qn(Y(f,"NewDocumentIds").get(b),function(a){a=a.target.result;a=(a&&a.documentIds?a.documentIds:[]).concat(c);var d={};d.dtKey=b;d.documentIds=a;hv(Y(f,"NewDocumentIds"),d)})}
function Nw(a,b,c,d){var e=mv(a.A,["NewDocumentIds"],"Error reading new document ids.",d);qn(Y(e,"NewDocumentIds").get(b),function(a){a=a.target.result;sn(e);c(a&&a.documentIds?a.documentIds.length:0)})}Lw.prototype.Fa=function(a){if(!this.g(a))throw Error("Cannot get object store names for operation type "+a.g);return["ApplicationMetadata"]};
Lw.prototype.Ja=function(a,b){switch(a.g){case "update-application-metadata":var c=bw(a),d=this.B[c];if(!d)throw Error("No adapter found for this type: "+c);c=a.j;if(null!=a.v){var e;if(a.v)e=a.v;else throw Error("No new initial commands are available.");for(var f=[],h=0;h<e.length;h++)f.push(d.g.j(e[h]));c.ic=f}d=Y(b,"ApplicationMetadata");a.o?hv(d,c):jw(this.D,bw(a),c,d);break;default:throw Error("Cannot perform operation of type "+a.g);}};function Ow(a,b,c,d,e){Vs.call(this,"documentEntity",e);Z(this,"entityId",a);Z(this,"documentId",b);Z(this,"entityType",c);Z(this,"data",d)}B(Ow,Vs);Ow.prototype.getId=function(){return this.g.entityId};Ow.prototype.aa=function(){return this.g.documentId};Ow.prototype.getData=function(){return Ys(this,"data")};function Pw(){Q.call(this)}B(Pw,ew);Pw.prototype.j=function(){return["documentEntity"]};Pw.prototype.o=function(a){return[a.aa(),a.g.entityType,a.getId()]};function Qw(a,b,c){Q.call(this);this.A=c}B(Qw,Pw);Qw.prototype.Fa=function(){return["DocumentEntities"]};Qw.prototype.Ja=function(a,b){var c=Y(b,"DocumentEntities");switch(a.g){case "update-record":if(a.o){var d={};d.deKey=bw(a);d.data=a.j.data;hv(c,d)}else{d={};d.data=a.j.data;var e=bw(a);jw(this.A,e,d,c)}break;case "delete-record":on(c,bw(a));break;default:throw Error("Operation type "+a.g+" not supported.");}};function Rw(a,b,c,d,e){Vs.call(this,"impressionBatch",e);Z(this,"di",a);Z(this,"dt",b);Z(this,"ibt",c);Z(this,"iba",d)}B(Rw,Vs);Rw.prototype.aa=function(){return this.g.di};Rw.prototype.j=function(){return this.g.dt};function Sw(){Q.call(this)}B(Sw,ew);Sw.prototype.j=function(){return["impressionBatch"]};Sw.prototype.o=function(a){return[a.aa(),a.g.ibt]};Sw.prototype.g=function(a){return Sw.G.g.call(this,a)&&("update-record"==a.g&&a.o||"delete-record"==a.g)};function Tw(a){Q.call(this);this.A=a}B(Tw,Sw);function Uw(a,b,c){c=mv(a.A,["Impressions"],"Error reading impressions.",c);rn(c,"Impressions",z(a.B,a),b,void 0,void 0,void 0,void 0,void 0,!0)}Tw.prototype.B=function(a){a=new Rw(a.iKey[0],a.dt,a.iKey[1],a.iba,!1);a.o=!1;return a};Tw.prototype.Fa=function(){return["Impressions"]};
Tw.prototype.Ja=function(a,b){switch(a.g){case "update-record":if(a.o){var c=Y(b,"Impressions"),d=a.j,e={};e.iKey=[d.di,d.ibt];e.dt=d.dt;e.iba=d.iba;hv(c,e)}else throw Error("Impressions may not be updated.");break;case "delete-record":on(Y(b,"Impressions"),bw(a));break;default:throw Error("Operation type "+a.g+" not supported.");}};function Vw(){Q.call(this)}B(Vw,ew);Vw.prototype.j=function(){return[]};function Ww(){Q.call(this)}B(Ww,Vw);function Xw(a,b){M.call(this,"Q",b)}B(Xw,M);function Yw(){Q.call(this);this.C={}}B(Yw,Q);function Zw(a,b){for(var c=b.j(),d=0;d<c.length;d++){var e=c[d];if(a.C[e])throw Error("Record type "+e+"already handled by another capability.");a.C[e]=b}}m=Yw.prototype;m.pg=l(null);m.zd=l(null);m.Ee=l(null);m.qg=l(null);m.Xb=l(null);m.Zc=l(null);m.De=l(null);m.rg=l(null);m.og=l(null);function $w(){Q.call(this)}B($w,ew);$w.prototype.j=function(){return[]};$w.prototype.v=function(){throw Error("No operation is supported.");};$w.prototype.o=function(){throw Error("No record is supported.");};$w.prototype.g=l(!1);function ax(){Q.call(this)}B(ax,$w);ax.prototype.Fa=function(){throw Error("No object store available.");};ax.prototype.Ja=function(a){throw Error("Operation type "+a.g+" not supported.");};function bx(a,b,c,d){Q.call(this);this.B=a;this.A=new pw(b,c,a,d,this.B.o);this.A.Qc(this)}B(bx,mw);bx.prototype.Fa=function(){return["DocumentLocks"]};bx.prototype.Ja=function(a,b){switch(a.g){case "document-lock":switch(a.v){case 2:rw(this.A,a.j,b);break;case 1:var c=this.A;sw(c,a.j,z(c.kk,c,b),Y(b,"DocumentLocks"),!1,!1)}break;default:throw Error("Operation type "+a.g+" not supported.");}};bx.prototype.F=function(){this.A.W();bx.G.F.call(this)};function cx(a,b,c){this.o=a;this.j=b;this.g=c}cx.prototype.La=g("o");function dx(a,b,c,d,e,f){Vs.call(this,"pendingQueue",c);this.j=d;this.C=e.concat();this.D=f.concat();this.I=new Cu;Z(this,"docId",a);Z(this,"documentType",b);Z(this,"revision",-1);dt(this,"undeliverable",!1);dt(this,"unsavedChanges",!1);this.B=!1}B(dx,Vs);var ex=["revisionAccessInfo","selection","sentBundlesSavedRevision"];m=dx.prototype;m.Vb=6;m.Mc=null;m.Nc=null;m.rf=null;m.qf=null;function fx(a){return a.g.docId}function gx(a,b){dt(a,"undeliverable",b)}
function hx(a,b){Z(a,"sentBundlesSavedRevision",b)}function ix(a){return $s(a,"sentBundlesSavedRevision")}function jx(a,b,c){Z(a,"revision",b);Z(a,"revisionAccessInfo",a.I.j(c))}function kx(a){return a.g.revision}function lx(a,b){Z(a,"selection",b)}function mx(a,b){dt(a,"unsavedChanges",b)}m.ya=function(){return this.B?!0:0==this.D.length&&0==this.C.length};function nx(a,b,c){ox(a,5);a.rf=b;a.qf=c;b=new cx(a.D,c,b);a.D=[];a.C.push(b);Z(a,"sentBundlesSavedRevision",null)}
m.clear=function(){gx(this,!1);mx(this,!1);Z(this,"sentBundlesSavedRevision",null);Z(this,"selection",null);ox(this,2);this.C=[];this.D=[]};m.replace=function(a,b){ox(this,7);this.Nc=a.concat();this.Mc=0<b.length?b.concat():null;this.C=a.concat();this.D=b.concat()};function ox(a,b){qx(a);if(6!=a.Vb)throw Error("Multiple pending queue operations between writes. Pending operation: "+a.Vb);a.Vb=b}
function qx(a){if(a.B)throw Error("The queue is in a state that does not allow any operation until switchToStorageIfNeeded() is called.");}m.pb=function(){return 6!=this.Vb||dx.G.pb.call(this)};function rx(a){return a.B?[]:a.C}function sx(a){return a.B?[]:a.D}m.Rb=function(){qx(this);dx.G.Rb.call(this);this.Mc&&this.Mc.length&&this.j++;this.Nc&&(this.j+=this.Nc.length);this.Vb=6;this.qf=this.rf=this.Nc=this.Mc=null};m.Kb=function(){return new Ps(fx(this),2)};function tx(a){dw.call(this,fx(a),a,ex,"pq-clear")}B(tx,dw);function ux(a){dw.call(this,fx(a),a,ex,"pq-clear-sent-bundle");if(a.B)throw Error("The queue is in a state that does not allow commands");}B(ux,dw);function vx(a){dw.call(this,fx(a),a,ex,"pq-clear-sent")}B(vx,dw);function wx(a,b){this.g="pq-delete-commands";this.j=a;this.v=b}B(wx,Ku);function xx(a){dw.call(this,fx(a),a,ex,"pq-mark-sent");this.v=[];this.C=!1;var b=a.j;if(7==a.Vb){this.C=!0;a=a.Nc;for(var c=0;c<a.length;c++)b++,this.v.push(new yx(a[c].g,a[c].j,b))}else this.v.push(new yx(a.rf,a.qf,b))}B(xx,dw);function yx(a,b,c){this.sessionId=a;this.j=b;this.g=c};function zx(a,b,c){this.g="pq-write-commands";this.A=a;this.v=b;this.j=c}B(zx,Ku);zx.prototype.La=g("v");function Ax(a){this.g=a}Ax.prototype.j=function(){return["pendingQueue"]};Ax.prototype.o=function(a){return fx(a)};function Bx(a,b){var c=a.g[b];if(c)return c;throw Error("No document adapter available for type "+b);}
Ax.prototype.C=function(a){if(a.Ob)throw Error("Cannot delete pending queues.");var b=Bx(this,a.g.documentType),c=a.Vb,d=[];switch(c){case 7:for(var c=fx(a),e=a.j,f=a.Nc,d=[],h,k=0;k<f.length;k++){e++;h=Cx(f[k].La(),b,fx(a),e,!0);if(!h)throw Error("Unexpected null operation");d.push(h)}e=a.j+d.length;d.push(new xx(a));(b=Cx(a.Mc,b,c,e+1))&&d.push(b);0<=a.j&&d.push(new wx(c,a.j));break;case 1:d=a.j+1;e=fx(a);c=[];Ib(a.v)||c.push(new dw(e,a,ex));(a=Cx(a.Mc,b,e,d))&&c.push(a);d=c;break;case 5:d.push(new xx(a));
break;case 2:d.push(new tx(a));break;case 3:d.push(new vx(a));break;case 4:d.push(new ux(a));break;case 6:d.push(new dw(fx(a),a,ex));break;default:throw Error("Unknown Pending Queue operation type: "+c);}return d};function Cx(a,b,c,d,e){if(!(e||a&&0!=a.length))return null;e=[];if(a)for(var f=0;f<a.length;f++)e.push(b.g.j(a[f]));return new zx(c,e,d)};function Dx(a,b,c,d){this.g=c;this.v=a;this.A=d;this.B=new Cu}B(Dx,Ax);function Ex(a,b,c,d){function e(a){sn(f);c(a)}var f=mv(a.v,["PendingQueues","PendingQueueCommands"],"Error reading pending queue.",d);qn(Y(f,"PendingQueues").get(b),function(c){(c=c.target.result)?Fx(a,b,f,c,e):e(null)})}
function Fx(a,b,c,d,e){var f=d.t,h=Bx(a,f);if(!h)throw Error("No document adapter available for type "+f);c=Y(c,"PendingQueueCommands");var k=[];qn(kn(c,[b],[b,[]]),function(b){if(b=b.target.result)k.push(b.value),b["continue"]();else{b=d.b;for(var c=0,f=[],u=[],D=-1,O=0;O<k.length;O++){var D=k[O],ka=f,da=h.o,N=D.c,P=A(),N=Uu(da.g,N),P=A()-P;da.j.o("md",P);jb(ka,N);D=D.pqcKey[1];c<b.length&&(ka=b[c],ka.l==D&&(u.push(new cx(f,ka.r,ka.s)),f=[],c++))}b=new dx(d.docId,d.t,!1,D,u,f);c=a.B.g(d.ra);jx(b,
d.r,c);d.s&&lx(b,d.s);gx(b,!!d.u);mx(b,!!d.uc);d.sbsr&&hx(b,d.sbsr);b.o=!1;e(b)}})}Dx.prototype.Fa=function(){return["PendingQueueCommands","PendingQueues"]};Dx.prototype.Ja=function(a,b){a instanceof dw&&!a.o?qn(Y(b,"PendingQueues").get(bw(a)),z(this.N,this,a,b)):Gx(this,a,b)};Dx.prototype.N=function(a,b,c){c=c.target.result;if(!c)throw Error("Tried to update a non-existent pending queue.");Gx(this,a,b,c)};
function Gx(a,b,c,d){if(d){var e=b.j,f=e.revision,h=e.revisionAccessInfo;null!=f&&(d.r=f);t(h)&&(d.ra=h);f=e.selection;null!=f&&(d.s=f);f=e.accessLevel;null!=f&&(d.a=f);f=e.undeliverable;t(f)&&(d.u=!!f);f=e.unsavedChanges;t(f)&&(d.uc=!!f);e=e.sentBundlesSavedRevision;t(e)&&(d.sbsr=e);if(f){a=a.A;try{q.localStorage.setItem("docs-ucb","1")}catch(k){Mn(a,Error("Error setting unsaved changes bit in Local Storage: "+k.message))}}}switch(b.g){case "pq-clear":d=d||Hx(b);b=bw(b);a=Y(c,"PendingQueueCommands");
on(a,[b],[b,[]]);d.b=[];Ix(d,c);break;case "pq-clear-sent":d=d||Hx(b);a=d.b;0<a.length&&(a=a[a.length-1].l,e=Y(c,"PendingQueueCommands"),b=bw(b),on(e,[b],[b,a]),d.b=[]);Ix(d,c);break;case "pq-clear-sent-bundle":d=d||Hx(b);a=d.b.shift().l;e=Y(c,"PendingQueueCommands");b=bw(b);on(e,[b],[b,a]);Ix(d,c);break;case "pq-mark-sent":d=d||Hx(b);a=b.v;b.C&&(d.b=[]);for(b=0;b<a.length;b++)e=a[b],f=xw,h={},h[f.$h]=e.g,h[f.gi]=e.sessionId,h[f.fi]=e.j,d.b.push(h);Ix(d,c);break;case "update-record":b=d||Hx(b);Ix(b,
c);break;case "pq-write-commands":d=b.La();a={};a.pqcKey=[b.A,b.j];a.c=d;hv(Y(c,"PendingQueueCommands"),a);break;case "pq-delete-commands":c=Y(c,"PendingQueueCommands");d=b.j;on(c,[d],[d,b.v]);break;default:throw Error("Unsupported operation type: "+b.g);}}function Ix(a,b){hv(Y(b,"PendingQueues"),a)}
function Hx(a){var b=a.j;a={};var c=b.accessLevel;t(c)&&(a.a=c);a.docId=b.docId;a.r=b.revision;a.ra=b.revisionAccessInfo;a.s=b.selection;a.b=[];a.t=b.documentType;a.u=!!b.undeliverable;a.uc=!!b.unsavedChanges;b=b.sentBundlesSavedRevision;null!=b&&(a.sbsr=b);return a};function Jx(){}function jw(a,b,c,d,e){c&&qn(kn(d,b),z(a.g,a,c,e||[]))}Jx.prototype.g=function(a,b,c){if(c=c.target.result){var d=c.value,e;for(e in a){var f=a[e];eb(b,e)?d[e]=null!=f?f:null:d[e]=f}c.update(d)}else throw Error("Could not find object to update.");};function Kx(a,b){var c=mv(a,["ProfileData"],"Error pushing document id",void 0,!0);Fw("missingdocosdocumentids",function(a){eb(a,b)||(a.push(b),a=Lx("missingdocosdocumentids",a),hv(Y(c,"ProfileData"),a),nv(c,w))},c)}
function iw(a,b,c,d,e){var f=mv(a,["ProfileData"],"Error removing document ids",e,!0);Fw(b,function(a){for(var e=0;e<c.length;e++)gb(a,c[e]);a=Lx(b,a);hv(Y(f,"ProfileData"),a);nv(f,d)},f)}function Fw(a,b,c){qn(Y(c,"ProfileData").get(a),function(a){a=a.target.result;b(a&&a.documentIds?a.documentIds:[])})}function Lx(a,b){var c={};c.dataType=a;c.documentIds=b;return c};function Mx(){Q.call(this)}B(Mx,ew);Mx.prototype.j=function(){return["user"]};Mx.prototype.v=function(a,b){if(a.Ob)throw Error("User deletion is not implemented.");return Mx.G.v.call(this,a,b)};Mx.prototype.o=function(a){return a.getId()};Mx.prototype.g=function(a){return Mx.G.g.call(this,a)&&"delete-record"!=a.g};function Nx(a,b,c,d){Q.call(this);this.A=a;this.D=c;this.B=d}B(Nx,Mx);
function Ox(a,b,c){if(a.A.j)Zh(ta(b,[]));else if(eb(a.A.g.objectStoreNames,"Users")){c=mv(a.A,["Users"],"Error reading users.",c);var d=[];qn(Y(c,"Users").get(jn.lowerBound(-Infinity)),z(function(a){if(a=a.target.result){var b=new $v(a.id,!1);Z(b,"managingDomain",a.managingDomain);Z(b,"emailAddress",a.emailAddress);Z(b,"locale",a.locale);Z(b,"optInSecret",a.optInSecret);null!=a.fastTrack&&dt(b,"fastTrack",!!a.fastTrack);null!=a.internal&&dt(b,"internal",!!a.internal);null!=a.optInReasons&&Z(b,"optInReasons",
a.optInReasons);b.o=!1;d=[b]}},a));nv(c,function(){b(d)})}else a.B.log(Error("Reading from uninitialized IDB database.")),Zh(ta(b,[]))}Nx.prototype.Fa=function(a){if(!this.g(a))throw Error("Cannot get object store names for operation type "+a.g);return["Users"]};Nx.prototype.Ja=function(a,b){switch(a.g){case "update-record":var c=Y(b,"Users");a.o?c.add(a.j):jw(this.D,bw(a),a.j,c);break;default:throw Error("Operation type "+a.g+" not supported.");}};function Px(a,b,c,d,e){Yw.call(this);this.X=e;this.D=new X(this);this.o=new Jx;this.g=a;this.D.L(this.g,"R",this.Zi);this.D.L(this.g,"P",this.Jj);this.U=b;this.A=new Dx(this.g,0,this.U,this.X);Zw(this,this.A);this.j=this.te(this.U);Zw(this,this.j);this.B=new bx(this.g,c,d,this.X);this.v=new Nx(a,0,this.o,e);Zw(this,this.v);this.wa=new ax}B(Px,Yw);m=Px.prototype;m.te=function(a){return new yw(this.g,0,this.o,a)};m.Zi=function(){R(this,new Xw)};m.Jj=function(a){R(this,a)};
function lv(a,b){if(Lu(b)){var c=b.A,d=a.C[c]||null;if(!d)throw Error("No capability registered for record type "+c);return d}c=b.g;if("pq-clear"==c||"pq-clear-sent"==c||"pq-clear-sent-bundle"==c||"pq-delete-commands"==c||"pq-mark-sent"==c||"pq-write-commands"==c)return a.A;if("document-lock"==c)return a.B;if("append-commands"==c||"unstage-commands"==c||"write-trix"==c)return a.j;if("update-application-metadata"==c){if(d=a.Zc())return d}else if("append-template-commands"==c&&(d=a.rg()))return d;throw Error("No capability registered for operation type "+
c);}m.Jk=function(a,b){try{this.Yc(b)}catch(c){Zh(ta(a,new en(1,"Failed to initialize database.",c)))}};function Qx(a,b,c){Tv(a.g,a.bd(),z(a.Ik,a,c),un("Error upgrading the database.",c),b)}m.Ik=function(a,b){try{this.gg(b)}catch(c){Zh(ta(a,new en(1,"Failed to upgrade database.",c)))}};m.F=function(){fc(this.D,this.B,this.A,this.j,this.v,this.wa);Px.G.F.call(this)};function Rx(){Q.call(this)}B(Rx,ew);Rx.prototype.j=function(){return["syncObject"]};Rx.prototype.o=function(a){return Kb(a.g.keyPath)};Rx.prototype.g=function(a){return Rx.G.g.call(this,a)&&"update-record"==a.g&&a.o};function Sx(a){Q.call(this);this.B=a}B(Sx,Rx);Sx.prototype.A=function(a){var b=a.data;a=new Yv(!1,a.keyPath,a.state);Z(a,"data",b);a.o=!1;return a};Sx.prototype.Fa=function(){return["SyncObjects"]};Sx.prototype.Ja=function(a,b){switch(a.g){case "update-record":var c=Y(b,"SyncObjects");if(a.o)hv(c,a.j);else throw Error("SyncObject update is not implemented.");break;default:throw Error("Operation type "+a.g+" not supported.");}};function Bt(a){Xv.call(this,"syncStats","syncstats",a);Z(this,"lastSyncedChangestamp",0);Z(this,"syncVersion",0);Z(this,"lastDailyRunTime",0);Z(this,"maxSpaceQuota",0);Z(this,"webfontsSyncVersion",0);Z(this,"lastStartedSyncDocs",[])}B(Bt,Xv);function Tx(a){a=Xs(a,"failedToSyncDocs");return null==a?{}:a};function Ux(){Q.call(this)}B(Ux,ew);Ux.prototype.j=function(){return["syncStats"]};Ux.prototype.o=l(null);Ux.prototype.g=function(a){return Ux.G.g.call(this,a)&&"delete-record"!=a.g};function Vx(a,b){Q.call(this);this.A=a;this.B=b}B(Vx,Ux);
function At(a,b,c){var d=mv(a.A,["ProfileData"],"Error reading syncStats.",c);qn(Y(d,"ProfileData").get("syncstats"),function(a){sn(d);var c=a.target.result;if(c){if("syncstats"!=c.dataType)throw Error("Invalid data type.");a=new Bt(!1);var h=c.docsToDelete;null!=h&&Z(a,"docsToDelete",h);h=c.enabledMimeTypes;null!=h&&Z(a,"enabledMimeTypes",h);h=c.lastLocalStoreProfileTimestamp;null!=h&&Z(a,"lastLocalStoreProfileTimestamp",h);h=c.lastSyncTimestamp;null!=h&&Z(a,"lastSyncTimestamp",h);h=c.lastSyncedChangestamp;
null!=h&&Z(a,"lastSyncedChangestamp",h);h=c.syncStartTimestamp;null!=h&&Z(a,"syncStartTimestamp",h);h=c.syncVersion;null!=h&&Z(a,"syncVersion",h);h=c.failedToSyncDocs;if(null!=h)for(var k in h){var n=h[k],p=a,r=k,u=n.modelSyncFailCount||0,D=n.serverTime,O={};O.count=n.count;O.modelSyncFailCount=u;O.serverTime=D;n=Tx(p);n[r]=O;Z(p,"failedToSyncDocs",n)}k=c.lastDailyRunTime;null!=k&&Z(a,"lastDailyRunTime",k);k=c.maxSpaceQuota;null!=k&&Z(a,"maxSpaceQuota",k);k=c.webfontsSyncVersion;null!=k&&Z(a,"webfontsSyncVersion",
k);k=c.lastStartedSyncDocs;if(null!=k)for(h=0;h<k.length;h++)p=a,O=k[h].timestamp,r={},r.documentId=k[h].documentId,r.timestamp=O,O=et(p,"lastStartedSyncDocs")||[],O.push(r),O.splice(0,O.length-10),Z(p,"lastStartedSyncDocs",O);c=c.relevantDocuments;null!=c&&Z(a,"relevantDocuments",c);a.o=!1;b(a)}else b(null)})}Vx.prototype.Fa=function(){return["ProfileData"]};
Vx.prototype.Ja=function(a,b){switch(a.g){case "update-record":var c=Y(b,"ProfileData");a.o?hv(c,a.j):jw(this.B,"syncstats",a.j,c);break;default:throw Error("Operation type "+a.g+" not supported.");}};function Wx(){Q.call(this)}B(Wx,ew);Wx.prototype.j=function(){return["fontMetadata"]};Wx.prototype.o=function(a){return a.ma()};Wx.prototype.g=function(a){return Wx.G.g.call(this,a)?"update-record"==a.g?a.o:!0:!1};function Xx(a){Q.call(this);this.B=a}B(Xx,Wx);function Ct(a,b,c){c=mv(a.B,["FontMetadata"],"Reading all font metadata",c);rn(c,"FontMetadata",z(a.A,a),function(a){for(var c={},f=0,h;h=a[f];f++)c[h.ma()]=h;b(c)},void 0,void 0,void 0,void 0,void 0,!0)}function Yx(a,b,c,d){if(0==b.length)d({});else{c=Y(c,"FontMetadata");for(var e=b.length,f={},h=0;h<b.length;h++)qn(c.get(b[h]),z(function(a){a.target.result?(a=this.A(a.target.result),f[a.ma()]=a,Db(f).length==e&&d(f)):(e--,0==e&&d(f))},a))}}
Xx.prototype.A=function(a){var b=a.fontFamily,c=a.version;a=a.fontFaces;for(var d=[],e=0,f;f=a[e];e++){for(var h=f.source,k=[],n=0,p;p=h[n];n++)k.push(new Qt(p.format,p.isSystemFont,p.url));d.push(new Rt(f.fontFamily,f.isMenuFont,f.style,f.weight,k))}b=new Ot(b,c,d,!1);b.o=!1;return b};function iu(a,b,c,d){var e=mv(a.B,["FontMetadata"],"Reading font metadata",d);Yx(a,b,e,z(a.D,a,e,b,function(a){sn(e);c(a)},d))}Xx.prototype.D=function(a,b,c,d,e){a=[];d=0;for(var f;f=b[d];d++)a.push(e[f]);c(a)};
Xx.prototype.Fa=function(){return["FontMetadata"]};Xx.prototype.Ja=function(a,b){var c=Y(b,"FontMetadata");switch(a.g){case "update-record":if(a.o)hv(c,a.j);else throw Error("FontMetadata update is not implemented.");break;case "delete-record":on(c,bw(a));break;default:throw Error("Operation type "+a.g+" not supported.");}};function Zx(a,b,c,d,e){Px.call(this,a,b,c,d,e);a=this.g;this.Y=new Qw(0,0,this.o);Zw(this,this.Y);this.M=new Xx(a);Zw(this,this.M);this.J=new Sx(a);Zw(this,this.J);this.Ca=new Ww;this.ga=new vw(a);this.P=new Vx(a,this.o);Zw(this,this.P);this.H=new gw(this.g,0,this.o);Zw(this,this.H);this.O=new Lw(a,0,b,this.o);Zw(this,this.O);this.I=new Tw(a);Zw(this,this.I)}B(Zx,Px);mb("ApplicationMetadata Comments DocumentCommandsMetadataStaging DocumentCommandsMetadata DocumentCommandsStaging DocumentCommands DocumentEntities DocumentLocks Documents FileEntities FontMetadata Impressions NewDocumentIds PendingQueueCommands PendingQueues ProfileData SyncObjects Users".split(" "));
m=Zx.prototype;m.bd=l(6);m.zd=g("H");m.Xb=g("M");m.qg=g("J");m.pg=g("ga");m.Zc=g("O");m.Ee=g("P");m.og=g("I");m.te=function(a){return new yw(this.g,0,this.o,a)};m.oe=l(!1);
m.Yc=function(a){a=a.db;a.createObjectStore("FontMetadata",{keyPath:"fontFamily"});a.createObjectStore("DocumentEntities",{keyPath:"deKey"});a.createObjectStore("SyncObjects",{keyPath:"keyPath"});a.createObjectStore("ProfileData",{keyPath:"dataType"});a.createObjectStore("ApplicationMetadata",{keyPath:"dt"});a.createObjectStore("NewDocumentIds",{keyPath:"dtKey"});a.createObjectStore("Comments",{keyPath:"cmtKey"}).createIndex("StateIndex","stateIndex");a.createObjectStore("Users",{keyPath:"id"});a.createObjectStore("Documents",
{keyPath:"id"});a.createObjectStore("DocumentCommands",{keyPath:"dcKey"});a.createObjectStore("DocumentCommandsStaging",{keyPath:"dcKey"});a.createObjectStore("DocumentCommandsMetadata",{keyPath:"dcmKey"});a.createObjectStore("DocumentCommandsMetadataStaging",{keyPath:"dcmKey"});a.createObjectStore("DocumentLocks",{keyPath:"dlKey"});a.createObjectStore("Impressions",{keyPath:"iKey"});a.createObjectStore("PendingQueues",{keyPath:"docId"});a.createObjectStore("PendingQueueCommands",{keyPath:"pqcKey"});
a.createObjectStore("FileEntities",{keyPath:"id"}).createIndex("DocIdEntityTypeIndex","docIdEntityTypeIndex")};m.F=function(){fc(this.Y,this.M,this.J,this.Ca,this.ga,this.P,this.H,this.O,this.I);Zx.G.F.call(this)};function $x(a,b,c,d,e,f,h,k,n){Vs.call(this,"blobMetadata",n);Z(Z(Z(Z(Z(Z(Z(Z(this,"d",a),"p",b),"u",c),"ou",d),"f",e),"c",f),"s",h),"oc",k);this.j=new U;"failed"==h?this.j.R():c&&this.j.K(c)}B($x,Vs);var ay=["c","oc","ou","u"];$x.prototype.getUrl=function(){return at(this,"u")};$x.prototype.getFileName=function(){return this.g.f};$x.prototype.pa=function(){return this.g.s};function by(a,b){Z(a,"s",b);"failed"!=b||a.j.g||a.j.R()}$x.prototype.Kb=function(){return new Ps(this.g.d,2)};function cy(){Q.call(this)}B(cy,ew);cy.prototype.j=function(){return["blobMetadata"]};cy.prototype.v=function(a){return cy.G.v.call(this,a,ay)};cy.prototype.o=function(a){return[a.g.d,a.g.p]};function dy(a,b,c){Q.call(this);this.A=a;this.D=c}B(dy,cy);dy.prototype.B=function(a){a=new $x(a.d,a.p,a.u||null,a.ou||null,a.f,a.c||null,a.s,a.oc||null,!1);a.o=!1;return a};dy.prototype.Fa=function(){return["BlobMetadata"]};dy.prototype.Ja=function(a,b){var c=Y(b,"BlobMetadata");switch(a.g){case "update-record":a.o?c.add(a.j):jw(this.D,bw(a),a.j,c);break;case "delete-record":on(c,bw(a));break;default:throw Error("Operation type "+a.g+" not supported.");}};function ey(a,b,c,d){yw.call(this,a,0,c,d)}B(ey,yw);ey.prototype.Fa=function(a){var b=ey.G.Fa.call(this,a);"delete-record"==a.g&&b.push("BlobMetadata");return b};ey.prototype.xe=function(a,b){ey.G.xe.call(this,a,b);var c=bw(a);on(Y(b,"BlobMetadata"),[c],[c,[]])};function fy(a,b,c,d,e){Zx.call(this,a,b,c,d,e);this.Z=new dy(this.g,0,this.o);Zw(this,this.Z)}B(fy,Zx);m=fy.prototype;m.bd=l(7);m.De=g("Z");m.te=function(a){return new ey(this.g,0,this.o,a)};m.oe=l(!0);m.Yc=function(a){fy.G.Yc.call(this,a);gy(a)};m.gg=function(a){gy(a)};function gy(a){a.db.createObjectStore("BlobMetadata",{keyPath:["d","p"]})};function hy(a){this.g="offline-oc";this.j=a}B(hy,Tu);hy.prototype.Ra=g("j");function iy(){}iy.prototype.j=function(a){if("offline-oc"!=a.g)throw Error("Invalid Type");return a.Ra()};iy.prototype.g=function(a){return new hy(a)};function jy(a,b,c,d){this.g="append-template-commands";this.v=a;this.B=b;this.A=c;this.C=d}B(jy,Ku);jy.prototype.j=g("B");function ky(a,b){J.call(this);this.g=a;this.o=b}B(ky,J);ky.prototype.j=g("g");function ly(a,b){ky.call(this,a,b);new fv(new Yu(b))}B(ly,ky);function my(a){Q.call(this);this.B=a}B(my,ew);my.prototype.j=function(){return["templateCreationMetadata","templateMetadata"]};my.prototype.o=function(a){return"templateCreationMetadata"==a.A?[a.getId()]:[a.getId()]};my.prototype.v=function(a){var b=my.G.v.call(this,a);if("templateCreationMetadata"==a.A){ny(this,a.j());var c=Ru(a.B());a=a.Ob||0==c.length?[]:[new jy(a.getId(),a.j(),c,!0)];b=b.concat(a)}return b};
function ny(a,b){var c=a.B[b];if(!c)throw Error("No adapter found for this type: "+b);return c}my.prototype.g=function(a){return"append-template-commands"==a.g?!0:my.G.g.call(this,a)};function oy(a,b,c){my.call(this,c);this.A=new Jx}B(oy,my);oy.prototype.Fa=function(){return["TemplateCommands","TemplateCreationMetadata","TemplateMetadata"]};
oy.prototype.Ja=function(a,b){var c=a.A,d=null;switch(c){case "templateMetadata":d="TemplateMetadata";break;case "templateCreationMetadata":d="TemplateCreationMetadata";break;default:throw Error("Record type "+c+" not supported.");}c=Y(b,d);switch(a.g){case "update-record":a.o?hv(c,a.j):jw(this.A,bw(a),a.j,c);break;case "delete-record":on(c,bw(a));break;case "append-template-commands":c=ny(this,a.j());switch(a.g){case "append-template-commands":d=Y(b,"TemplateCommands");a.C&&on(d,[a.v],ev(a.v));for(var e=
a.A,f=0;f<e.length;++f){for(var h=c,k=d,n=a.v,p=e[f],r=p.La(),u=[],D=0;D<r.length;++D)u.push(h.o.j(r[D]));h=dv(n,p.o,p.g,p.j,p.v,u);hv(k,h.g)}break;default:throw Error("Unsupported operation type "+a.g);}break;default:throw Error("Operation type "+a.g+" not supported.");}};function py(a,b,c,d,e,f){fy.call(this,a,b,d,e,f);a=["kix","punch","ritz"];if(!c)for(c={},b=new iy,d=0;d<a.length;d++)c[a[d]]=new ly(a[d],b);this.ha=new oy(0,0,c);Zw(this,this.ha)}B(py,fy);m=py.prototype;m.bd=l(8);m.rg=g("ha");m.oe=l(!0);m.Yc=function(a){py.G.Yc.call(this,a);qy(a)};m.gg=function(a){qy(a)};
function qy(a){a=a.db;a.createObjectStore("TemplateMetadata",{keyPath:["id"]});a.createObjectStore("TemplateCreationMetadata",{keyPath:["id"]});a.createObjectStore("TemplateCommands",{keyPath:"dcKey"})};function ry(a,b,c,d,e,f,h,k,n){Q.call(this);this.A=a;this.D=b;this.C=c;this.J=d;this.P=e;this.H=f;this.M=h;this.O=!!k;this.j=n||null;this.g={};this.v={};this.B=-1;this.o=new U;this.I=!1}B(ry,Q);function sy(a,b){var c=b.bd();a.B=Math.max(a.B,c);a.g[c]=b}m=ry.prototype;
m.create=function(a,b){if(this.I)throw Error("The create method can be called only once.");this.I=!0;if(isNaN(this.H))throw Error("Cannot have the target schema version be NaN.");if(this.j)this.yh(this.j);else{if(!bn)throw Error("Cannot create storage adapters for unsupported browser");Vv(z(this.yh,this),a,this.A,z(this.Kj,this),this.O,b)}return this.o};m.Kj=function(a){this.o.R(a);ty(this)};
m.yh=function(a){this.j=a;if(this.J)for(var b=this.J(a),c=0;c<b.length;c++)for(var d=b[c],e=d.Gg(),f=d.Fg(),h=d.j();e<=f;++e){var k=this.v[e];k||(k=this.v[e]={});k[h]=d}-1==this.B&&(sy(this,new Zx(a,this.v[6]||{},this.D,this.C,this.A)),sy(this,new fy(a,this.v[7]||{},this.D,this.C,this.A)),sy(this,new py(a,this.v[8]||{},null,this.D,this.C,this.A)));this.P?(a=uy(this),b=Math.min(this.H,this.B),a>=b?(a=this.g[a])?Ox(a.v,z(this.Pd,this),z(this.$g,this)):this.Pd([]):vy(this,a,b)?(a=this.g[a]||this.g[a+
1],Ox(a.v,z(this.Pd,this),z(this.$g,this))):this.Pd([])):wy(this,null)};m.Pd=function(a){0==a.length?(this.j&&this.j.close(),this.o.K(new ov(null))):1<a.length?(Mn(this.A,Error("More than one user in local storage")),this.j&&this.j.close(),this.o.K(new ov(null))):wy(this,a[0])};m.$g=function(a){this.o.g||(this.o.R(a),ty(this))};
function wy(a,b){var c=Math.min(a.H,a.B),d=uy(a);if(!a.M&&0>=d)a.o.R(new en(4,"Schema initialization cannot be performed when schema updates are prevented.")),ty(a);else if(!a.M||d>=c)a.Je();else if(vy(a,d,c)){var d=d+1,e=z(a.Je,a,null),f=z(a.Nk,a);Qx(a.g[d],z(a.Zf,a,d,c,e,f),f)}else{c=a.g[c];d=z(a.Je,a,b);e=z(a.Bj,a);f=c.bd();if(Sv(c.g)>=f)throw Error("Database already at expected version.");Tv(c.g,f,z(c.Jk,c,e),un("Error initializing the database.",e),d)}}m.Nk=function(a){this.o.R(a);ty(this)};
m.Bj=function(a){this.o.R(a);ty(this)};function vy(a,b,c){for(b+=1;b<=c;++b)if(null==a.g[b]||!a.g[b].oe())return!1;return!0}m.Zf=function(a,b,c,d){a=uy(this);a==b?c():(a=a+1,Qx(this.g[a],z(this.Zf,this,a,b,c,d),d))};m.Je=function(){var a=uy(this),a=new jv(this.g[a]);K(a,this.j);for(var b in this.g)K(a,this.g[b]);for(b in this.v){var c=this.v[b],d;for(d in c)K(a,c[d])}this.o.K(new ov(a))};
function uy(a){var b=a.j?Sv(a.j):-1;1<b&&6>b&&Mn(a.A,Error("IDB version less than the minimum. version: "+b));return 6>b?-1:b}function ty(a){for(var b in a.g)a.g[b].W();for(b in a.v){var c=a.v[b],d;for(d in c)c[d].W()}L(a.j)};function xy(){Zu.call(this,"syncstats")}B(xy,Zu);m=xy.prototype;m.Gg=l(2);m.Fg=l(4);m.lg=function(a){return new Du(a,this.j(),!0)};m.ng=aa();m.mg=function(){return[]};m.sg=w;function yy(){}yy.prototype.g=function(a,b,c,d){a=c.url;var e=Nd(q.location.href);Nd(a)!=e&&(a=[a,"&","cb"],null!=e&&a.push("=",encodeURIComponent(String(e))),a=Pd(a));c=c.entityType;d[b]=new Tt(b,a,c,"image"==c)};function zy(a,b){var c=null,d=null;if(a.match("^data:")){c=a.split(",",2);d=c[0].split(";");if(!d||2>d.length||"base64"!=d[d.length-1])return yg(Error("data URIs must be base64-encoded: "+a));d=d[0].split(":");d=2==d.length?d[1]:null;if(!d)return yg(Error("data URIs must have mime type: "+a));c=c[1]}if(c&&d){for(var c=q.atob(c),e=new Uint8Array(c.length),f=0;f<c.length;f++)e[f]=c.charCodeAt(f);return xg(new Blob([e],{type:d}))}c=new U;d=b?b():new hi;se(d,"complete",ta(Ay,c));d.A=Math.max(0,2E4);d.B=
"blob";d.send(a,"GET");return c}function Ay(a,b){var c=b.target,d=null,e=null;if(c.fc()){if(d=ui(c),null==d||0==d.size)e=Error("Invalid Blob response for URL "+String(c.D))}else e=Error(y(c.o)?c.o:String(c.o));e?a.R(e):a.K(d);c.W()};function By(a,b,c,d){J.call(this);this.j=b||null;this.v=c||"docs";this.o=t(d)?d:q.PERSISTENT;this.g=a}B(By,wu);m=By.prototype;m.xb=null;function Cy(a,b,c){var d=new xv(z(a.Kk,a,"initialize"),3E4,document);yv(d);V(rg(Dy(a),function(){d.W()}),z(a.Yj,a,b,c),z(a.$e,a,c,"initialize"))}function Dy(a){switch(a.o){case q.PERSISTENT:return Kl(1);case q.TEMPORARY:return Kl(0);default:throw Error("Cannot handle Filesystem type: "+a.o);}}m.$e=function(a,b,c){b=Ey(b,c);Mn(this.g,b);a(b)};
m.fb=function(a,b,c,d){a=Ey(a,d);c&&eb(c,d.name)||Mn(this.g,a);this.j&&this.j(a);b(a)};m.ah=function(a,b,c,d){(b=b.getError())?this.fb(a,c,null,b):d()};m.Kk=function(a,b){var c={requestTimeout:3E4};c.timeoutDelays=b.g.concat().toString();Mn(this.g,Error("Filesystem slowness, took 30000ms during "+a),c)};function Ey(a,b){return new zu("Filesystem error ("+b.name+") during "+a,"QuotaExceededError"==b.name?"QuotaExceeded":"Other")}
m.Yj=function(a,b,c){V(Fl(new Bl(c,c.g.root),this.v,2),ta(this.Oj,a,b),ta(this.$e,b,"handleFileSystemAvailable_"),this)};m.Oj=function(a,b,c){this.xb=c;V(Cl(c,"__initcheck",2),a,z(this.$e,this,b,"handleDirectoryEntryAvailable_"))};function vu(a,b){var c=a.join("/");c&&(c+="/");b&&(c+=b);return c}m.Lf=function(a,b,c,d,e,f){if(0==b.length)V(zy(c),z(this.Ui,this,a,d,e),e);else{var h=b.shift();a=z(this.Lf,this,a,b,c,d,e);V(Fl(f||this.xb,h,2),a,z(this.fb,this,"addFileToDirectory_",e,null))}};
m.Ui=function(a,b,c,d){b=z(this.rm,this,d,b,c);V(Cl(this.xb,a,2),b,z(this.fb,this,"handleBlobReady_",c,null))};m.rm=function(a,b,c,d){V(Il(d),z(this.Di,this,a,b,c,d.g.toURL(void 0)),z(this.fb,this,"writeDataToFile_",c,null))};m.Di=function(a,b,c,d,e){a=z(this.sm,this,a,b,c,d,e);c=z(this.ah,this,"clearAndWriteDataToWriter_",e,c,a);e.Za.add("writeend",c,!0,void 0,void 0);try{e.o.truncate(0)}catch(f){throw new tl(f,"truncating file");}};
m.sm=function(a,b,c,d,e){b=z(this.ah,this,"writeDataToWriter_",e,c,ta(b,d));e.Za.add("writeend",b,!0,void 0,void 0);e.write(a)};m.Rk=function(a,b,c){"NotFoundError"==c.name?b():this.fb(a,b,null,c)};m.zi=function(a,b){V(Al(b),z(function(c){0<c.size?a(b.g.toURL(void 0)):(Mn(this.g,Error("Found a zero byte file:"+b.getName())),a(null))},this),z(this.fb,this,"callWithUrlFromFileEntry_",ta(a,!1),null))};
function It(a,b,c,d){var e="getDirectoryContents of directory ["+b+"]";V(Fl(a.xb,vu(b)),z(a.ij,a,c,d),z(a.fb,a,e,function(){d(null)},["NotFoundError"]))}m.ij=function(a,b,c){V(Gl(c),z(this.Pj,this,a,b),z(this.fb,this,"getDirectoryContents_",function(){b(null)},null))};m.Pj=function(a,b,c){for(var d=[],e=0;e<c.length;e++){var f=c[e];("all"==a||"file"==a&&f.g.isFile||"directory"==a&&f.g.isDirectory)&&d.push(f.getName())}b(d)};
m.df=function(a,b,c){"NotFoundError"==c.name?a():this.fb("handleRemoveFileFailed_",b,null,c)};m.zh=function(a,b,c){V(c.remove(),a,z(this.fb,this,"removeFileEntry_",b,null))};m.Vl=function(a,b,c){V(Hl(c),a,z(this.fb,this,"removeDirectory_",b,null))};m.F=function(){By.G.F.call(this);delete this.xb};function Fy(a,b,c,d,e){J.call(this);this.g=a;this.j=b;this.B=d;this.C=e;this.v={};this.o=c;this.A=Bb(this.j)}B(Fy,J);m=Fy.prototype;m.Mh=0;m.vd=0;m.we=0;m.dg=0;m.Xc=0;m.Yl=function(a){if(a){for(var b=[],c=0;c<a.length;c++){var d=a[c];this.j[d.id]||b.push(d)}if(b.length)for(this.we+=b.length,a=0;a<b.length;a++){var c=b[a],d=this.g,e=z(this.fj,this),f=z(this.ej,this);V(Cl(d.xb,vu(c.g,c.id)),z(d.zh,d,e,f),z(d.df,d,e,f))}}Gy(this)};
function Gy(a){if(0==a.A)Hy(a);else{var b=Ri(Vi(),"docs-localstore-sefr"),c;for(c in a.j){var d=a.j[c];if(d.j)if(b&&d.v){var e=a.g,f=z(a.Xj,a,c,d);V(Cl(e.xb,vu(a.o.concat(d.g),c)),z(e.zi,e,f),z(e.Rk,e,"getFileUrl",ta(f,null)))}else Iy(a,c,d);else a.Ie(c,null)}}}m.Xj=function(a,b,c){c?this.Ie(a,c):Iy(this,a,b)};function Iy(a,b,c){var d=a.o.concat(c.g),e=z(a.Ie,a,b),f=z(a.gj,a);a.g.Lf(vu(d,b),d.concat(),c.j,e,f)}m.Ie=function(a,b){this.v[a]=b;this.Mh++;Hy(this)};m.gj=function(){this.vd++;Hy(this)};
m.fj=function(){this.dg++;Hy(this)};m.ej=function(){this.Xc++;Hy(this)};function Hy(a){var b=a.dg+a.Xc;a.A==a.Mh+a.vd&&a.we==b&&a.C(a)}m.F=function(){Fy.G.F.call(this);delete this.g;delete this.j};function Jy(a){this.j=a}Jy.prototype.g=function(a,b,c,d){a=new Fy(this.j,a,b,c,d);a.B?xu(a.g,a.o,z(a.Yl,a)):Gy(a)};function Ky(a){this.g=a}function Ly(a,b,c,d){function e(a){d("Could not remove metadata files for "+b+": "+a)}V(a.g,function(a){V(Fl(a.xb,vu(["documents",b])),z(a.Vl,a,c,e),z(a.df,a,c,e))},e)}function My(a,b,c,d){V(a.g,z(function(a){It(a,["documents"],"directory",z(function(a){a&&0!=a.length?Ny(this,b,z(function(b){var e=new mu(a);su(e,b);b=e.ia();0==b.length?c():this.j(b,c,d)},this),d):c()},this))},a),d)}
function Ny(a,b,c,d){Oy(b,z(function(a){Dt(b.$.j,a,function(a){for(var b=[],d=0;d<a.length;d++)b.push(a[d].getId());c(b)},function(){d("Could not read documents for user: "+a)})},a),d)}function Oy(a,b,c){Ox(a.$.v,function(a){1==a.length?b(a[0].getId()):c("There should be exactly 1 user.")},function(){c("Could not read users from storage.")})}Ky.prototype.j=function(a,b,c){if(0==a.length)b();else{var d=a.pop(),e=z(this.j,this,a,b,c);Ly(this,d,e,function(){e()})}};function Py(a){this.g=a};function Qy(){this.o=[];this.j=null}ga(Qy);Qy.prototype.g=function(a,b,c,d){this.j?this.j.g(a,b,c,d):this.o.push(z(this.g,this,a,b,c,d))};function Ry(a){this.g=a}Ry.prototype.j=function(){return["fontFamilies"]};Ry.prototype.vh=function(a,b){var c=new U,d=b.fontFamilies;if(d&&d.length){d=tb(d);ft(a,"startupHints","fontFamilies",d);var d=this.g,e=z(c.K,c),f=z(c.R,c)||w,h;var k=(Xs(a,"startupHints")||{}).fontFamilies;try{h=k?rb(k):[]}catch(n){h=[]}h.length?V(d.fetch(h),e,f):e()}else c.K();return c};function Sy(a){this.g=a}Sy.prototype.j=g("g");Sy.prototype.vh=function(a,b){for(var c=0;c<this.g.length;c++){var d=this.g[c];null!=b[d]&&ft(a,"startupHints",d,b[d])}return xg()};function Ty(a){this.g={};for(var b=0;b<a.length;b++)for(var c=a[b],d=c.j(),e=0;e<d.length;e++){var f=d[e];if(this.g[f])throw Error("Key "+f+" registered in multiple StartupHintProcessors");this.g[f]=c}}function Uy(a,b,c){var d=[],e;for(e in c)if(a.g[e]){var f={};f[e]=c[e];f=a.g[e].vh(b,f);d.push(f)}return wn(d)};function Vy(a){this.g=a.concat()}Vy.prototype.fetch=function(a){a=a.concat();var b=new U,c=[];V(this.g[0].fetch(a),z(this.o,this,a,c,b,0),z(this.j,this,a,c,b,0));return b};Vy.prototype.o=function(a,b,c,d,e){var f=e.g;e={};for(var h=0;h<f.length;h++)e[Lt(f[h].getId())]=f[h];b=b.concat(f);for(f=0;f<a.length;f++)Lt(a[f].getId())in e&&(Array.prototype.splice.call(a,f,1),f--);0==a.length?c.K(new ju(b,[])):this.j(a,b,c,d)};
Vy.prototype.j=function(a,b,c,d){if(d==this.g.length-1){d=[];for(var e=0;e<a.length;e++)d.push(a[e].getId());c.K(new ju(b,d))}else V(this.g[d+1].fetch(a),z(this.o,this,a,b,c,d+1),z(this.j,this,a,b,c,d+1))};function Wy(a){this.o=a;this.g=null;this.j=[];this.o.T(this.v,this)}Wy.prototype.v=function(a){this.g=a;for(a=0;a<this.j.length;a++){var b=this.j[a];sg(this.fetch(b.j),b.g)}};Wy.prototype.fetch=function(a){if(!this.o.g){var b=new U;this.j.push(new Xy(b,a));return b}return this.g?this.g.fetch(a):(b=new U,b.R(),b)};function Xy(a,b){this.g=a;this.j=b};function Yy(a){this.g=a}Yy.prototype.fetch=function(a){for(var b=[],c=0;c<a.length;c++)b.push(this.g.fetch(a[c]));var d=new U;(new vn(b)).T(function(b){for(var c=[],h=[],k=0;k<b.length;k++){var n=a[k].getId();b[k][0]?c.push(b[k][1]):h.push(n)}d.K(new ju(c,h))});return d};function Zy(a){var b=new U;a.T(function(a){null==a?b.K(null):b.K(new Yy(a))});return new Wy(b)};function $y(a,b){this.A=a;this.o=null;this.v=b;this.g={};this.j=[];this.v.T(this.pk,this)}m=$y.prototype;m.pk=function(a){this.o=a;a=this.j;this.j=[];az(this,a)};m.Vj=function(a){var b=a.g;a=a.j;a.length&&this.Ge(0,a);a=[];for(var c=0;c<b.length;c++){var d=b[c];switch(d.g){case "sync-needed":a.push(d);break;case "sync-needed-non-blocking":a.push(d);this.Xd(d);break;case "sync-not-needed":this.Xd(d)}}az(this,a)};
function az(a,b){if(a.v.g)if(a.o)for(f=0;f<b.length;f++){var c=b[f],d=a.o.Wa(c),e;"sync-needed"==c.g?(e=z(a.Xd,a),c=z(a.Ge,a,"Local syncing of remote resource failed",[c.getId()])):(e=w,c=z(a.Uk,a,"Local non-blocking syncing of remote resource failed",[c.getId()]));V(d,e,c)}else for(var f=0;f<b.length;f++){var c=b[f];"sync-needed"==c.g&&a.Xd(b[f])}else a.j=a.j.concat(b)}m.Xd=function(a){var b=Lt(a.getId()),c=this.g[b];delete this.g[b];c.K(a)};
m.Jl=function(a,b){for(var c={},d={},e=0;e<b.length;e++){var f=b[e];f[0]?(f=f[1],c[Lt(f.getId())]=f):(f=f[1],d[Lt(f)]=f)}a.K(new ju(Cb(c),Cb(d)))};m.Uk=ba();m.Ge=function(a,b){for(var c=0;c<b.length;c++){var d=Lt(b[c]),e=this.g[d];delete this.g[d];e.R(b[c])}};function bz(){}bz.prototype.g=w;function cz(a){this.g=void 0;this.xa={};if(a){var b=rf(a);a=qf(a);for(var c=0;c<b.length;c++)dz(this,b[c],a[c],!1)}}m=cz.prototype;m.add=function(a,b){dz(this,a,b,!0)};function dz(a,b,c,d){for(var e=0;e<b.length;e++){var f=b.charAt(e);a.xa[f]||(a.xa[f]=new cz);a=a.xa[f]}if(d&&void 0!==a.g)throw Error('The collection already contains the key "'+b+'"');a.g=c}m.get=function(a){a:{for(var b=this,c=0;c<a.length;c++)if(b=b.xa[a.charAt(c)],!b){a=void 0;break a}a=b}return a?a.g:void 0};
m.ia=function(){var a=[];ez(this,a);return a};function ez(a,b){void 0!==a.g&&b.push(a.g);for(var c in a.xa)ez(a.xa[c],b)}m.Ea=function(a){var b=[];if(a){for(var c=this,d=0;d<a.length;d++){var e=a.charAt(d);if(!c.xa[e])return[];c=c.xa[e]}fz(c,a,b)}else fz(this,"",b);return b};function fz(a,b,c){void 0!==a.g&&c.push(b);for(var d in a.xa)fz(a.xa[d],b+d,c)}m.Sb=function(a){if(this.g===a)return!0;for(var b in this.xa)if(this.xa[b].Sb(a))return!0;return!1};m.clear=function(){this.xa={};this.g=void 0};
m.remove=function(a){for(var b=this,c=[],d=0;d<a.length;d++){var e=a.charAt(d);if(!b.xa[e])throw Error('The collection does not have the key "'+a+'"');c.push([b,e]);b=b.xa[e]}a=b.g;for(delete b.g;0<c.length;)if(e=c.pop(),b=e[0],e=e[1],b.xa[e].ya())delete b.xa[e];else break;return a};m.clone=function(){return new cz(this)};m.fa=function(){return pf(this.ia())};m.ya=function(){return void 0===this.g&&Ib(this.xa)};function gz(a,b,c){this.g=a;this.o=b;this.j=c}gz.prototype.write=function(a,b,c){if(this.g.g){for(var d=[],e=0;e<a.length;e++){var f=a[e],h=new Yv(!0,f.g,f.o),k=h;a:switch(f.g[0]){case "syncMap":f=f.j;break a;default:throw Error("Unsupported sync object type: "+f.g[0]);}Z(k,"data",f);d.push(h)}this.g.write(d,b,c)}};
gz.prototype.v=function(a,b){for(var c=[],d=0;d<b.length;d++){var e=b[d],f=Kb(e.g.keyPath)[0];switch(f){case "syncMap":c.push(new cu(Kb(e.g.keyPath),Zv(e),e.getData()));break;default:this.j.log(Error("Unsupported sync object type in database: "+f))}}a(c)};function hz(a,b){this.A=a;this.o=null;this.j=new cz;this.g=new U;this.C=new Zt;this.v=!b;if(b){for(var c=[],d=0;d<b.length;d++){var e=this.C.g(b[d]);c.push(iz(this,e))}this.g.K()}}hz.prototype.get=function(a){var b=[];a=this.j.Ea(jz(a));for(var c=0;c<a.length;c++)b.push(this.j.get(a[c]));return b};function iz(a,b){var c=b.g[0];switch(c){case "syncMap":var c=b.g,d=new cu(c,b.j,b.o);dz(a.j,jz(c),d,!1);return d;default:throw Error("Unknown sync object type: "+c);}}
function jz(a){return 0<a.length?a.join("|")+"|":""}hz.prototype.B=function(a){for(var b=0;b<a.length;b++){var c=a[b];dz(this.j,jz(c.g),c,!1)}this.g.K()};function kz(){}kz.prototype.Wa=function(a,b,c,d,e,f){var h=new J,k={};a=new ht(b,c,a);K(h,a);k.storage=a;k.so=!0;k.kd=d;d={};k.listeners=d;d["sync-success"]=function(){e();L(h)};d["sync-error"]=function(){f();L(h)};k=new Hs(k);ec(h,ta(L,k))};function lz(a,b,c,d){this.v=a;this.B=b;this.A=c;this.o=d;this.j={};this.g={}}function mz(a,b){var c,d=[],e=[];for(c=0;c<b.length;c++){var f=b[c];if(a.j[f])e.push(xg(f));else if(1==a.A.j.g.g)if(0==f.indexOf("PLACEHOLDER_"))e.push(yg(null));else{var h=new U;e.push(h);a.g[f]?a.g[f].push(h):(d.push(f),a.g[f]=[h])}else e.push(yg(null))}0<d.length&&(c=a.v,f=a.B,h={},h.photo=d,h=Ud(h),c=ll(po(f,"/copyimages").o("id",c),h),t(a.o)&&ol(c,a.o),ql(nl(pl(c,z(a.D,a)),z(a.N,a,d))));return(new vn(e)).T(a.C,a)}
lz.prototype.C=function(a){for(var b={},c=0;c<a.length;c++)if(a[c][0]&&a[c][1]){var d=a[c][1];b[d]=this.j[d]}return b};lz.prototype.D=function(a){a=a.Ra();for(var b in a){this.j[b]=a[b];for(var c=this.g[b],d=0;d<c.length;d++)c[d].K(b);delete this.g[b]}};lz.prototype.N=function(a){for(var b=0;b<a.length;b++){for(var c=a[b],d=this.g[c],e=0;e<d.length;e++)d[e].R();delete this.g[c]}};function nz(a,b,c){J.call(this);this.Vg=a;this.J=Ti(Vi(),"jobset");this.I=Ri(Vi(),"fatra");this.Y=null;this.Z=void 0;this.Xa=this.M=null;this.O=b||null;this.P=this.bh=this.ha=this.C=this.o=null;this.ga=0;this.v=null;this.vc=!1;this.B=this.A=this.g=this.wa=this.X=null;this.kb=this.mb=!1;this.Ca=new U;a=c||[];for(b=0;b<a.length;b++)tg(this.Ca,a[b]);this.Ca.T(z(this.em,this))}B(nz,J);
function oz(a,b){var c=new U;if(!a.g)return c.K(!0),c;if(a.mb)return a.Ff(c,!!b,!0),c;a.P&&(Z(a.g,"title",a.P),a.P=null);0<a.ga&&(Hu(a.g,a.ga),a.ga=0);a.J&&(Z(a.g,"jobset",a.J),a.J=null);null!=a.I&&(dt(a.g,"isFastTrack",a.I),a.I=null);var d=a.g;if(d.pb()){var e=A();Z(d,"lastSyncedTimestamp",e)}a.v&&(Iu(a.g,a.v),a.v=null);null!=a.X&&(dt(a.g,"inc",!a.X),a.X=null);null!=a.Y&&(dt(a.g,"ips",a.Y),a.Y=null);t(a.Z)&&(kt(a.g,a.Z),a.Z=void 0);null!=a.wa&&(dt(a.g,"hpmdo",a.wa),a.wa=null);null!==a.M&&(Ju(a.g,
a.M),a.M=null);(d=a.g)&&bt(d)&&a.D?(Z(d,"ic",a.D),a.D=null):d&&(a.D=null);null!==a.U&&(dt(a.g,"ind",!a.U),a.U=null);a.kb&&null!==a.Tc&&(dt(a.g,"modelNeedsResync",a.Tc),a.Tc=null);d=a.o&&a.o.g;a.Ff(c,!!b);a.O&&a.C&&!a.o&&(a.o=Uy(a.O,a.g,a.C),a.C=null);a.o&&!d&&(d=new U,tg(c,d),rg(a.o,ff(z(a.Ff,a,d,!!b))));a.vc&&((d=a.A.$.zd())&&Kx(d.A,a.Vg),a.vc=!1);return c}m=nz.prototype;
m.Ff=function(a,b,c){var d=[];c||d.push(this.g);this.B&&(qx(this.B),d.push(this.B));b=b?z(a.R,a):this.bh||void 0;a=c?z(a.K,a):z(this.Xk,this,a,b);this.A.write(d,a,b)};m.Xk=function(a,b){if(this.ha){var c=this.ha;this.ha=null;this.A.write(c,z(a.K,a,!0),b)}else a.K(!0)};m.aa=g("Vg");
m.em=function(){var a=this.g;Qu(this.j,a.j);L(this.j);this.j=a.j;this.Dg&&(a.gf&&(a.wc=!0),dt(a,"hpmdo",!1),this.Dg=!1);if(null!==this.Ia){var b=this.Xa.getId();ft(a,"acl",b,this.Ia);this.Ia=null}null===this.H||pz(this,this.H,this.Cd);this.rc&&(b=this.rc,b.A=this.A,b.g=a,b.Xa=void 0,b.Ca.K(!0));this.kb=!0;return oz(this)};m.ye=function(){this.mb=!0;this.v=null};function qz(a){a.g?(dt(a.g,"inc",!1),a.X=null):a.X=!0}function rz(a,b){a.g?(dt(a.g,"ips",b),a.Y=null):a.Y=b}
function sz(a){a.g?dt(a.g,"hpmdo",!1):a.wa=!1};function tz(a,b,c,d,e){this.lb=new U;this.D=null;d=(d||[]).concat();d.push(this.lb);nz.call(this,b,c,d);this.xc=a;this.j=new Pu;this.rc=e||null;this.Tc=this.U=this.Cd=this.H=this.Ia=null}B(tz,nz);tz.prototype.Dg=!1;tz.prototype.ye=function(){tz.G.ye.call(this);this.g||L(this.j);this.j=this.D=null};function pz(a,b,c){a=a.g;Ri(Vi(),"docs-offline-edrr2")?Gu(a,b,c):Gu(a,null,null)}tz.prototype.F=function(){this.g||L(this.j);tz.G.F.call(this)};function uz(a,b,c,d,e){vz(b,{url:a},a||"",c,d,e)}function vz(a,b,c,d,e,f){ql(pl(ml(po(d,"/createphoto").o("id",a),b),function(a){var b=a.Ra();if(a=b.imageError){a:switch(a){case 2:case 3:b="The selected image is too large.";break a;case 4:case 5:case 6:case 7:case 8:b="The selected image is in an unsupported format.";break a;default:b="There was a problem retrieving the specified image."}f(c,a,b)}else e(c,b.imageId,b.width,b.height,void 0)}))};function wz(a){M.call(this,"U");this.o=a}B(wz,M);function xz(a,b,c,d,e,f){this.B=a;this.g={};this.j=new X(this);this.j.L(a,"U",this.sk);this.o=b;this.J=c;this.C=d;this.v=e;this.A=f}B(xz,J);m=xz.prototype;m.F=function(){L(this.j);xz.G.F.call(this)};function yz(a,b){var c=b.g.p;if(a.g[c])throw Error("Attempted to re-transport blob");var d=new U,e=new Ok(z(a.km,a,b),1E3,9E5,a.A);a.g[c]=new zz(d,e);rg(d,ff(z(a.bj,a,c)));1==a.B.j.g.g&&Pk(e,!1,!1);return d}
m.km=function(a){var b=a.g.p,c=this.g[b];if(c.active)throw Error("Tried to transport blob that is currently being transported: "+b);c.active=!0;var d=at(a,"oc");if(d)mz(this.o,[d]).T(function(a){a[d]?c.g.K(a[d]):c.g.R(Error("unknown"))});else{var e=at(a,"ou");a.getUrl()||e?!e||0!=e.indexOf("http://")&&0!=e.indexOf("https://")?qg(Az(this,a).T(z(this.Dj,this,b)),z(this.Cj,this,b)):uz(e,this.J,this.C,z(this.Dk,this,b,c.g),z(this.Ck,this,b,c.g)):c.g.R(Error("nonexistentImageUrl"))}};
m.bj=function(a){var b=this.g[a];if(!b)throw Error("Attempted to cleanup an unknown blob: "+a);b.j.W();delete this.g[a]};m.Dk=function(a,b,c,d){b.K(d)};m.Ck=function(a,b,c,d){Mn(this.v,Error("Create photo failed with error: "+d));b.R(Error("createPhoto"))};m.Dj=function(a,b){this.g[a].g.K(b)};m.Cj=function(a,b){var c=this.g[a];"connectionError"==b.message?(c.active=!1,Pk(c.j,!1,!0)):c.g.R(b)};m.sk=function(a){for(var b in this.g){var c=this.g[b];a.o?c.active||Pk(c.j,!0,!1):Mk(c.j.g)}};
function zz(a,b){this.g=a;this.j=b;this.active=!1};function Bz(a){if(q.JSON)try{return q.JSON.stringify(a)}catch(b){}return tb(a)};function Cz(a,b,c){a={protocolVersion:"0.8",createSessionRequest:{fields:[{external:{name:"file",filename:a}}]}};var d=a.createSessionRequest.fields,e=d[0].external;null!=b&&(e.size=b);zb(c,function(a,b){d.push({inlined:{name:b,content:a,contentType:"text/plain"}})});return Bz(a)}
function Dz(a){var b=a;if("string"==typeof a)a:{if(q.JSON)try{var c=q.JSON.parse(a),b=c;break a}catch(d){}b=c=rb(a)}try{return b.sessionStatus?b=b.sessionStatus:b.errorMessage&&(b=b.errorMessage),b.additionalInfo["uploader_service.GoogleRupioAdditionalInfo"].completionInfo}catch(d){}};function Ez(a,b,c){J.call(this);this.H=a;this.A=b;this.D=c;this.j={};this.g=[];this.o=null;this.v=new X(this);this.B=new Hm(new Im(2E3))}B(Ez,J);Ez.prototype.upload=function(a,b){var c=new U,d=new Fz(a,b,c);this.o?this.g.push(d):Gz(this,d);return c};
function Gz(a,b){a.o=b;var c=a.B,d=b.fileName,e=new Wl(b.j,d);e.j=!0;e=zm(c.g.g,e);d=new Am(d,0,e);R(c,new Gm);Xi(Xi(a.v,d,"v",a.C),d,"w",a.I);c=Ak.ba().g.g;c=Aa(Ra(c))?a.A:Wd(a.A,{authuser:c});d.B=c;d.A="POST";var c=b.j,e=b.fileName,f={};f.containingCosmoId=a.H;a.D&&(f.parentCosmoId=a.D);c=Cz(e,c.size,f);d.v=c;d.C=!0;a.j[d.H]=b;Em(d)}
Ez.prototype.C=function(a,b){var c=a.item,d=c.H,e=this.j[d];if(!e)throw Error("No internal representation found for uploaded file.");var f=c.oa(),h;h=(h=Dz(f))?h.status:"UNKNOWN";f=(f=Dz(f))?f.customerSpecificInfo:void 0;if(a instanceof Dm&&a.ff)e.g.R(Error("connectionError"));else if(f)if(b||"SUCCESS"!=h){var k;switch(h){case "FAILURE":k="scottyError";break;case "REJECTED":k=f&&"anonymous_user"==f.type?"invalidAuth":"scottyReject";break;case "UNKNOWN":case "QUEUED":case "CANCELLED":case "SUCCESS":k=
"unknown"}e.g.R(Error(k))}else e.g.K(f);else e.g.R(Error("invalidResponse"));L(c);delete this.j[d];this.o=null;this.g&&0!=this.g.length&&Gz(this,this.g.shift())};Ez.prototype.I=function(a){this.C(a,!0)};Ez.prototype.F=function(){Ez.G.F.call(this);fc(this.v,this.B)};function Fz(a,b,c){this.j=a;this.fileName=b;this.g=c};function Hz(a,b,c,d,e,f,h){xz.call(this,b,c,d,e,f);this.O=a;this.D=h}B(Hz,xz);function Az(a,b){var c=b.getUrl()||at(b,"ou"),d=b.getFileName();return V(zy(c,a.D).Vc(),z(a.H,a,d),z(a.M,a))}Hz.prototype.H=function(a,b){return this.O.upload(b,a).Vc().T(this.I,this)};Hz.prototype.M=function(){return Error("fileNotFound")};Hz.prototype.I=function(a){return a.id};function Iz(a){Q.call(this);this.g=new X(this);this.j=a;this.g.L(a,"H",this.o)}B(Iz,Q);Iz.prototype.o=function(a){1==a.A.g!=(1==a.o.g)&&R(this,new wz(1==a.o.g))};Iz.prototype.F=function(){L(this.g);Iz.G.F.call(this)};function Jz(a,b,c){this.g=a;this.j=t(b)?b:0;this.o=t(c)?c:""};function Kz(){M.call(this,"W")}B(Kz,M);function Lz(){M.call(this,"Z")}B(Lz,M);function Mz(){M.call(this,"$")}B(Mz,M);function Nz(){Q.call(this)}B(Nz,Q);function Oz(){M.call(this,"X")}B(Oz,M);function Pz(a,b){M.call(this,"ba");this.Wb=a;this.message=b}B(Pz,M);function Qz(){M.call(this,"aa")}B(Qz,M);function Rz(a,b,c,d,e,f,h,k,n){Q.call(this);this.B=a;this.J=b;this.g=c;this.D=d||null;this.C=e||null;this.P=f||{};this.v=0;this.o=this.j=null;this.I=!!h;this.O=!!k;this.A=!1;this.H=n||null}B(Rz,Nz);
function Sz(a,b){if(!a.A)if(b)if(0==a.v&&!a.j||!a.I&&a.v!=a.j.J)R(a,new Pz(1,"Missing chunks"));else if(a.g){var c=a.g,d=a.j.N;if(c.g&&c.O){if(c.o)throw Error("Cannot process startup hints twice for the same document.");c.o=Uy(c.O,c.g,d);c.C=null}else if(c.O){if(c.C)throw Error("Startup hints were already set.");c.C=d}if((c=a.j.V)&&a.C&&a.D){var d=a.C,e=a.B,f={},h=[],k;for(k in c)d.g(e,k,c[k],f,h);a.g.ha=h;k=Jb(f);Mb(k,a.P);c=z(a.M,a);a.D.g.g(k,["documents",a.B],!0,c)}else R(a,"Y")}else R(a,"Y");
else R(a,new Pz(3,"Document not accessible"))}Rz.prototype.M=function(a){0<a.vd||0<a.Xc?R(this,new Pz(2,"File sync failed")):R(this,"Y")};function Tz(a,b,c,d,e){this.A=a;this.N=b;this.j=c;this.v=d;this.B=e;this.g=0;this.o=null}
function Uz(a,b){for(var c=a.A();;){if(0==a.g)if(c&&5<=c.length)if(0==c.lastIndexOf(")]}'\n",0))a.g+=5;else{a.j("Safety prefix not present.");break}else break;if(5==a.g)if(c.length>=a.g+2)if("0&"==c.substring(a.g,a.g+2))a.g+=2;else{a.j("Chunked version marker not present.");break}else break;var d=c.indexOf("&",a.g);if(0>d){c=a;b&&(c.v(),$h(c.o));break}var e=+c.substring(a.g,d);if(isNaN(e)){a.j("Invalid chunk size.");break}e=e+d+1;if(c.length<e)break;a.g=e;d=c.substring(d+1,e);try{var f=fl(d)}catch(h){a.j("Error parsing chunk.");
break}if(f)a.N(f);else{a.j("Received a blank chunk.");break}if(!a.B){$h(a.o);a.o=Zh(z(a.C,a,b));break}}}Tz.prototype.C=function(a){this.o=null;Uz(this,a)};function Vz(a,b,c){this.g=a;this.j=b;this.o=c};function Wz(a,b,c,d,e,f,h,k,n,p,r,u,D){this.C=a;this.B=b;this.A=c;this.g=d;this.j=e;this.N=f;this.V=h;this.D=k;this.o=n;this.v=p;this.I=r;this.H=u;this.J=D};function Xz(a,b,c,d,e,f){this.N=a;this.j=b;this.C=e;this.v=f;this.B=!0;this.o=new Tz(this.N,z(this.D,this),z(this.A,this),z(this.V,this),d);this.g=!1}
Xz.prototype.D=function(a){if(this.B){this.B=!1;var b,c=a.me,d=c.rat;b=new Wz(a.r,d?new Bu(d):null,a.mv,c.al,c.dkd,c.sh,a.eo,c.t,!!c.ft,c.js,c.lm,!!c.d,a.mc);c=this.j;c.j=b;c.o=b.C;var d=b.B,e=b.A;a=Vi();null!==e&&"docs-smv"in a.g&&Si(a,"docs-smv")<e?(Si(a,"docs-smv"),a=!1):a=!0;if(!a&&c.H)c.A=!0,c.H.Pm(e);else{R(c,new Lz);var f=b.g;a=b.j;R(c,new Kz);R(c,new Qz);R(c,new Oz);if(c.g){var h=b.o,k=b.v,n=b.I,p=b.H,r=c.g;b=b.D;r.g?(Z(r.g,"title",b),r.P=null):r.P=b;b=c.g;b.g?(dt(b.g,"isFastTrack",h),b.I=
null):b.I=h;b=c.g;(h=b.g)?(dt(h,"ind",!p),b.U=null):b.U=p;k&&(p=c.g,p.g?(Z(p.g,"jobset",k),p.J=null):p.J=k);n&&(k=c.g,null!=n&&(k.g?(Hu(k.g,n),k.ga=0):k.ga=n));n=c.g;n.g?(Ju(n.g,e),n.M=null):n.M=e;e=c.g;n=c.o;e.kb&&pz(e,n,d);e.H=n;e.Cd=d;c.O||qz(c.g);d=Number(f);isNaN(d)||(f=c.g,(e=f.g)?(f=f.Xa.getId(),ft(e,"acl",f,d)):f.Ia=d);a&&(c=c.g,c.g?(Iu(c.g,a),c.v=null):c.v=a)}}}else if(c=this.j,n=new Vz(a.si,a.sci,a.sc),!c.A){if(null==c.o)throw Error("Revision was not defined");k=c.J;e=c.o;a=c.g||void 0;
f=n.g;p=(d=""==f)?k.j:k.o+f;f=n.j;A();n=Uu(k.g,n.o);A();if(a)if(e=new Ou(e,0,null,n,p,f),d=d&&0==f,a.mb)!a.j||a.xc.log(Error("If the proxy has been discarded, the command queue must be null"));else{if(e.g!=a.H)throw Error("Expected batch revision of "+a.H+", but got "+e.g);a=a.j;d&&(a.g=[],a.j=!0);a.g.push(e)}R(c,new Mz);c.v++}};Xz.prototype.A=function(){this.g=!0;this.C()};Xz.prototype.V=function(){this.g||(Sz(this.j,!0),this.v())};function Yz(a,b){M.call(this,"ea");this.Wb=a;switch(this.Wb){case 3:this.message="Request returns too much data";break;case 2:this.message="Missing chunks";break;default:this.message="Unknown Server Error"}b&&(this.message+=": "+b)}B(Yz,M);function Zz(a,b,c,d,e,f,h,k,n,p,r,u){J.call(this);this.M=a;this.I=b;this.D=d;this.o=new X(this);this.v=t(n)?n:null;this.A=p||null;if(null!=this.v&&!this.A)throw Error("Must supply revision HMAC when fetching at revision.");this.B=r||null;this.J=h;this.H=new Xm(Ui(Vi(),"info_params"));a=la(u)?u:6E4;this.g=k?k():new hi;this.j="";0<a&&(this.g.A=Math.max(0,a));e&&this.o.L(this.g,"readystatechange",this.vm);this.o.L(this.g,"complete",this.um);e=z(this.hj,this);k=z(this.Ti,this);a=z(this.W,this);this.C=
new Xz(e,c,0,f,k,a)}B(Zz,J);m=Zz.prototype;m.fetch=function(){this.isDisposed();var a=q.location.href.match(Md),b={};b.reason=this.J;this.B&&(b.sid=this.B);null!=this.v&&(b.osr=this.v,b.rhmac=this.A);Mb(b,this.H.g);b=Ud(b);this.g.send(Ld(a[1],void 0,a[3],a[4],this.M+this.I,b))};m.vm=function(){if(!this.isDisposed()&&3==ti(this.g)&&this.g.fc()&&200==this.g.pa()){this.j=this.g.oa();var a=this.C;a.g||Uz(a.o,!1)}};
m.um=function(){if(!this.isDisposed()){this.j=this.g.oa();var a=this.C,b=this.g.pa();a.g||(404==b||403==b?(Sz(a.j,!1),a.v()):200!=b?a.A():a.g||Uz(a.o,!0))}};m.Ti=function(){var a=this.g.pa(),b=new Yz(1);if(6==this.g.v&&a)switch(a){case 413:b=new Yz(3);break;default:b=new Yz(1,a.toString())}this.D(b);this.W()};m.hj=g("j");m.F=function(){delete this.j;L(this.o);L(this.g);Zz.G.F.call(this)};function $z(a){switch(a){case 1:return 1;case 2:case 4:case 3:return 2;case 0:return 0;default:throw Error("No such access level.");}};function aA(a){this.j=a;this.g=new sl};function bA(a,b,c){M.call(this,a,c);this.o=b}B(bA,M);function cA(a,b,c){bA.call(this,"ha",a,c)}B(cA,bA);function dA(){Q.call(this)}B(dA,Q);function eA(a,b,c){M.call(this,"ia",c);this.o=a}B(eA,M);function fA(a,b,c,d,e,f,h,k,n){Q.call(this);this.D=a;this.v=b;this.B=c;this.A=f;this.C=t(h)?h:3;this.o=n;this.J=k||mo}B(fA,dA);fA.prototype.j=!1;fA.prototype.g=!0;fA.prototype.H=function(a){this.g=this.j=!1;R(this,new cA(a))};
fA.prototype.I=function(a){a=a.Ra();this.j=!1;if(a&&!Ib(a)){this.g=!1;a=a.revisionRanges;if(!a||!x(a)||0>=a.length)throw Error("processCommandBatchesRequestSuccessResponse_: response did not include a non-empty array of revision ranges "+a);for(var b=[],c=-1,d=0;d<a.length;d++){var e=a[d];if(!e||2!=e.length)throw Error("processCommandBatchesRequestSuccessResponse_: invalid  revision range "+e);var f=e[0],e=e[1];if(null==f)throw Error("processCommandBatchesRequestSuccessResponse_: range did not include a start");
if(null==e)throw Error("processCommandBatchesRequestSuccessResponse_: range did not include an end");if(e<f)throw Error("processCommandBatchesRequestSuccessResponse_: expected range end ("+e+") < expected range start ("+f+")");if(f<=c||e<=c)throw Error("processCommandBatchesRequestSuccessResponse_: out of order ranges or overlapping "+a);c=e;b.push(new bm(f,e))}R(this,new eA(b))}else{if(this.g)throw Error("handleCommandBatchesRequestSuccess_: Got unexpected empty response after sending command batches.");
R(this,"ia")}};function gA(a){this.g=a}gA.prototype.j=function(a){for(var b={},c=this.g,d=a.La(),e=[],f=0;f<d.length;f++)e.push(c.j(d[f]));b.commands=e;b.sid=a.g;b.reqId=a.j;return b};ua(ba().prototype,fe.prototype);function hA(a,b,c,d){Q.call(this);this.o=a;this.v=b;this.A=c;this.j=d||null;this.g=0}B(hA,Q);function iA(a,b){a.g++;a.v.write(b,z(a.B,a),a.j||void 0)}hA.prototype.B=function(){this.g--;0==this.g&&R(this,"writesComplete")};hA.prototype.clear=function(a){var b=this.o,c=mv(this.A.A,["BlobMetadata"],"Clearing all blob metadata",this.j||void 0,!0);nv(c,a);on(Y(c,"BlobMetadata"),[b],[b,[]])};function jA(a){M.call(this,a)}B(jA,M);ua(ba().prototype,fe.prototype);function kA(a,b){Q.call(this);this.A=b;this.j={};this.o={};this.v={};this.g={};this.B={};for(var c=0;c<a.length;c++)lA(this,a[c]);c=new X(this);K(this,c);c.L(this.A,"writesComplete",this.C)}B(kA,Q);kA.prototype.add=function(a){lA(this,a);iA(this.A,[a]);R(this,"ka")};
function lA(a,b){var c=b.g.p,d=at(b,"c"),e=at(b,"oc");if(a.g[c]||d&&a.g[d]||e&&a.g[e])throw Error("Adding existing blob metadata.");a.g[c]=b;d&&(a.g[d]=b);e&&(a.g[e]=b);switch(b.pa()){case "pending":a.j[c]=b;break;case "saved":a.v[c]=b;a.B[c]=d;break;case "failed":a.v[c]=b;a.B[c]="FAILED_IMAGE_UPLOAD";break;default:throw Error("Adding unknown blob type "+b.pa());}}function mA(a){return!Ib(a.j)||!Ib(a.o)||0<a.A.g}
function nA(a,b,c){var d=b.g.p;a.v[d]=b;a.B[d]=c;delete a.o[d];iA(a.A,[b]);mA(a)||R(a,"ja")}kA.prototype.C=function(){mA(this)||R(this,"ja")};function oA(a){if(mA(a))throw Error("getResolvedBlobIdMap called when there are pending writes.");return Jb(a.B)}function pA(a){var b=[];jb(b,Cb(a.j));jb(b,Cb(a.o));jb(b,Cb(a.v));return b}kA.prototype.clear=function(a){this.j={};this.o={};this.v={};this.B={};this.g={};this.A.clear(a)};function qA(a,b,c){a.K(new kA(c,b))};function rA(a,b,c){this.g=a;this.j=b;this.o=c}rA.prototype.v=function(a,b){b?a(b):a(new dx(this.g,this.j,!0,-1,[],[]))};function sA(a,b,c){this.j=a;this.g=b;this.o=c};function tA(a,b){Q.call(this);this.D=a;this.o=b;this.j=null}B(tA,Q);m=tA.prototype;m.Rf=0;m.vg=!1;m.he=!1;function uA(a){var b=[];a=rx(a.g);for(var c=0;c<a.length;c++)b.push(a[c].La().length);return String(b)}function vA(a){a.j=null;lx(a.g,null)}m.La=function(){for(var a=rx(this.g),b=[],c=0;c<a.length;c++)jb(b,a[c].La());jb(b,sx(this.g));return b};
m.replace=function(a,b,c,d){var e=rx(this.g);if(a.length!=e.length+1)Kn(this.o,Error("ReplaceCommands(): invalid replacement count "+a.length+" (expected "+(e.length+1)+")"));else{for(var f=wA(this),h=[],k=0;k<a.length-1;k++)h.push(new cx(a[k].concat(),e[k].j,e[k].g));this.g.replace(h,a[a.length-1].concat());jx(this.g,b,c);lx(this.g,null);uA(this);this.j=d;f&&xA(this);this.ya()&&R(this,"ra")}};m.ya=function(){return!yA(this)&&!(0<rx(this.g).length&&this.v)};function zA(a){return yA(a)&&!ct(a.g)}
function AA(a){BA(a);return kx(a.g)}m.Ei=function(a){for(var b=a.j,c=a.g,d=[],e=0;e<c.length;e++){var f=c[e],h=this.D.Km(f.La());d[e]=h?new cx(h,f.j,f.g):f}return new sA(b,d,a.o)};function CA(a){a.he||(a.he=!0,R(a,"xa"))}function xA(a){wA(a)||R(a,"na")}function BA(a){if(!a.vg)throw Error("Attempting to use an uninitialized queue.");}m.ne=g("he");function DA(a){var b=a.Rf;a.Rf++;return b}function EA(a){var b=new U;ct(a.g)?b.K(void 0):(gx(a.g,!0),sg(FA(a),b));R(a,"qa");return b}
m.bl=function(){R(this,"wa")};function GA(a,b,c,d,e,f,h,k,n,p,r,u){tA.call(this,h,e);this.C=a;this.J=c;this.H=f;this.M=-1;this.B=new U;this.g=b;this.A=k;this.v=!1;this.O=r;this.I=u;this.g?(this.C.B=this.g,this.B.K(this)):(a=new rA(n,p,d),b=z(this.U,this),c=z(this.P,this),Ex(a.o.$.A,a.g,z(a.v,a,b),c))}B(GA,tA);GA.prototype.U=function(a){this.g=a;this.C.B=a;this.B.K(this)};GA.prototype.P=function(a){this.B.R(a);this.H(a)};function FA(a){return qg(oz(a.C,!0),a.H)}
function HA(a,b,c){var d=sx(a.g),e=0<d.length;if(e){if(0<rx(a.g).length&&a.v&&ia(ix(a.g)))throw Error("Dequeue should not be called before the previous sent bundles are marked as saved on the server");if(0<b){var f=DA(a);if(b==d.length)nx(a.g,a.J,f);else{var h=rx(a.g).concat(),d=d.concat();h.push(new cx(d.splice(0,b),f,a.J));a.g.replace(h,d);hx(a.g,null)}}}a.v=!0;b=rx(a.g).concat();e&&Gh("Dequeueing command bundles ("+uA(a)+"), including "+b[b.length-1].La().length+" unsent commands");CA(a);e=null;
sx(a.g).length||(e=a.j,vA(a));var k=new sA(AA(a),b,e);V(FA(a),function(){c.K(k)},z(c.R,c))}GA.prototype.ne=function(){return GA.G.ne.call(this)||0<rx(this.g).length};function yA(a){return 0<sx(a.g).length||!a.v&&0<rx(a.g).length}function wA(a){var b=a.A,c;!(c=a.M>kx(a.g))&&(c=null!==b)&&(a=$s(a.g,"accessLevel"),a=null===a?3:a,b=$z(b),a=$z(a),c=b!=a);return c}GA.prototype.F=function(){L(this.g);GA.G.F.call(this)};function IA(a,b,c,d,e,f,h,k){return c.$.A?(new GA(a,null,b,c,d,e,null,null,f,h,k,null)).B:null};function JA(a,b,c){M.call(this,"ea");this.ag=a;this.Wb=b;this.message=c}B(JA,M);function KA(a){M.call(this,"ca");this.ag=a}B(KA,M);function LA(a){Q.call(this);this.J=a;this.Z=!1}B(LA,Q);m=LA.prototype;m.Wa=function(){if(this.Z)throw Error("The sync() method can be called only once");Ox(this.v.$.v,z(this.fm,this));this.Z=!0};m.aa=g("J");m.eg=function(){R(this,new KA(this.J))};m.dc=function(a){if(2==a.type)this.Ba(3,"Write failed due to lock steal: "+a.message);else{var b=gn(a);this.Ba(b&&"QuotaExceededError"==b.name||hn(a)?8:9,"Could not write document to local store: "+a.message)}};m.Ba=function(a,b){R(this,new JA(this.J,a,b))};function MA(a,b,c){J.call(this);this.g=a;this.o=b;this.v=c;this.j=new X(this);K(this,this.j)}B(MA,J);MA.prototype.send=function(){var a;if(mA(this.g)){var b=this.g,c=Cb(b.j);Mb(b.o,b.j);b.j={};b=[];for(a=0;a<c.length;a++)b.push(yz(this.o,c[a]));a=new U;(new vn(b)).T(z(this.A,this,c,a))}else a=xg();return a};
MA.prototype.A=function(a,b,c){for(var d=0;d<c.length;d++){var e=a[d].g.p;if(c[d][0]){var f=this.g,h=c[d][1],e=f.o[e];if(!e)throw Error("markAsSaved for blob that was not sending.");Z(e,"c",h);by(e,"saved");f.g[h]=e;nA(f,e,h);R(f,new jA("ma"))}else{f=this.g;e=f.o[e];if(!e)throw Error("markAsFailed for blob that was not sending.");by(e,"failed");nA(f,e,"FAILED_IMAGE_UPLOAD");R(f,new jA("la"));e=c[d][1].message;f={};a:switch(e){case "createPhoto":h="image_upload_other_error";break a;case "badScottyUrl":case "connectionError":case "fileNotFound":case "invalidFileData":case "jsonError":case "nonexistentImageUrl":case "offlineSync":case "iosClipboardOtherSession":h=
"image_upload_pre_upload_error";break a;default:h="image_upload_scotty_error"}f[h]=e;this.v.log(Error("Failed to sync blob with error"),f)}}mA(this.g)?Xi(this.j,this.g,"ja",z(b.K,b)):b.K()};function NA(a,b,c){J.call(this);this.j=a;this.A=b;this.o=c;this.g=new U;this.v=new X(this)}B(NA,J);m=NA.prototype;m.nd=-1;m.send=function(){this.nd=-1;if(zA(this.j)){var a=this.j;BA(a);var b=sx(a.g).length,c=t(void 0)?void 0:b;if(0>c||c>b)throw Error("Invalid number of unsent commands requested for dequeue");b=new U;yA(a)?(a.D&&b.T(z(a.Ei,a)),HA(a,c,b)):(b.K(new sA(AA(a),[],a.j)),a.j=null);V(b,this.Nj,this.Mj,this)}else this.g.K(this);return this.g};
function OA(a){if(!ct(a.j.g)&&0<=a.nd){var b=a.j,c=a.nd;BA(b);if(!b.ne())throw Error("removeSent called when not waiting for ack");a=wA(b);var d=b.g;ox(d,3);for(var e=[],f=0;f<d.C.length;f++)jb(e,d.C[f].La());d.C=[];jx(b.g,c,null);b.g.ya()&&(mx(b.g,!1),c=b.C,c.g?(kt(c.g,null),c.Z=void 0):c.Z=null,null!==b.A&&Z(b.g,"accessLevel",b.A));0<rx(b.g).length&&b.v||(b.he=!1,R(b,"va"));a&&xA(b);b.ya()&&R(b,"ra")}}
m.Nj=function(a){var b=a.j,c;c=this.o;a=a.g;var d=this.A?oA(this.A):{};if(c.j)c=!1;else{c.j=!0;c.g=0<a.length;var e=c.A;if(0==a.length)throw Error("Cannot send an empty message to the server.");if(!la(b)||0>b)throw Error("Cannot send an invalid revision number to the server: "+b);b=["rev",b];if(0<a.length){for(var f=[],h=0;h<a.length;h++)f.push(e.j.j(a[h]));b.push("bundles");b.push(e.g.stringify(f))}Ib(d)||(b.push("blobIdMap"),b.push(e.g.stringify(d)));a=c.g?cf(c.J):ef;d=nl(pl(ll(po(c.B,"/save").o("id",
c.v),b),c.I,c),c.H,c);d.B=z(a,void 0);d.Y=!0;a=ol(d,c.C);a.v=!0;c.D&&kl(a);t(c.o)&&a.setTimeout(c.o);ql(a);c=!0}c?this.v.L(this.o,"ia",this.Gk).L(this.o,"ha",this.Fk):this.g.R(new PA(!1,void 0))};m.Mj=function(a){this.g.R(new PA(!1,a))};m.Gk=function(a){a=a.o;this.nd=a[a.length-1].g;a=this.j;var b;b=this.nd;rx(a.g).length?(hx(a.g,b),b=FA(a)):b=xg();b.Vc().T(z(a.bl,a));this.g.K(this)};m.Fk=function(a){a=a.o;"f"!=a.type||a.A&&"f"!=a.A?this.g.R(new PA(!1,void 0)):(EA(this.j),this.g.R(new PA(!0,void 0)))};
m.F=function(){L(this.v);NA.G.F.call(this)};function PA(a,b){this.j=a;this.g=b};function QA(a){this.g=new U;this.j=Zh(this.v,a,this);this.o=!1}QA.prototype.T=function(a,b){this.g.T(a,b)};QA.prototype.K=function(a){this.o||($h(this.j),this.j=null,this.g.K(a))};QA.prototype.R=function(a){this.o||($h(this.j),this.j=null,this.g.R(a))};QA.prototype.v=function(){this.o=!0;this.g.R("Deferred timed out.")};function RA(a,b,c,d,e,f,h,k,n,p,r,u,D,O,ka,da,N,P,Mg,Fh,lC,px){LA.call(this,k.getId());this.vc=a;this.kb=b;if(c&&null==d)throw Error("Must specify a session ID in order to save changes.");if(!c&&u)throw Error("Must supply net service when delivering local changes.");this.X=c;this.g=d;this.P=new iy;this.Ca=new aA(new gA(this.P));this.C=e;this.mb=f;this.v=h;this.o=k;this.j=n;a=z(this.dc,this);this.j.bh=a;this.xc=da;this.lb=N||null;this.O=P||null;this.ha=Ri(Vi(),"docos-eos");this.Xa=Mg||null;this.M=
!!Fh;this.U=new X(this);this.D=this.B=null;if(u&&!px)throw Error("We can't deliver local changes without a blob transporter");this.wa=px||null;this.A=null;this.I=p;this.Y=r;if(null!=this.I&&!this.Y)throw Error("Must supply revision HMAC when syncing at revision.");this.H=u;this.ga=D;this.rc=O;this.Cd=lC}B(RA,LA);m=RA.prototype;
m.fm=function(a){if(0>=a.length)this.Ba(8,"Could not read local store: No opted in user.");else{var b=this.j,c=this.o;a=a[0];b.A=this.v;b.g=c;b.Xa=a;b.Ca.K(!0);b=this.j;if(!b.lb.g){if(c=b.B)a=b.xc,c.B&&(c.B=!1,Mn(a,Error("Clearing already saved pending queue."),{sentBundlesSavedRevision:ix(c),queueRevision:kx(c)}),c.clear());b.lb.K(!0)}b=this.aa();if(null!=this.I)this.od();else{var d=z(this.gk,this);a=z(this.dc,this);var c=this.v.$.B.A,e=qw(c,ta(d,4),a,!0);a=Y(e,"DocumentLocks");d=z(c.ik,c,b,d,e);
d=z(c.Sh,c,b,a,d,null);sw(c,b,d,a,!1,!0)}}};
m.gk=function(a){if(1!=a)this.Ba(3,"Unable to acquire the storage lock");else if(this.H){var b=this.o,c=this.X,d=this.C;a=new U;if(bt(b))if(ia(at(b,"title")))b.getId(),c={},c.docId=b.getId(),Mn(d,Error("Not creating document without title"),c),a.R(void 0);else{b.getId();var d={newDocId:b.getId(),title:at(b,"title")},e=et(b,"ic");e&&(d.initialCommands=tb(e));(b=at(b,"fact"))&&(d.folder=b);b=po(c,"/create");b.U=!0;b=nl(pl(ml(b,d),a.K,a),a.R,a);t(2)&&ol(b,2);ql(b)}else b.getId(),a.K(void 0);V(a,z(this.Ij,
this),z(this.Qj,this))}else bt(this.o)?this.Ba(11,"Skipping document because it is not known to exist on the server"):this.od()};m.Qj=function(){this.aa();this.Ba(7,"Could not create document.")};m.Ij=function(){var a=z(this.Sl,this);bt(this.o)?(qz(this.j),oz(this.j).T(a)):a()};
m.Sl=function(){var a=this.aa(),b=this.v,c=z(this.dc,this),d=new U,e;(e=(e=b.$.De())?new hA(a,b,e,c):null)?(b=b.$.De(),e=ta(qA,d,e),c=mv(b.A,["BlobMetadata"],"Reading all blob metadata",c),rn(c,"BlobMetadata",z(b.B,b),e,[a],[a,[]],void 0,void 0,void 0,!0)):d.K(null);d.T(this.vk,this)};m.vk=function(a){var b=z(this.wh,this,z(this.Ji,this),z(this.od,this));a?(this.A=a,(new MA(this.A,this.wa,this.C)).send().T(b)):b()};
m.wh=function(a,b){var c=IA(this.j,this.g,this.v,this.C,z(this.wk,this),this.o.getId(),Fu(this.o),this.P);c?V(c,function(b){this.B=b;a()},this.xk,this):b&&b()};m.wk=ba();
m.od=function(){this.aa();var a=this.aa(),b=this.mb,c=this.j,d=this.lb||void 0,e=this.Xa||void 0,f;if(this.A){var h=oA(this.A);f={};for(var k in h)h=this.A,(h.j[k]||h.o[k]||h.v[k]||null).getUrl()&&(f[k]=new Tt(k,null,"image"))}else f={};b=new Rz(a,b,c,d,e,f);this.U.L(b,"Y",this.nk).L(b,"ba",this.Hk);(new Zz(this.vc+"/d/"+a,this.kb,b,z(this.Zg,this),!1,!0,this.rc,this.xc,null==this.I?void 0:this.I,this.Y||void 0,void 0,this.Cd)).fetch()};
m.Ji=function(){var a=this.B;if(ct(a.g))this.Ba(5,"pending command queue is undeliverable.");else if(zA(a)){a.g||Kn(a.o,Error("Cannot initialize queue without a record"));var b=kx(a.g);0>b&&Kn(a.o,Error("Cannot initialize queue without a real pending queue revison."));var c=a.g,d=Xs(c,"revisionAccessInfo"),c=c.I.g(d);a.vg=!0;a.g||Kn(a.o,Error("Cannot initialize queue without a record"));a.M=b;var d=kx(a.g),e=ix(a.g);if(null!==e&&b>=e&&b>d&&!sx(a.g).length){var f=a.g;if(f.D.length)throw Error("Cannot force empty in memory with non-empty unsent commands.");
f.B=!0}if(d==b){if((f=Xs(a.g,"selection"))&&a.I){f=a.I.g(a.O.g(f));if(a.j)throw Error("Selection is already set in #initializeSelection");a.j=f}}else lx(a.g,null);if(!yA(a))b<d&&Mn(a.o,Error("Empty pending queue version "+d+" ahead of model version "+b)),jx(a.g,b,c),null!==a.A&&Z(a.g,"accessLevel",a.A);else if(b<d)throw Kn(a.o,Error("Can't apply pending changes because local pending queue version "+d+" ahead of model version "+b)),Error("Can't apply pending changes because local pending queue version "+
d+" ahead of model version "+b);null!==e&&rx(a.g).length&&!sx(a.g).length&&e>b&&CA(a);R(a,"sa");xA(a);a=new fA(!1,this.o.getId(),this.X,0,0,this.Ca,2,no);this.D=new NA(this.B,this.A,a);V(this.D.send(),z(this.od,this),z(this.yk,this))}else this.od()};m.xk=function(a){a?this.dc(a):this.Ba(9,"Could not retrieve pending command queue.")};m.yk=function(a){this.M&&!ct(this.B.g)&&EA(this.B);a.j?this.Ba(5,"Permanent failure while delivering the pending command queue"):a.g?this.dc(a.g):this.Ba(6,"Temporary failure while delivering the pending command queue")};
m.nk=function(){var a=[];this.D&&OA(this.D);sz(this.j);rz(this.j,!0);a.push(oz(this.j));a.push(SA(this));(new vn(a)).T(z(this.ek,this));(a=this.v.$.pg())&&ww(a,[this.aa()],z(ba(),this),z(function(a){this.C.log(a)},this))};function SA(a){if(!a.H||!a.A||!pA(a.A).length)return xg();var b=new U,c=pA(a.A);a.A.clear(z(a.Wl,a,b,c));return b}m.Wl=function(a,b){for(var c=[],d=0;d<b.length;d++)at(b[d],"ou")&&c.push(xg());sg(new vn(c),a)};
m.Hk=function(a){switch(a.Wb){case 1:this.Zg(new Yz(2));break;case 2:this.Ba(2,"Entity sync failed");break;case 3:this.ga?TA(this,!1):this.Ba(7,"Server model fetch failed");break;default:this.Ba(7,"Unknown server document loader error")}};m.Zg=function(a){if(this.M)TA(this,!0);else switch(a.Wb){case 3:this.Ba(12,a.message);break;default:this.Ba(7,a.message)}};function TA(a,b){a.j.ye();a.H?UA(a,b):a.wh(z(a.Wk,a,b))}
m.Wk=function(a){if(zA(this.B)){var b=EA(this.B);b.T(VA(this,a));qg(b,z(this.dc,this))}else ct(this.B.g)||UA(this,a)};function UA(a,b){var c=VA(a,b);a.o.H?c():(Ws(a.o),a.v.write([a.o],c,z(a.dc,a)))}function VA(a,b){return b?z(a.Ba,a,7,"Server model fetch failed"):z(a.eg,a)}
m.ek=function(){var a=this.v.$.zd();if(a)if(WA(this)){var b;b=this.ha&&this.O&&this.H?(b=et(this.o,"docosKeyData"))&&0!=b.length&&WA(this)?!!this.g:!1:!1;if(b){this.aa();b=new QA(35E3);b.T(z(this.Mi,this));var c=z(this.Li,this);qg(b.g,c,void 0);this.O.Wa(this.aa(),a,this.v,et(this.o,"docosKeyData"),z(b.K,b),z(b.R,b));XA(this)}else YA(this)}else XA(this),YA(this);else YA(this)};function XA(a){hw(a.v.$.zd(),[a.aa()],z(ba(),a),z(function(a){this.C.log(a)},a))}
function WA(a){var b;a=a.o;var c=Ys(a,"acl"),d=0,e=0;if(c)for(b in c)d=c[b],e++;b=1==e?d:0==e&&"trix"==Fu(a)?1:0;return Eu.indexOf(b)>=Eu.indexOf(2)||Eu.indexOf(b)>=Eu.indexOf(4)}m.Mi=function(){this.aa();YA(this)};m.Li=function(){this.aa();this.Ba(1,"Docos sync failed")};function YA(a){rz(a.j,!1);oz(a.j).T(z(a.eg,a))}m.F=function(){L(this.U);L(this.D);RA.G.F.call(this)};function ZA(a,b,c,d){this.j=a;this.o=b;this.v=c;this.g=d};function $A(a){this.g=a};function aB(a){E(this,a,0,-1,null)}B(aB,C);aB.prototype.aa=function(){return F(this,3)};function bB(a){E(this,a,0,-1,null)}B(bB,C);function cB(a){E(this,a,0,-1,null)}B(cB,C);function dB(a){E(this,a,0,-1,eB)}B(dB,C);var eB=[1];function fB(a){if(1>=a.length)return a;for(var b=[],c=[],d=0;d<a.length;d++){var e=a[d],f=d<a.length-1?a[d+1]:null,h;if(h=null!=f){var k=e;h=f;var n;if(n=Wb(Qb(k,cB,2),Qb(h,cB,2)))k=Qb(k,aB,3),k=F(k,6),h=Qb(h,aB,3),h=F(h,6),n=k==h;h=n}h&&5E3>=c.length+Rb(e,bB,1).length+Rb(f,bB,1).length?jb(c,Rb(e,bB,1)):0==c.length?b.push(e):(jb(c,Rb(e,bB,1)),e=new dB(e.ca.slice()),Sb(e,1,c),b.push(e),c=[])}return b};function gB(a,b,c){this.j=a;this.v=b;this.o=c;this.g=!1}function hB(a,b,c){a.g?c("Impression delivery already in progress."):(a.g=!0,Uw(a.j,z(a.A,a,b),z(function(a){this.g=!1;c(fn(a))},a)))}gB.prototype.A=function(a,b){var c=[],d=iB(b),e;for(e in d){for(var f=d[e],h=f[f.length-1],k=h.j(),h=h.g.ibt,n=[],p=0;p<f.length;p++)n.push(new dB(Kb(f[p].g.iba)));f=fB(n);c.push(jB(this,k,e,f,h))}Xf(c).then(function(){this.g=!1;a()},void 0,this)};
function iB(a){for(var b={},c=0;c<a.length;c++){var d=a[c],e=d.aa(),f=b[e];f||(f=[],b[e]=f);f.push(d)}return b}
function jB(a,b,c,d,e){var f=[],h=a.v[b];if(!h)return d="Could not find an impression sender for document type "+b,Cn(a.o,Error(d)),Tf(d);for(b=0;b<d.length;b++)f.push(ut(h,d[b],c));return Xf(f).then(function(){return Wf(f)}).then(function(){return new T(function(a,b){var d=Y(mv(this.j.A,["Impressions"],"Error deleting impressions.",b,!0),"Impressions");on(d,[c,0],[c,e],a)},this)},void 0,a)};function kB(){}B(kB,yy);kB.prototype.g=function(a,b,c,d,e){"labelpath"==c.entityType?(c=sb(c.path),a=new Ow(b,a,"labelPath",c,!0),e.push(a)):kB.G.g.call(this,a,b,c,d,e)};function lB(a,b,c){this.g=a;this.o=b;this.j=c}lB.prototype.getId=function(){return this.g.getId()};function mB(){this.ug=[];this.zf={}};function nB(a){this.g=a;this.j=[this.g.Ol,this.g.Pl,this.g.Rl,this.g.Ql];this.v=[5,6,7,8]}function oB(a){return(new T(function(a,c){this.o(a,new mB,0,c)}.bind(a))).then(function(a){for(var c=[],d=a.ug,e=0;e<d.length;e++){var f=d[e],h=f.getId();c.push(new lB(f,a.zf[h],!1))}return c})}nB.prototype.o=function(a,b,c,d,e){if(e)for(var f=this.v[c-1],h=0;h<e.length;h++){var k=b,n=e[h],p=f,r=n.getId();k.zf[r]||(k.ug.push(n),k.zf[r]=p)}c<this.j.length?this.j[c].call(this.g,this.o.bind(this,a,b,c+1,d),d):a(b)};function pB(a,b,c,d,e,f,h,k,n){this.v=a;this.B=b;this.g=c;this.C=f;this.o=h;this.A=k;this.N=n}pB.prototype.j=g("v");function qB(a,b,c,d){J.call(this);this.v=a;this.A=b;this.o=d;this.g=c;this.j=new X(this);K(this,this.j)}B(qB,J);qB.prototype.B=function(a,b){Mn(this.g,Error(fn(b)));a()};
qB.prototype.C=function(a,b,c,d){var e;try{e=d.Ra()}catch(k){Mn(this.g,Error("Could not interpret result of /getappmetadata "+(d.g||"")));c();return}var f=e;if(f&&f.newModelCommands&&f.jobset){d=Uu(this.o,f.newModelCommands);e=f.jobset;var f=f.docosKeyData,h=new Wv(this.v,!0);Z(h,"jobset",e);h.C=d.concat();h.B=!0;f&&Z(h,"docosKeyData",f);d=h}else d=null;d?a.write([d],b,z(this.B,this,c)):b()};qB.prototype.F=function(){qB.G.F.call(this);delete this.j;delete this.g};function rB(a,b,c){J.call(this);this.g=a;this.v=b;this.j=c}B(rB,J);rB.prototype.o=function(a,b){Mn(this.j,Error(fn(b)));a()};rB.prototype.A=function(a,b,c,d){var e=Si(Vi(),"docs-offline-nnodi");d<.9*e?(d=e-d,a=ql(ol(nl(pl(po(this.v,"/getids").o("num",d),z(this.B,this,a,b,c)),c),2)),K(this,a)):b(0)};
rB.prototype.B=function(a,b,c,d){var e;try{e=d.Ra()}catch(f){Mn(this.j,Error("Could not interpret result of /getids: "+(d.g||"")));c();return}e&&0!=e.length?(a=a.$.Zc())?Mw(a,this.g,e,ta(b,e.length),z(this.o,this,c)):b(e.length):b(0)};function sB(a,b,c,d){J.call(this);this.j=a;this.He=new rB(a,b,c);this.g=new qB(a,b,c,d)}B(sB,J);sB.prototype.wg=function(a,b,c,d){var e=ta(b,d);b=this.g;d=ta(e,!0);e=ta(e,!1);a=ol(nl(pl(po(b.A,"/getappmetadata"),z(b.C,b,a,d,e)),e),2);c&&a.o("forcehl","1","hl",c);c=ql(a);K(b,c)};sB.prototype.toString=function(){return"EditorMetadataFetcher for "+this.j};sB.prototype.F=function(){L(this.He);delete this.He;L(this.g);delete this.g;sB.G.F.call(this)};function tB(a,b,c,d,e,f){this.g=a;this.B=b;this.v=c;this.A=d;this.o=e;this.j=f?f:null}function uB(a,b,c,d,e,f,h,k,n){var p=a.g.B?vB(a):null,r=a.B,u=a.v,D=a.A,O=a.o;h=h&&!!p;var ka=a.g.o,da=a.g.N;a=new iy;var N=new tz(O,c.getId(),r.j),P=r.g?r.g():new kz,Mg=new Iz(new Yn),Fh=c.getId(),da=new Hz(new Ez(Fh,da),Mg,new lz(Fh,p,Mg),Fh,p,O);return new RA(ka,"/model",p,Pi(),O,new Jz(a,r.o,r.v),b,c,N,e,f,h,k,n,0,void 0,u,P,D,d,void 0,da)}function wB(a){return a.g.g?new sB(a.g.j(),vB(a),a.o,new iy):null}
function vB(a){a.j||(a.j=xB(a.g));return a.j}function xB(a){var b=new oo(new Wm(a.A));b.j.o=a.o;b.A=lo;return b};function yB(a,b,c,d){this.g=a;this.I=c;this.o=null;this.v=[];this.B=this.J=this.H=this.C=this.A=this.D=null;zB(this,b,d)}B(yB,J);
function zB(a,b,c){var d=Qi.ba(),e=new pB("drawing",!0,!0,0,0,!0,Ti(d,"ddsup"),Ti(d,"ddscu"),Ti(d,"ddsci")),f=new pB("kix",!0,!0,0,0,!0,Ti(d,"dksup"),Ti(d,"dkscu"),Ti(d,"dksci")),h=new pB("punch",!0,!0,0,0,!0,Ti(d,"dpsup"),Ti(d,"dpscu"),Ti(d,"dpsci")),k=new pB("ritz",!0,!0,0,0,!0,Ti(d,"drsup"),Ti(d,"drscu"),Ti(d,"drsci")),n=xB(f),p=[];p.push(AB(a,n));var r=new ZA(new Ty(p)),u=new ZA(new Ty(p),void 0,void 0,function(){return b(n)}),D=new ZA(new Ty([new Sy(["docLocale","ritzChunkSize"])]),"top","chunk"),
p=BB(a);CB(a);var O=new yy,ka=new kB;a.j={drawing:new tB(e,r,p,ka,a.g),kix:new tB(f,u,p,O,a.g,n),punch:new tB(h,r,p,ka,a.g,void 0),ritz:new tB(k,D,p,O,a.g,void 0)};c&&(d=new pB("trix",!1,!1,0,0,!1,Ti(d,"dtsup")),Mb(a.j,{trix:new tB(d,c,p,O,a.g)}))}function AB(a,b){var c=new ku(b,a.g,{}),d=new U,c=new $y(new Vy([Zy(d),c]),d),c=new Mt(new Nt(new wt),c,new bz);DB(a,z(function(a){var b=a.Xb();a=b?new hu(b,a,CB(this),this.g):null;d.K(a)},a),z(d.R,d,null));return new Ry(c)}
function EB(a,b,c,d,e,f,h,k,n,p,r){var u=Fu(c);a=a.j[u];if(!a)return null;var D=uB(a,b,c,f,h,k,n,p,r);if(!D)return null;b=new X;b.L(D,"ca",function(a){D.W();d(a.ag)}).L(D,"ea",function(a){D.W();e(a)});K(D,b);return D}function FB(a){if(!a.A){var b=new U;a.A=b;var c=new By(a.g);Cy(c,z(b.K,b,c),z(b.R,b))}return a.A.Vc()}function CB(a){if(!a.D){var b=new Qy;a.D=b;V(FB(a),function(a){for(b.j=new Jy(a);0<b.o.length;)b.o.shift()()},function(a){throw a;})}return a.D}
function BB(a){a.C||(a.C=new Py(CB(a)));return a.C}function GB(a){return new T(function(a,c){DB(this,a,c)},a)}function DB(a,b,c,d){d?(d=HB(a,d,!1),V(d.create(c),ta(IB,b),c)):a.o?b(a.o):0<a.v.length?a.v.push(b):(a.v.push(b),d=HB(a,"BulkSyncerLockSessionId",!0),V(d.create(a.Xg),a.fk,a.Xg,a))}function HB(a,b,c){return new ry(a.g,b,0,z(a.Hi,a),!1,Si(Qi.ba(),"lssv"),c)}m=yB.prototype;
m.Hi=function(a){var b,c=new iy;b=new gv("kix",6,8,c);var d=new gv("punch",6,8,c),e=new gv("ritz",6,8,c),c=new gv("drawing",6,8,c);b=[e,b,d,c];this.I&&jb(b,this.I(a));b.push(new xy);return b};function IB(a,b){var c=b.g;kv(c);a(c)}m.fk=function(a){var b=a.g;q.console.log("Local store created");kv(b);this.o=b;sf(this.v,function(a){a(b)});this.v=[]};m.Xg=function(a){q.console.log(a.message)};function JB(a){var b=[];zb(a.j,function(a){a.g.g&&b.push(wB(a))});return new $A(b)}
m.Gi=function(a,b,c){var d=this.H,e=this.J,f=new tu(a,c),h;h=Qi.ba();h=Cb(Ui(h,"dffd"));q.console.log("Default font families: "+h);var k=new hz(this.g),n=a?a.$.qg():null;if(a&&n)if(k.o=new gz(a,n,k.A),k.v){var p=k.o,r=z(k.B,k),u=z(k.g.R,k.g),n=p.o,p=ta(p.v,r),u=mv(n.B,["SyncObjects"],"Error reading SyncObjects.",u);rn(u,"SyncObjects",z(n.A,n),p,void 0,void 0,void 0,void 0,void 0,!0)}else(n=k.j.ia())&&k.o&&k.o.write(n,ta(w,n));else k.v&&k.g.K();return new zt(new Au(b,f,e,d,h,c,this.g,k),f,a,this.g)};
m.F=function(){fc(Cb(this.j))};function KB(a){E(this,a,0,-1,null)}B(KB,C);function LB(a){E(this,a,0,-1,MB)}B(LB,C);var MB=[2,3];function NB(a){E(this,a,0,-1,null)}B(NB,C);NB.prototype.getId=function(){return F(this,1)};function OB(a,b,c,d,e){this.o=a;this.g=b;this.j=c;this.B=d;this.V=e;this.v={};for(b=0;b<c.length;b++)d=c[b],this.v[d.getId()]=d;this.N=[];this.C={};this.D=!Zs(a.g,"lastSyncTimestamp");this.A=!1}
OB.prototype.tf=function(){if(this.A)throw Error("Trying to run AutoSyncDocSelector twice is not supported.");for(var a=0;a<this.B.length;a++)PB(this,this.B[a]);for(a=0;a<this.j.length;a++){var b=this.j[a];bt(b)&&null!=at(b,"title")&&PB(this,new lB(b,5,!1))}for(var a=Tx(this.o.g),a=Db(a),b=QB(Rb(this.g,NB,2)),c=0;c<a.length;c++){var d=a[c],e=this.v[d],f;f=d;f=Tx(this.o.g)[f];f=null!=f?f.count:0;var h;h=d;h=Tx(this.o.g)[h];h=null!=h?h.modelSyncFailCount:0;e?PB(this,new lB(e,0<h&&f>h?11:0<h&&f<=h?9:
10,5<=f)):5<f&&!b[d]&&(e=this.o.g,f=Tx(e),t(f[d])&&(delete f[d],Z(e,"failedToSyncDocs",f)))}a=Rb(this.g,NB,2);b=QB(Rb(this.g,NB,3));for(c=0;c<a.length;c++){e=a[c];d=e.getId();f=e.getId();f=b[f];var k=this.v[d];if(h=!k)e=RB(F(e,2)),k=this.V.$.j.B[e].lg(d);(f||h||this.D)&&PB(this,new lB(k,12,!1))}SB(this);this.A=!0;return this.N};function PB(a,b){var c=b.getId();a.C[c]||(a.N.push(b),a.C[c]=!0)}function QB(a){return Nb(a.map(function(a){return a.getId()}))}
function SB(a){for(var b=Nb(Rb(a.g,NB,3).map(function(a){return a.getId()})),c=0;c<a.j.length;c++){var d=a.j[c];b[d.getId()]&&PB(a,new lB(d,12,!1))}}function RB(a){switch(a){case 1:return"kix";case 3:return"punch";case 2:return"ritz";case 4:return"drawing";default:throw Error("Unexpected document type in autosync proto: "+a);}};function TB(){this.j=!1}B(TB,J);TB.prototype.tf=function(){if(this.j)throw Error("Tasks can only be executed once.");this.j=!0;return this.g()};function UB(a,b,c,d){this.j=!1;this.v=a;this.A=b;this.o=c;this.B=d}B(UB,TB);UB.prototype.g=function(){var a=new KB;G(a,1,this.o.g.g.lastSyncedChangestamp);var b=this.v.$.j;return Wf([VB(this,a),new T(function(a,d){Dt(b,null,a,d)}),oB(new nB(b))]).then(function(a){var b=a[0];a=new OB(this.o,b,a[1],a[2],this.v);return this.A.v(a.tf()).then(this.C.bind(this,b))}.bind(this))};
UB.prototype.C=function(a){WB(this.o,Wa(F(a,1)));XB(this.o);a=Rb(a,NB,2).map(function(a){return a.getId()}).reverse();Z(this.o.g,"relevantDocuments",a);return YB(this.o)};function VB(a,b){return(new T(function(a,d){var e;e=this.B;e=new Vm(e,"/offline/autosync",e,e.J,e.M.g);e.I="GET";ql(nl(pl(ol(e.o(["autosyncRequest",b.j()]),2),a),d))}.bind(a))).then(function(a){return new LB(a.Ra())})};function ZB(a){E(this,a,0,-1,null)}B(ZB,C);function $B(a){E(this,a,0,-1,null)}B($B,C);function aC(a){E(this,a,0,-1,null)}B(aC,C);function bC(a,b){this.j=a;this.g=b}function cC(a){var b=new ZB;G(b,1,2);var c=new MessageChannel;a.j.postMessage(b.ca,[c.port2]);var d=Yf();c.port1.onmessage=Nn(a.g,function(a){a=new $B(a.data);F(a,1)?d.o(F(a,1)):d.g(Wa(Qb(a,aC,3)))},a,!1);var e=Zh(z(d.o,d,"Disk quota api timed out"),3E4);ag(d.j,function(){c.port1.close();$h(e)});return d.j};function dC(a,b,c,d,e,f){this.B=a;this.g=b;this.v=c;this.j=d;this.o=e;this.A=f}function eC(a){var b=et(a.A.g,"relevantDocuments")||[],c=[];return fC(a,b).then(function(a){c=c.concat(a);return gC(this,[],b)}.bind(a)).then(function(a){c=c.concat(a);a=a.length;if(0<a){var b={};b.numDeletedRelevantDocs=a;this.B.log(Error("Deleted docs that were relevant during cleanup."),b)}}.bind(a)).then(function(){return new T(function(a,b){My(this.v,this.g,a,b)}.bind(this))}.bind(a)).then(function(){return c})}
function hC(a,b){var c=Si(Vi(),"docs-offline-mnd"),c=isNaN(c)?Number.MAX_VALUE:c;return c<b.length?Sf(!0):cC(a.o).then(function(a){var b=Vi(),c=Si(b,"docs-offline-msq"),c=isNaN(c)?Number.MAX_VALUE:c,b=Si(b,"docs-offline-msur"),b=isNaN(b)?1:b,h=F(a,1);a=F(a,2);return Math.min(c,b*(a+h))<h})}
function fC(a,b){return iC(a).then(function(a){return Wf([Sf(a),hC(this,a)])}.bind(a)).then(function(a){var d=a[0];if(!a[1])return[];var e=Nb(b),f=d.filter(function(a){return!e[a.getId()]}).map(function(a){return a.getId()});return jC(this,f).then(function(){return f})}.bind(a))}
function gC(a,b,c){return iC(a).then(function(a){return hC(this,a)}.bind(a)).then(function(a){if(!a||!c.length)return b;var e=c.slice(0,10);c=c.slice(10);return jC(this,e).then(function(){return gC(this,b.concat(e),c)}.bind(this))}.bind(a))}function jC(a,b){for(var c=Sf(),d=b.length,e=0;e<d;e++)var f=b[e],c=c.then(a.j.o.bind(a.j)).then(a.C.bind(a,f)).then(ba().bind(a),ba().bind(a));return c}function iC(a){return new T(function(a,c){Dt(this.g.$.j,null,a,c)}.bind(a))}
dC.prototype.C=function(a){return(new T(function(b,c){Dw(this.g.$.j,a,b,c)}.bind(this))).then(function(a){Ws(a);return new T(function(c,d){this.g.write([a],c,d)}.bind(this))}.bind(this))};function kC(a){E(this,a,0,-1,null)}B(kC,C);function mC(a){E(this,a,0,1,null)}B(mC,C);var nC={};function oC(a){E(this,a,0,-1,null)}B(oC,C);var Vb=new Ob(100413133,oC);nC[100413133]=Vb;oC.prototype.aa=function(){return F(this,1)};function pC(a){E(this,a,0,-1,null)}B(pC,C);var qC=new Ob(101605819,pC);nC[101605819]=qC;pC.prototype.aa=function(){return F(this,1)};function rC(a){E(this,a,0,-1,null)}B(rC,C);nC[100922934]=new Ob(100922934,rC);rC.prototype.aa=function(){return F(this,1)};function sC(a,b){J.call(this);this.v=a;this.o=new X(this);K(this,this.o);this.g=b;this.j=Yf()}B(sC,J);sC.prototype.A=function(a){a.data.aa()==this.v&&this.j.g(!0)};function tC(a){a.g.connect();var b="ya_"+qC.g;a.o.L(a.g,b,z(a.A,a));var c=Zh(z(a.j.g,a.j,!1),15E3),d=new mC,e=new oC;G(e,1,a.v);Ub(d,e);uC(a.g,d);return ag(a.j.j,z(function(){this.o.za(this.g,b);$h(c)},a))};function vC(a,b,c,d,e,f){J.call(this);this.D=a;this.C=b;this.H=c;this.I=d;this.A=e;this.g=[];this.j=[];this.o=f}B(vC,J);vC.prototype.v=function(a){var b={};this.j=a.filter(function(a){a=a.getId();return b[a]?!1:b[a]=!0});if(!this.j.length)return Sf([]);this.g=[];return ag(wC(this).then(function(){for(var a=0,b=0;b<this.g.length;b++)"failure"==this.g[b].state&&a++;return this.g}.bind(this)),function(){YB(this.o)}.bind(this))};
function wC(a){if(!a.j.length)return xC(a);var b=Sf();a.g.length&&0==a.g.length%10&&(b=xC(a));return b.then(function(){return yC(this,this.j.shift()).then(function(){return wC(this)}.bind(this))}.bind(a))}function xC(a){return eC(a.C).then(function(a){if(a.length){var c=Nb(a);this.j=this.j.filter(function(a){return!c[a.getId()]})}}.bind(a))}
function yC(a,b){var c=b.getId();Gh("Syncing document.\nDocId: "+c+"\nDocTitle: "+at(b.g,"title"));return a.I.o().then(a.B.bind(a,b)).then(function(a){return a?zC(this.D,this.A,b.g,b.j,null,null,!0,!0,b.o).then(l("success")):"lock_not_available"}.bind(a)).then(function(a){this.g.push(new AC(a))}.bind(a),function(a){if(a&&a instanceof JA){a=7==a.Wb||12==a.Wb;b.getId();var c=Zs(b.g,"lastModifiedServerTimestamp")||-1,f=b.getId(),h=this.o.g,k=Tx(h),n=k[f],p={};p.count=n?n.count+1:1;p.modelSyncFailCount=
(n?n.modelSyncFailCount:0)+(a?1:0);p.serverTime=c;k[f]=p;Z(h,"failedToSyncDocs",k);a=YB(this.o)}else throw a;this.g.push(new AC("failure"));return a}.bind(a))}
vC.prototype.B=function(a){Gh("Checking lock state for docId: "+a.getId());return(new T(function(b,c){var d=a.getId(),e=this.A.$.B.A,d=Y(qw(e,void 0,c),"DocumentLocks").get([d]);qn(d,z(e.zk,e,b));c&&zv(d,ff(c))}.bind(this))).then(function(b){switch(b){case "available":return!0;case "unavailable":return!1;case "expiredOtherSid":return Gh("Requiring lock survey for id: "+a.getId()),b=new sC(a.getId(),this.H),K(this,b),tC(b).then(function(a){return!a});default:throw Error("Unexpected lock state result: "+
b);}}.bind(this))};function AC(a){this.state=a};function BC(a,b,c){this.g=a;this.j=b;this.o=t(c)?c:!1}function CC(a,b){var c=a.$.Ee();return(new T(function(a,b){At(c,a,b)})).then(function(c){return new BC(c||new Bt(!0),a,b)})}function YB(a){return a.o?Sf():DC(a)}function WB(a,b){Z(a.g,"lastSyncedChangestamp",b)}function XB(a){var b=A();Z(a.g,"lastSyncTimestamp",b)}function DC(a){return new T(function(a,c){this.j.write([this.g],a,c)}.bind(a))};function EC(a){J.call(this);this.g=[];this.j=new Bj(this.v,a||500,this);K(this,this.j)}B(EC,J);EC.prototype.o=function(){var a=Yf();this.g.push(a);this.j.Le();return a.j};EC.prototype.v=function(){var a;a=this.g.shift();this.g.length&&this.j.Le();a.g()};function FC(a){this.g=a}function zC(a,b,c,d,e,f,h,k,n){return new T(function(a,r){EB(this.g,b,c,a,r,d,e,f,h,k,n).Wa()},a)};function GC(a,b,c){M.call(this,b,a);this.data=c}B(GC,M);function HC(a){Q.call(this);this.j=!1;this.g=null;this.v=new X(this);K(this,this.v);this.A=a;this.o=new Pn;K(this,this.o)}B(HC,Q);HC.prototype.connect=function(){this.j||(this.j=!0,this.g=this.A.g,this.v.L(this.g,"message",this.B.bind(this)),this.g.start())};function uC(a,b){if(!a.j)throw Error("Trying to publish without connecting first.");var c=new kC;G(c,1,1);H(c,2,b);a.g.postMessage(c.ca)}
HC.prototype.B=function(a){this.o.Pb(z(function(){var b=new mC(a.g.data),c;a:{for(var d in nC)if(c=nC[Number(d)],Tb(b,c))break a;c=null}c&&(d="ya_"+c.g,b=Tb(b,c),R(this,new GC(this,d,b)))},this),0)};HC.prototype.F=function(){if(this.g){var a=new kC;G(a,1,0);this.g.postMessage(a.ca);this.g.close()}HC.G.F.call(this)};function IC(a){this.g=a};function JC(a,b){this.j=a;this.g=b}function KC(a){var b=Yf(),c=new MessageChannel,d=new ZB;G(d,1,1);a.j.postMessage(d.ca,[c.port1]);c.port2.onmessage=Nn(a.g,function(a){b.g(new HC(new IC(a.ports[0])))},a,!1);return b.j};function LC(a){this.j=!1;this.o=a}B(LC,TB);LC.prototype.g=function(){return new T(z(function(a,b){hB(this.o,a,b)},this))};function MC(a,b){this.v=a;this.o=b}B(MC,TB);MC.prototype.g=function(){return oB(new nB(this.v.$.j)).then(this.o.v.bind(this.o))};function NC(a){this.g=a}NC.prototype.get=function(){return new T(function(a,b){DB(this.g,a,b)},this)};function OC(a,b){return new T(function(a,d){DB(this.g,a,d,b)},a)};function PC(a,b){this.j=!1;this.o=a;this.v=b}B(PC,TB);PC.prototype.g=function(){return this.o.get().then(z(function(a){var b=this.v.g.map(z(function(b){var d=Yf(),e=ta(this.A,d,b);if(a.$.Zc()){var f=b.He,h=z(b.wg,b,a,e,null);b=z(b.wg,b,a,e,null,null);(e=a.$.Zc())?Nw(e,f.g,z(f.A,f,a,h,b),z(f.o,f,b)):h(0)}else e(0,!0);return d.j},this));return Xf(b)},this)).then(z(function(a){for(var b=!0,c=0;c<a.length;c++)a[c].Cg||(b=!1);if(!b)throw Error("Metadata task failed.");},this))};
PC.prototype.A=function(a,b,c,d){d&&null!==c||a.o(Error("Fetcher "+b+" failed to sync metadata.metadataWriteSuccess: "+d+", docIdsSyncedFailure: "+(null===c)));a.g()};function QC(a,b,c){this.v=a;this.A=b;this.o=c}B(QC,TB);QC.prototype.g=function(){var a=this.v.$.j;return(new T(function(b,c){var d=this.o,e=mv(a.A,["Documents"],"Error reading documents.",c);a.Wd(e,b,d)}.bind(this))).then(function(a){a=a.map(function(a){return new lB(a,1,!1)});return this.A.v(a)}.bind(this))};function RC(a,b,c,d,e){this.v=a;this.A=b;this.o=c;this.C=d;this.B=e}B(RC,TB);RC.prototype.g=function(){return(new T(function(a,b){Dw(this.v.$.j,this.o,a,b)}.bind(this))).then(function(a){return a?zC(this.A,this.v,a,!1,this.C,this.B,!1,!1,1):Tf("Document "+this.o+" not found.")}.bind(this))};function SC(a){this.j=!1;this.o=a}B(SC,TB);SC.prototype.g=function(){return new T(z(function(a,b){V(this.o,function(c){c.j(a,b)},b)},this))};function TC(a,b,c){this.A=a;this.j=b;this.g=new yB(b,c,null);K(this,this.g);this.o=new NC(this.g);this.C=new FC(this.g);this.I=new JC(this.A,this.j);this.B=new EC;K(this,this.B);this.H=new bC(this.A,this.j);this.D=new X(this);K(this,this.D);this.v=new oo(new Wm);this.v.A=lo;a=Ti(Vi(),"docs-offline-lsuid");Tn(this.v.j,"ouid",a)}B(TC,J);function UC(a){a.D.L(a.A,"message",Nn(a.j,a.J,a))}
TC.prototype.J=function(a){if((a=a.g)&&a.data&&a.ports&&a.ports.length){var b=a.ports[0];a=new mt(a.data);VC(this,a).then(function(a){b.postMessage(a.ca)})}};function VC(a,b){var c=F(b,1),d=new nt;G(d,1,c);switch(c){case 0:return c=Wa(Qb(b,ot,2)),WC(a,c).then(function(a){H(d,2,a);return d});default:throw Error("Could not handle task request of type "+F(b,1));}}
function WC(a,b){var c=Wa(F(b,1));a.j.D["offline_task_"+c]="true";var d=new st;return Sf().then(function(){return XC(this,b)}.bind(a)).then(function(a){K(this,a);return a.tf()}.bind(a)).then(function(){G(d,1,0);return d}.bind(a),function(a){Cn(this.j,Error("Task execution failure: "+a));G(d,1,1);return d}.bind(a))}
function XC(a,b){var c=Wa(F(b,1));switch(c){case "metadata":return new PC(a.o,JB(a.g));case "sync_doc":var c=Wa(Qb(b,pt,2)),d=Wa(F(c,4)),e=Wa(F(c,1)),f=Xa(F(c,2)),h=Wa(F(c,3));return OC(a.o,d).then(function(a){return new RC(a,this.C,e,f,h)}.bind(a));case "local_changes_sync":return a.o.get().then(function(a){return CC(a).then(function(b){return YC(this,a,b).then(function(b){return new MC(a,b)}.bind(this))}.bind(this))}.bind(a));case "multi_doc_sync":var c=Wa(Qb(b,qt,3)),k=Wa(F(c,1)),d=Wa(F(c,2));
return OC(a.o,d).then(function(a){return CC(a,!0).then(function(b){return YC(this,a,b).then(function(b){return new QC(a,b,k)}.bind(this))}.bind(this))}.bind(a));case "impressionSync":return GB(a.g).then(function(){var a=this.g,b={},c;for(c in a.j){var d=a.j[c];d.g.C&&(d=new tt(vB(d)),b[c]=d)}c=a.o.$.og();if(!c)throw Error("impressionCapability should exist");return new LC(new gB(c,b,a.g))}.bind(a));case "webfonts_sync":return GB(a.g).then(function(){var a=this.g,b=a.o,c=b.Xb(),d=new wt;if(null==a.H){var e=
a.o,f=new ku(vB(a.j.kix),a.g,{}),h=e.Xb(),e=h?new hu(h,e,CB(a),a.g):null,e=xg(e),e=new $y(new Vy([Zy(e),f]),e);a.H=new Mt(new Nt(d),e,new bz);a.J=f}d=FB(a);f=new U;f.T(z(a.Gi,a,b,c));sg(d,f);return new SC(f)}.bind(a));case "auto_sync":return a.o.get().then(function(a){return CC(a).then(function(b){return YC(this,a,b).then(function(c){return new UB(a,c,b,this.v)}.bind(this))}.bind(this))}.bind(a));default:throw Error("Cannot handle task type "+c);}}
function YC(a,b,c){return KC(a.I).then(function(a){var e=this.j,f=this.g;if(!f.B){var h=FB(f);f.B=new Ky(h)}e=new dC(e,b,f.B,this.B,this.H,c);return new vC(this.C,e,a,this.B,b,c)}.bind(a))};(function(){var a=self,b=new In(0,"offlineCommon",void 0,0,!0);Nn(b,function(){UC(new TC(a,b,function(a){return new lt(a)}))},{},!0)()})(); })()
