(function() { function aa(a){return function(){return this[a]}}function ba(a){return function(){return a}}var h,ca=ca||{},l=this;function m(a){return void 0!==a}function ea(a){a=a.split(".");for(var b=l,c;c=a.shift();)if(null!=b[c])b=b[c];else return null;return b}function fa(){}function ga(a){a.$=function(){return a.Xa?a.Xa:a.Xa=new a}}
function ha(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function n(a){return"array"==ha(a)}function ia(a){var b=ha(a);return"array"==b||"object"==b&&"number"==typeof a.length}function ja(a){return"string"==typeof a}function ka(a){return"function"==ha(a)}function la(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}var ma="closure_uid_"+(1E9*Math.random()>>>0),na=0;function oa(a,b,c){return a.call.apply(a.bind,arguments)}
function pa(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function p(a,b,c){p=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?oa:pa;return p.apply(null,arguments)}
function qa(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}}var ra=Date.now||function(){return+new Date};
function sa(a){if(l.execScript)l.execScript(a,"JavaScript");else if(l.eval){if(null==ta)if(l.eval("var _evalTest_ = 1;"),"undefined"!=typeof l._evalTest_){try{delete l._evalTest_}catch(d){}ta=!0}else ta=!1;if(ta)l.eval(a);else{var b=l.document,c=b.createElement("SCRIPT");c.type="text/javascript";c.defer=!1;c.appendChild(b.createTextNode(a));b.body.appendChild(c);b.body.removeChild(c)}}else throw Error("goog.globalEval not available");}var ta=null;
function r(a,b){function c(){}c.prototype=b.prototype;a.J=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.Vb=function(a,c,f){for(var g=Array(arguments.length-2),k=2;k<arguments.length;k++)g[k-2]=arguments[k];return b.prototype[c].apply(a,g)}};function t(a){if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))}r(t,Error);t.prototype.name="CustomError";var ua=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")};function va(a){return encodeURIComponent(String(a))}function wa(a){return decodeURIComponent(a.replace(/\+/g," "))}function u(a){return-1!=xa.indexOf(a)}var ya=String.prototype.repeat?function(a,b){return a.repeat(b)}:function(a,b){return Array(b+1).join(a)};function za(a){return Array.prototype.join.call(arguments,"")}function Aa(a,b){return a<b?-1:a>b?1:0}
var Ba=2147483648*Math.random()|0;function Ca(a){return a};function Da(a,b,c){for(var d in a)b.call(c,a[d],d,a)}function Ea(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function Fa(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}function Ga(a){return null!==a&&"withCredentials"in a}function Ha(a){for(var b in a)return!1;return!0}function Ia(a){var b={},c;for(c in a)b[c]=a[c];return b}function Ja(a){var b=ha(a);if("object"==b||"array"==b){if(ka(a.clone))return a.clone();var b="array"==b?[]:{},c;for(c in a)b[c]=Ja(a[c]);return b}return a}var Ka="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");
function La(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<Ka.length;f++)c=Ka[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}}function Ma(a){var b=arguments.length;if(1==b&&n(arguments[0]))return Ma.apply(null,arguments[0]);if(b%2)throw Error("Uneven number of arguments");for(var c={},d=0;d<b;d+=2)c[arguments[d]]=arguments[d+1];return c};function Na(a){this.g={};(a=a||l._docs_flag_initialData)&&La(this.g,a)}ga(Na);Na.prototype.get=function(a){return this.g[a]};function Oa(a,b){var c=a.get(b);return ja(c)?"true"==c||"1"==c:!!c}function Pa(a){var b=w();return Number(b.get(a))}function x(a,b){var c=a.get(b);return null!=c?String(c):""};function w(){return Na.$()};function y(a,b){return Array.prototype.indexOf.call(a,b,void 0)}function Qa(a,b){return Array.prototype.some.call(a,b,void 0)}function Ra(a){var b;a:{b=Sa;for(var c=a.length,d=ja(a)?a.split(""):a,e=0;e<c;e++)if(e in d&&b.call(void 0,d[e],e,a)){b=e;break a}b=-1}return 0>b?null:ja(a)?a.charAt(b):a[b]}function Ta(a,b){var c=y(a,b),d;(d=0<=c)&&Array.prototype.splice.call(a,c,1);return d}function Ua(a){return Array.prototype.concat.apply(Array.prototype,arguments)}
function Va(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c];if(ia(d)){var e=a.length||0,f=d.length||0;a.length=e+f;for(var g=0;g<f;g++)a[e+g]=d[g]}else a.push(d)}}function Wa(a){for(var b={},c=0,d=0;d<a.length;){var e=a[d++],f;f=e;f=la(f)?"o"+(f[ma]||(f[ma]=++na)):(typeof f).charAt(0)+f;Object.prototype.hasOwnProperty.call(b,f)||(b[f]=!0,a[c++]=e)}a.length=c}function Xa(a,b){return a===b};var xa;a:{var Ya=l.navigator;if(Ya){var Za=Ya.userAgent;if(Za){xa=Za;break a}}xa=""};function $a(){return u("Opera")||u("OPR")}function ab(){return(u("Chrome")||u("CriOS"))&&!$a()&&!u("Edge")};function bb(){return u("iPhone")&&!u("iPod")&&!u("iPad")};var cb="",db=/WebKit\/(\S+)/.exec(xa);db&&(cb=db?db[1]:"");var eb=cb,fb={};
function gb(){if(!fb["528"]){for(var a=0,b=ua(String(eb)).split("."),c=ua("528").split("."),d=Math.max(b.length,c.length),e=0;0==a&&e<d;e++){var f=b[e]||"",g=c[e]||"",k=RegExp("(\\d*)(\\D*)","g"),q=RegExp("(\\d*)(\\D*)","g");do{var v=k.exec(f)||["","",""],z=q.exec(g)||["","",""];if(0==v[0].length&&0==z[0].length)break;a=Aa(0==v[1].length?0:parseInt(v[1],10),0==z[1].length?0:parseInt(z[1],10))||Aa(0==v[2].length,0==z[2].length)||Aa(v[2],z[2])}while(0==a)}fb["528"]=0<=a}};var hb=u("Firefox"),ib=bb()||u("iPod"),jb=u("iPad"),kb=u("Android")&&!(ab()||u("Firefox")||$a()||u("Silk")),lb=ab(),mb=u("Safari")&&!(ab()||u("Coast")||$a()||u("Edge")||u("Silk")||u("Android"))&&!(bb()||u("iPad")||u("iPod"));function nb(){try{var a=l.localStorage;if(a&&(lb||mb)&&(a.setItem("test","test"),"test"==a.getItem("test")&&(a.removeItem("test"),null==a.getItem("test"))))return!0}catch(b){}return!1};function ob(){this.j="";this.g=null}function pb(a){var b=new ob;b.j=a;b.g=0}pb("<!DOCTYPE html>");pb("");function qb(a){var b;b=b||0;return function(){return a.apply(this,Array.prototype.slice.call(arguments,0,b))}};var rb="StopIteration"in l?l.StopIteration:{message:"StopIteration",stack:""};function sb(){}sb.prototype.next=function(){throw rb;};sb.prototype.Da=function(){return this};function tb(a){if(a instanceof sb)return a;if("function"==typeof a.Da)return a.Da(!1);if(ia(a)){var b=0,c=new sb;c.next=function(){for(;;){if(b>=a.length)throw rb;if(b in a)return a[b++];b++}};return c}throw Error("Not implemented");}
function ub(a,b){if(ia(a))try{Array.prototype.forEach.call(a,b,void 0)}catch(c){if(c!==rb)throw c;}else{a=tb(a);try{for(;;)b.call(void 0,a.next(),void 0,a)}catch(c){if(c!==rb)throw c;}}};function vb(a,b){this.j={};this.g=[];this.v=this.o=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)wb(this,arguments[d],arguments[d+1])}else if(a){a instanceof vb?(c=a.X(),d=a.Y()):(c=Fa(a),d=Ea(a));for(var e=0;e<c.length;e++)wb(this,c[e],d[e])}}h=vb.prototype;h.aa=aa("o");h.Y=function(){xb(this);for(var a=[],b=0;b<this.g.length;b++)a.push(this.j[this.g[b]]);return a};h.X=function(){xb(this);return this.g.concat()};h.ia=function(){return 0==this.o};
h.clear=function(){this.j={};this.v=this.o=this.g.length=0};function xb(a){if(a.o!=a.g.length){for(var b=0,c=0;b<a.g.length;){var d=a.g[b];yb(a.j,d)&&(a.g[c++]=d);b++}a.g.length=c}if(a.o!=a.g.length){for(var e={},c=b=0;b<a.g.length;)d=a.g[b],yb(e,d)||(a.g[c++]=d,e[d]=1),b++;a.g.length=c}}h.get=function(a,b){return yb(this.j,a)?this.j[a]:b};function wb(a,b,c){yb(a.j,b)||(a.o++,a.g.push(b),a.v++);a.j[b]=c}
h.forEach=function(a,b){for(var c=this.X(),d=0;d<c.length;d++){var e=c[d],f=this.get(e);a.call(b,f,e,this)}};h.clone=function(){return new vb(this)};h.Da=function(a){xb(this);var b=0,c=this.v,d=this,e=new sb;e.next=function(){if(c!=d.v)throw Error("The map has changed since the iterator was created");if(b>=d.g.length)throw rb;var e=d.g[b++];return a?e:d.j[e]};return e};function yb(a,b){return Object.prototype.hasOwnProperty.call(a,b)};function zb(a){if(a.Y&&"function"==typeof a.Y)return a.Y();if(ja(a))return a.split("");if(ia(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return Ea(a)}
function Ab(a,b){if(a.forEach&&"function"==typeof a.forEach)a.forEach(b,void 0);else if(ia(a)||ja(a))Array.prototype.forEach.call(a,b,void 0);else{var c;if(a.X&&"function"==typeof a.X)c=a.X();else if(a.Y&&"function"==typeof a.Y)c=void 0;else if(ia(a)||ja(a)){c=[];for(var d=a.length,e=0;e<d;e++)c.push(e)}else c=Fa(a);for(var d=zb(a),e=d.length,f=0;f<e;f++)b.call(void 0,d[f],c&&c[f],a)}};function A(){this.C=this.C;this.H=this.H}A.prototype.C=!1;A.prototype.U=function(){this.C||(this.C=!0,this.G())};function Bb(a,b){Cb(a,qa(B,b))}function Cb(a,b,c){a.C?b.call(c):(a.H||(a.H=[]),a.H.push(m(c)?p(b,c):b))}A.prototype.G=function(){if(this.H)for(;this.H.length;)this.H.shift()()};function B(a){a&&"function"==typeof a.U&&a.U()}function Db(a){for(var b=0,c=arguments.length;b<c;++b){var d=arguments[b];ia(d)?Db.apply(null,d):B(d)}};function C(a,b){this.type=a;this.j=this.target=b;this.o=!1;this.ab=!0}C.prototype.stopPropagation=function(){this.o=!0};C.prototype.v=function(){this.ab=!1};var Eb=[],Fb=[],Gb=!1;function Hb(a){Eb[Eb.length]=a;if(Gb)for(var b=0;b<Fb.length;b++)a(p(Fb[b].g,Fb[b]))};gb();gb();function Ib(a,b){C.call(this,a?a.type:"");this.j=this.target=null;this.clientY=this.clientX=0;this.g=null;if(a){this.type=a.type;var c=a.changedTouches?a.changedTouches[0]:null;this.target=a.target||a.srcElement;this.j=b;null===c?(this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY):(this.clientX=void 0!==c.clientX?c.clientX:c.pageX,this.clientY=void 0!==c.clientY?c.clientY:c.pageY);this.g=a;a.defaultPrevented&&this.v()}}r(Ib,C);
Ib.prototype.stopPropagation=function(){Ib.J.stopPropagation.call(this);this.g.stopPropagation?this.g.stopPropagation():this.g.cancelBubble=!0};Ib.prototype.v=function(){Ib.J.v.call(this);var a=this.g;a.preventDefault?a.preventDefault():a.returnValue=!1};var Jb="closure_listenable_"+(1E6*Math.random()|0),Kb=0;function Lb(a,b,c,d,e){this.listener=a;this.g=null;this.src=b;this.type=c;this.Fa=!!d;this.za=e;this.key=++Kb;this.sa=this.wa=!1}function Mb(a){a.sa=!0;a.listener=null;a.g=null;a.src=null;a.za=null};function Nb(a){this.src=a;this.g={};this.j=0}function Ob(a,b,c,d,e,f){var g=b.toString();b=a.g[g];b||(b=a.g[g]=[],a.j++);var k=Pb(b,c,e,f);-1<k?(a=b[k],d||(a.wa=!1)):(a=new Lb(c,a.src,g,!!e,f),a.wa=d,b.push(a));return a}function Qb(a,b){var c=b.type;c in a.g&&Ta(a.g[c],b)&&(Mb(b),0==a.g[c].length&&(delete a.g[c],a.j--))}function Rb(a,b,c,d,e){a=a.g[b.toString()];b=-1;a&&(b=Pb(a,c,d,e));return-1<b?a[b]:null}
function Pb(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.sa&&f.listener==b&&f.Fa==!!c&&f.za==d)return e}return-1};var Sb="closure_lm_"+(1E6*Math.random()|0),Tb={},Ub=0;
function Vb(a,b,c,d,e){if(n(b)){for(var f=0;f<b.length;f++)Vb(a,b[f],c,d,e);return null}c=Wb(c);if(a&&a[Jb])a=a.ba(b,c,d,e);else{if(!b)throw Error("Invalid event type");var f=!!d,g=Xb(a);g||(a[Sb]=g=new Nb(a));c=Ob(g,b,c,!1,d,e);if(!c.g){d=Yb();c.g=d;d.src=a;d.listener=c;if(a.addEventListener)a.addEventListener(b.toString(),d,f);else if(a.attachEvent)a.attachEvent(Zb(b.toString()),d);else throw Error("addEventListener and attachEvent are unavailable.");Ub++}a=c}return a}
function Yb(){function a(c){return b.call(a.src,a.listener,c)}var b=$b;return a}function ac(a,b,c,d,e){if(n(b))for(var f=0;f<b.length;f++)ac(a,b[f],c,d,e);else c=Wb(c),a&&a[Jb]?a.Ma(b,c,d,e):a&&(a=Xb(a))&&(b=Rb(a,b,c,!!d,e))&&bc(b)}function bc(a){if("number"!=typeof a&&a&&!a.sa){var b=a.src;if(b&&b[Jb])Qb(b.ca,a);else{var c=a.type,d=a.g;b.removeEventListener?b.removeEventListener(c,d,a.Fa):b.detachEvent&&b.detachEvent(Zb(c),d);Ub--;(c=Xb(b))?(Qb(c,a),0==c.j&&(c.src=null,b[Sb]=null)):Mb(a)}}}
function Zb(a){return a in Tb?Tb[a]:Tb[a]="on"+a}function $b(a,b){var c;if(a.sa)c=!0;else{c=new Ib(b,this);var d=a.listener,e=a.za||a.src;a.wa&&bc(a);c=d.call(e,c)}return c}function Xb(a){a=a[Sb];return a instanceof Nb?a:null}var cc="__closure_events_fn_"+(1E9*Math.random()>>>0);function Wb(a){if(ka(a))return a;a[cc]||(a[cc]=function(b){return a.handleEvent(b)});return a[cc]}Hb(function(a){$b=a($b)});function D(){A.call(this);this.ca=new Nb(this);this.Ca=this;this.F=null}r(D,A);D.prototype[Jb]=!0;h=D.prototype;h.addEventListener=function(a,b,c,d){Vb(this,a,b,c,d)};h.removeEventListener=function(a,b,c,d){ac(this,a,b,c,d)};
function E(a,b){var c,d=a.F;if(d){c=[];for(var e=1;d;d=d.F)c.push(d),++e}var d=a.Ca,e=b,f=e.type||e;if(ja(e))e=new C(e,d);else if(e instanceof C)e.target=e.target||d;else{var g=e,e=new C(f,d);La(e,g)}var g=!0,k;if(c)for(var q=c.length-1;!e.o&&0<=q;q--)k=e.j=c[q],g=dc(k,f,!0,e)&&g;e.o||(k=e.j=d,g=dc(k,f,!0,e)&&g,e.o||(g=dc(k,f,!1,e)&&g));if(c)for(q=0;!e.o&&q<c.length;q++)k=e.j=c[q],g=dc(k,f,!1,e)&&g}
h.G=function(){D.J.G.call(this);if(this.ca){var a=this.ca,b=0,c;for(c in a.g){for(var d=a.g[c],e=0;e<d.length;e++)++b,Mb(d[e]);delete a.g[c];a.j--}}this.F=null};h.ba=function(a,b,c,d){return Ob(this.ca,String(a),b,!1,c,d)};h.Ma=function(a,b,c,d){var e;e=this.ca;a=String(a).toString();if(a in e.g){var f=e.g[a];b=Pb(f,b,c,d);-1<b?(Mb(f[b]),Array.prototype.splice.call(f,b,1),0==f.length&&(delete e.g[a],e.j--),e=!0):e=!1}else e=!1;return e};
function dc(a,b,c,d){b=a.ca.g[String(b)];if(!b)return!0;b=b.concat();for(var e=!0,f=0;f<b.length;++f){var g=b[f];if(g&&!g.sa&&g.Fa==c){var k=g.listener,q=g.za||g.src;g.wa&&Qb(a.ca,g);e=!1!==k.call(q,d)&&e}}return e&&0!=d.ab};function ec(a){a=String(a);if(/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}throw Error("Invalid JSON string: "+a);}function fc(a){return(new gc(void 0)).j(a)}function gc(a){this.g=a}gc.prototype.j=function(a){var b=[];hc(this,a,b);return b.join("")};
function hc(a,b,c){if(null==b)c.push("null");else{if("object"==typeof b){if(n(b)){var d=b;b=d.length;c.push("[");for(var e="",f=0;f<b;f++)c.push(e),e=d[f],hc(a,a.g?a.g.call(d,String(f),e):e,c),e=",";c.push("]");return}if(b instanceof String||b instanceof Number||b instanceof Boolean)b=b.valueOf();else{c.push("{");f="";for(d in b)Object.prototype.hasOwnProperty.call(b,d)&&(e=b[d],"function"!=typeof e&&(c.push(f),ic(d,c),c.push(":"),hc(a,a.g?a.g.call(b,d,e):e,c),f=","));c.push("}");return}}switch(typeof b){case "string":ic(b,
c);break;case "number":c.push(isFinite(b)&&!isNaN(b)?String(b):"null");break;case "boolean":c.push(String(b));break;case "function":c.push("null");break;default:throw Error("Unknown type: "+typeof b);}}}var jc={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0B":"\\u000b"},kc=/\uffff/.test("\uffff")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g;
function ic(a,b){b.push('"',a.replace(kc,function(a){var b=jc[a];b||(b="\\u"+(a.charCodeAt(0)|65536).toString(16).substr(1),jc[a]=b);return b}),'"')};function lc(a,b,c){this.v=c;this.o=a;this.C=b;this.j=0;this.g=null}lc.prototype.get=function(){var a;0<this.j?(this.j--,a=this.g,this.g=a.next,a.next=null):a=this.o();return a};function mc(a,b){a.C(b);a.j<a.v&&(a.j++,b.next=a.g,a.g=b)};function nc(a){l.setTimeout(function(){throw a;},0)}var oc;
function pc(){var a=l.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!u("Presto")&&(a=function(){var a=document.createElement("IFRAME");a.style.display="none";a.src="";document.documentElement.appendChild(a);var b=a.contentWindow,a=b.document;a.open();a.write("");a.close();var c="callImmediate"+Math.random(),d="file:"==b.location.protocol?"*":b.location.protocol+"//"+b.location.host,a=p(function(a){if(("*"==d||a.origin==d)&&a.data==
c)this.port1.onmessage()},this);b.addEventListener("message",a,!1);this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});if("undefined"!==typeof a&&!u("Trident")&&!u("MSIE")){var b=new a,c={},d=c;b.port1.onmessage=function(){if(m(c.next)){c=c.next;var a=c.Oa;c.Oa=null;a()}};return function(a){d.next={Oa:a};d=d.next;b.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(a){var b=document.createElement("SCRIPT");
b.onreadystatechange=function(){b.onreadystatechange=null;b.parentNode.removeChild(b);b=null;a();a=null};document.documentElement.appendChild(b)}:function(a){l.setTimeout(a,0)}}function qc(a){return a}Hb(function(a){qc=a});var sc=new lc(function(){return new rc},function(a){a.reset()},100);function tc(){var a=uc,b=null;a.g&&(b=a.g,a.g=a.g.next,a.g||(a.j=null),b.next=null);return b}function rc(){this.next=this.j=this.g=null}rc.prototype.reset=function(){this.next=this.j=this.g=null};function vc(a,b){wc||xc();yc||(wc(),yc=!0);var c=uc,d=sc.get();d.g=a;d.j=b;d.next=null;c.j?c.j.next=d:c.g=d;c.j=d}var wc;function xc(){if(l.Promise&&l.Promise.resolve){var a=l.Promise.resolve(void 0);wc=function(){a.then(zc)}}else wc=function(){var a=zc,a=qc(a);!ka(l.setImmediate)||l.Window&&l.Window.prototype&&!u("Edge")&&l.Window.prototype.setImmediate==l.setImmediate?(oc||(oc=pc()),oc(a)):l.setImmediate(a)}}var yc=!1,uc=new function(){this.j=this.g=null};
function zc(){for(var a=null;a=tc();){try{a.g.call(a.j)}catch(b){nc(b)}mc(sc,a)}yc=!1};function Ac(a){a.prototype.then=a.prototype.then;a.prototype.$goog_Thenable=!0}function Bc(a){if(!a)return!1;try{return!!a.$goog_Thenable}catch(b){return!1}};function G(a,b){this.g=0;this.H=void 0;this.v=this.j=this.o=null;this.C=this.w=!1;if(a!=fa)try{var c=this;a.call(b,function(a){Cc(c,2,a)},function(a){Cc(c,3,a)})}catch(d){Cc(this,3,d)}}function Dc(){this.next=this.o=this.j=this.v=this.g=null;this.C=!1}Dc.prototype.reset=function(){this.o=this.j=this.v=this.g=null;this.C=!1};var Ec=new lc(function(){return new Dc},function(a){a.reset()},100);function Fc(a,b,c){var d=Ec.get();d.v=a;d.j=b;d.o=c;return d}
function Gc(a){if(a instanceof G)return a;var b=new G(fa);Cc(b,2,a);return b}function Hc(){var a=Ic(4);return new G(function(b,c){c(a)})}function Jc(){var a,b,c=new G(function(c,e){a=c;b=e});return new Kc(c,a,b)}G.prototype.then=function(a,b,c){return Lc(this,ka(a)?a:null,ka(b)?b:null,c)};Ac(G);function Mc(a,b){Lc(a,null,b,void 0)}function Nc(a){0==a.g&&vc(function(){var a=new Oc(void 0);Pc(this,a)},a)}
function Pc(a,b){if(0==a.g)if(a.o){var c=a.o;if(c.j){for(var d=0,e=null,f=null,g=c.j;g&&(g.C||(d++,g.g==a&&(e=g),!(e&&1<d)));g=g.next)e||(f=g);e&&(0==c.g&&1==d?Pc(c,b):(f?(d=f,d.next==c.v&&(c.v=d),d.next=d.next.next):Qc(c),Rc(c,e,3,b)))}a.o=null}else Cc(a,3,b)}function Sc(a,b){a.j||2!=a.g&&3!=a.g||Tc(a);a.v?a.v.next=b:a.j=b;a.v=b}
function Lc(a,b,c,d){var e=Fc(null,null,null);e.g=new G(function(a,g){e.v=b?function(c){try{var e=b.call(d,c);a(e)}catch(v){g(v)}}:a;e.j=c?function(b){try{var e=c.call(d,b);!m(e)&&b instanceof Oc?g(b):a(e)}catch(v){g(v)}}:g});e.g.o=a;Sc(a,e);return e.g}G.prototype.F=function(a){this.g=0;Cc(this,2,a)};G.prototype.D=function(a){this.g=0;Cc(this,3,a)};
function Cc(a,b,c){if(0==a.g){a==c&&(b=3,c=new TypeError("Promise cannot resolve to itself"));a.g=1;var d;a:{var e=c,f=a.F,g=a.D;if(e instanceof G)Sc(e,Fc(f||fa,g||null,a)),d=!0;else if(Bc(e))e.then(f,g,a),d=!0;else{if(la(e))try{var k=e.then;if(ka(k)){Uc(e,k,f,g,a);d=!0;break a}}catch(q){g.call(a,q);d=!0;break a}d=!1}}d||(a.H=c,a.g=b,a.o=null,Tc(a),3!=b||c instanceof Oc||Vc(a,c))}}
function Uc(a,b,c,d,e){function f(a){k||(k=!0,d.call(e,a))}function g(a){k||(k=!0,c.call(e,a))}var k=!1;try{b.call(a,g,f)}catch(q){f(q)}}function Tc(a){a.w||(a.w=!0,vc(a.A,a))}function Qc(a){var b=null;a.j&&(b=a.j,a.j=b.next,b.next=null);a.j||(a.v=null);return b}G.prototype.A=function(){for(var a=null;a=Qc(this);)Rc(this,a,this.g,this.H);this.w=!1};
function Rc(a,b,c,d){if(3==c&&b.j&&!b.C)for(;a&&a.C;a=a.o)a.C=!1;if(b.g)b.g.o=null,Wc(b,c,d);else try{b.C?b.v.call(b.o):Wc(b,c,d)}catch(e){Xc.call(null,e)}mc(Ec,b)}function Wc(a,b,c){2==b?a.v.call(a.o,c):a.j&&a.j.call(a.o,c)}function Vc(a,b){a.C=!0;vc(function(){a.C&&Xc.call(null,b)})}var Xc=nc;function Oc(a){t.call(this,a)}r(Oc,t);Oc.prototype.name="cancel";function Kc(a,b,c){this.o=a;this.j=b;this.g=c};function Yc(a,b,c){if(ka(a))c&&(a=p(a,c));else if(a&&"function"==typeof a.handleEvent)a=p(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<b?-1:l.setTimeout(a,b||0)};function Zc(a,b,c,d,e,f){var g="";a&&(g+=a+":");c&&(g+="//",b&&(g+=b+"@"),g+=c,d&&(g+=":"+d));e&&(g+=e);f&&(g+="?"+f);return g}var $c=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#(.*))?$/;function ad(a,b){return a?b?decodeURI(a):decodeURIComponent(a):a}function bd(a,b){if(a)for(var c=a.split("&"),d=0;d<c.length;d++){var e=c[d].indexOf("="),f=null,g=null;0<=e?(f=c[d].substring(0,e),g=c[d].substring(e+1)):f=c[d];b(f,g?wa(g):"")}}
function cd(a){if(a[1]){var b=a[0],c=b.indexOf("#");0<=c&&(a.push(b.substr(c)),a[0]=b=b.substr(0,c));c=b.indexOf("?");0>c?a[1]="?":c==b.length-1&&(a[1]=void 0)}return a.join("")}function dd(a,b,c){if(n(b))for(var d=0;d<b.length;d++)dd(a,String(b[d]),c);else null!=b&&c.push("&",a,""===b?"":"=",va(b))}function ed(a,b,c){for(c=c||0;c<b.length;c+=2)dd(b[c],b[c+1],a);return a}function fd(a,b){for(var c in b)dd(c,b[c],a);return a}function gd(a){a=fd([],a);a[0]="";return a.join("")}
function hd(a,b){return cd(2==arguments.length?ed([a],arguments[1],0):ed([a],arguments,1))}function id(a,b){var c=a.length-1;0<=c&&a.indexOf("/",c)==c&&(a=a.substr(0,a.length-1));0==b.lastIndexOf("/",0)&&(b=b.substr(1));return za(a,"/",b)};function jd(){}jd.prototype.g=null;function kd(a){var b;(b=a.g)||(b={},ld(a)&&(b[0]=!0,b[1]=!0),b=a.g=b);return b};var md;function nd(){}r(nd,jd);function od(a){return(a=ld(a))?new ActiveXObject(a):new XMLHttpRequest}function ld(a){if(!a.j&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),a.j=d}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");}return a.j}md=new nd;function pd(a){D.call(this);this.W=new vb;this.K=a||null;this.j=!1;this.I=this.g=null;this.w=this.Z=this.O="";this.o=this.N=this.v=this.M=!1;this.D=0;this.A=null;this.R="";this.P=this.ga=!1}r(pd,D);var qd=/^https?$/i,rd=["POST","PUT"],sd=[];h=pd.prototype;h.mb=function(){this.U();Ta(sd,this)};
function td(a,b,c,d,e){if(a.g)throw Error("[goog.net.XhrIo] Object is active with another request="+a.O+"; newUri="+b);c=c?c.toUpperCase():"GET";a.O=b;a.w="";a.Z=c;a.M=!1;a.j=!0;a.g=a.K?od(a.K):od(md);a.I=a.K?kd(a.K):kd(md);a.g.onreadystatechange=p(a.Za,a);try{a.N=!0,a.g.open(c,String(b),!0),a.N=!1}catch(g){ud(a,g);return}b=d||"";var f=a.W.clone();e&&Ab(e,function(a,b){wb(f,b,a)});e=Ra(f.X());d=l.FormData&&b instanceof l.FormData;!(0<=y(rd,c))||e||d||wb(f,"Content-Type","application/x-www-form-urlencoded;charset=utf-8");
f.forEach(function(a,b){this.g.setRequestHeader(b,a)},a);a.R&&(a.g.responseType=a.R);Ga(a.g)&&(a.g.withCredentials=a.ga);try{vd(a),0<a.D&&(a.P=!1,a.P?(a.g.timeout=a.D,a.g.ontimeout=p(a.cb,a)):a.A=Yc(a.cb,a.D,a)),a.v=!0,a.g.send(b),a.v=!1}catch(g){ud(a,g)}}function Sa(a){return"content-type"==a.toLowerCase()}
h.cb=function(){"undefined"!=typeof ca&&this.g&&(this.w="Timed out after "+this.D+"ms, aborting",E(this,"timeout"),this.g&&this.j&&(this.j=!1,this.o=!0,this.g.abort(),this.o=!1,E(this,"complete"),E(this,"abort"),wd(this)))};function ud(a,b){a.j=!1;a.g&&(a.o=!0,a.g.abort(),a.o=!1);a.w=b;yd(a);wd(a)}function yd(a){a.M||(a.M=!0,E(a,"complete"),E(a,"error"))}h.G=function(){this.g&&(this.j&&(this.j=!1,this.o=!0,this.g.abort(),this.o=!1),wd(this,!0));pd.J.G.call(this)};
h.Za=function(){this.C||(this.N||this.v||this.o?zd(this):this.La())};h.La=function(){zd(this)};function zd(a){if(a.j&&"undefined"!=typeof ca&&(!a.I[1]||4!=Ad(a)||2!=Bd(a)))if(a.v&&4==Ad(a))Yc(a.Za,0,a);else if(E(a,"readystatechange"),4==Ad(a)){a.j=!1;try{if(Cd(a))E(a,"complete"),E(a,"success");else{var b;try{b=2<Ad(a)?a.g.statusText:""}catch(c){b=""}a.w=b+" ["+Bd(a)+"]";yd(a)}}finally{wd(a)}}}
function wd(a,b){if(a.g){vd(a);var c=a.g,d=a.I[0]?fa:null;a.g=null;a.I=null;b||E(a,"ready");try{c.onreadystatechange=d}catch(e){}}}function vd(a){a.g&&a.P&&(a.g.ontimeout=null);"number"==typeof a.A&&(l.clearTimeout(a.A),a.A=null)}
function Cd(a){var b=Bd(a),c;a:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:c=!0;break a;default:c=!1}if(!c){if(b=0===b)a=String(a.O).match($c)[1]||null,!a&&l.self&&l.self.location&&(a=l.self.location.protocol,a=a.substr(0,a.length-1)),b=!qd.test(a?a.toLowerCase():"");c=b}return c}function Ad(a){return a.g?a.g.readyState:0}function Bd(a){try{return 2<Ad(a)?a.g.status:-1}catch(b){return-1}}Hb(function(a){pd.prototype.La=a(pd.prototype.La)});function Dd(a,b){A.call(this);this.v=b;this.g=[];if(a>this.v)throw Error("[goog.structs.SimplePool] Initial cannot be greater than max");for(var c=0;c<a;c++)this.g.push(this.j())}r(Dd,A);function Ed(a,b){a.g.length<a.v?a.g.push(b):a.o(b)}Dd.prototype.j=function(){return{}};Dd.prototype.o=function(a){if(la(a))if(ka(a.U))a.U();else for(var b in a)delete a[b]};Dd.prototype.G=function(){Dd.J.G.call(this);for(var a=this.g;a.length;)this.o(a.pop());delete this.g};function Fd(){this.g=[];this.C=new vb;this.D=this.I=this.K=this.H=0;this.j=new vb;this.w=this.F=0;this.M=1;this.o=new Dd(0,4E3);this.o.j=function(){return new Gd};this.A=new Dd(0,50);this.A.j=function(){return new Hd};var a=this;this.v=new Dd(0,2E3);this.v.j=function(){return String(a.M++)};this.v.o=function(){}}function Hd(){this.Na=this.time=this.count=0}
Hd.prototype.toString=function(){var a=[];a.push(this.type," ",this.count," (",Math.round(10*this.time)/10," ms)");this.Na&&a.push(" [VarAlloc = ",this.Na,"]");return a.join("")};function Gd(){}function Id(a,b,c,d){var e=[];-1==c?e.push("    "):e.push(Jd(a.j-c));e.push(" ",Kd(a.j-b));0==a.g?e.push(" Start        "):1==a.g?(e.push(" Done "),e.push(Jd(a.C-a.startTime)," ms ")):e.push(" Comment      ");e.push(d,a);0<a.v&&e.push("[VarAlloc ",a.v,"] ");return e.join("")}
Gd.prototype.toString=function(){return null==this.type?this.o:"["+this.type+"] "+this.o};Fd.prototype.reset=function(){for(var a=0;a<this.g.length;a++){var b=this.o.id;b&&Ed(this.v,b);Ed(this.o,this.g[a])}this.g.length=0;this.C.clear();this.H=ra();this.w=this.F=this.D=this.I=this.K=0;b=this.j.X();for(a=0;a<b.length;a++){var c=this.j.get(b[a]);c.count=0;c.time=0;c.Na=0;Ed(this.A,c)}this.j.clear()};
Fd.prototype.toString=function(){for(var a=[],b=-1,c=[],d=0;d<this.g.length;d++){var e=this.g[d];1==e.g&&c.pop();a.push(" ",Id(e,this.H,b,c.join("")));b=e.j;a.push("\n");0==e.g&&c.push("|  ")}if(0!=this.C.aa()){var f=ra();a.push(" Unstopped timers:\n");ub(this.C,function(b){a.push("  ",b," (",f-b.startTime," ms, started at ",Kd(b.startTime),")\n")})}b=this.j.X();for(d=0;d<b.length;d++)c=this.j.get(b[d]),1<c.count&&a.push(" TOTAL ",c,"\n");a.push("Total tracers created ",this.F,"\n","Total comments created ",
this.w,"\n","Overhead start: ",this.K," ms\n","Overhead end: ",this.I," ms\n","Overhead comment: ",this.D," ms\n");return a.join("")};function Jd(a){a=Math.round(a);var b="";1E3>a&&(b=" ");100>a&&(b="  ");10>a&&(b="   ");return b+a}function Kd(a){a=Math.round(a);return String(100+a/1E3%60).substring(1,3)+"."+String(1E3+a%1E3).substring(1,4)}new Fd;function Ld(a){A.call(this);this.j=a}r(Ld,A);Ld.prototype.g=function(a){return Md(this,a)};function Nd(a,b){return(b?"__wrapper_":"__protected_")+(a[ma]||(a[ma]=++na))+"__"}function Md(a,b){var c=Nd(a,!0);b[c]||((b[c]=Od(a,b))[Nd(a,!1)]=b);return b[c]}function Od(a,b){function c(){if(a.C)return b.apply(this,arguments);try{return b.apply(this,arguments)}catch(c){throw a.j(c),new Pd(c);}finally{}}c[Nd(a,!1)]=b;return c}
function Qd(a,b){var c=ea("window"),d=c[b];c[b]=function(b,c){ja(b)&&(b=qa(sa,b));b=Md(a,b);return d.call?d.call(this,b,c):d(b,c)};c[b][Nd(a,!1)]=d}Ld.prototype.G=function(){var a=ea("window"),b;b=a.setTimeout;b=b[Nd(this,!1)]||b;a.setTimeout=b;b=a.setInterval;b=b[Nd(this,!1)]||b;a.setInterval=b;Ld.J.G.call(this)};function Pd(a){t.call(this,"Error in protected function: "+(a&&a.message?String(a.message):String(a)));(a=a&&a.stack)&&ja(a)&&(this.stack=a)}r(Pd,t);function Rd(a,b,c){D.call(this);this.v=b||null;this.o={};this.w=Sd;this.D=a;if(!c){this.g=null;this.g=new Ld(p(this.j,this));Qd(this.g,"setTimeout");Qd(this.g,"setInterval");a=this.g;b=ea("window");c=["requestAnimationFrame","mozRequestAnimationFrame","webkitAnimationFrame","msRequestAnimationFrame"];for(var d=0;d<c.length;d++){var e=c[d];c[d]in b&&Qd(a,e)}a=this.g;Gb=!0;b=p(a.g,a);for(c=0;c<Eb.length;c++)Eb[c](b);Fb.push(a)}}r(Rd,D);function Td(a,b){C.call(this,"a");this.error=a;this.g=b}r(Td,C);
function Sd(a,b,c,d){var e=new pd;sd.push(e);Ob(e.ca,"ready",e.mb,!0,void 0,void 0);td(e,a,b,c,d)}
Rd.prototype.j=function(a,b){var c;c=ea("window.location.href");if(ja(a))c={message:a,name:"Unknown error",lineNumber:"Not available",fileName:c,stack:"Not available"};else{var d,e,f=!1;try{d=a.lineNumber||a.Wb||"Not available"}catch(v){d="Not available",f=!0}try{e=a.fileName||a.filename||a.sourceURL||l.$googDebugFname||c}catch(v){e="Not available",f=!0}c=!f&&a.lineNumber&&a.fileName&&a.stack&&a.message&&a.name?a:{message:a.message||"Not available",name:a.name||"UnknownError",lineNumber:d,fileName:e,
stack:a.stack||"Not available"}}d=b?Ia(b):{};if(this.v)try{this.v(c,d)}catch(v){}f=c.message.substring(0,1900);e=c.stack;try{var g=hd(this.D,"script",c.fileName,"error",f,"line",c.lineNumber);Ha(this.o)||(g=cd(fd([g],this.o)));f={};f.trace=e;if(d)for(var k in d)f["context."+k]=d[k];var q=gd(f);this.w(g,"POST",q,this.A)}catch(v){}try{E(this,new Td(c,d))}catch(v){}};Rd.prototype.G=function(){B(this.g);Rd.J.G.call(this)};function Ud(){this.g=ra()}new Ud;Ud.prototype.reset=function(){this.g=ra()};Ud.prototype.get=aa("g");function Vd(a){A.call(this);this.j=a;this.g={}}r(Vd,A);var Wd=[];Vd.prototype.ba=function(a,b,c,d){n(b)||(b&&(Wd[0]=b.toString()),b=Wd);for(var e=0;e<b.length;e++){var f=Vb(a,b[e],c||this.handleEvent,d||!1,this.j||this);if(!f)break;this.g[f.key]=f}return this};
Vd.prototype.Ma=function(a,b,c,d,e){if(n(b))for(var f=0;f<b.length;f++)this.Ma(a,b[f],c,d,e);else c=c||this.handleEvent,e=e||this.j||this,c=Wb(c),d=!!d,b=a&&a[Jb]?Rb(a.ca,String(b),c,d,e):a?(a=Xb(a))?Rb(a,b,c,d,e):null:null,b&&(bc(b),delete this.g[b.key]);return this};function Xd(a){Da(a.g,function(a,c){this.g.hasOwnProperty(c)&&bc(a)},a);a.g={}}Vd.prototype.G=function(){Vd.J.G.call(this);Xd(this)};Vd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented");};function Yd(a,b){t.call(this,"Local storage error: "+b);this.type=a}r(Yd,t);function Zd(){}var $d=l.IDBKeyRange||l.webkitIDBKeyRange;
function ae(a,b,c,d,e,f){b=m(b)?be(b,c):null;e=e?"prev":"next";if(d)return a=ce(a,d),f?(f=m(b),d=m(e),f=f&&d?a.g.openKeyCursor(b,e):f?a.g.openKeyCursor(b):a.g.openKeyCursor(),b=new H(f,a.j,a.g.name+".openKeyCursor("+(b?b.lower+", "+b.upper:b)+", "+e+")",a.v,a.o)):(f=m(b),d=m(e),f=f&&d?a.g.openCursor(b,e):f?a.g.openCursor(b):a.g.openCursor(),b=new H(f,a.j,a.g.name+".openCursor("+(b?b.lower+", "+b.upper:b)+", "+e+")",a.v,a.o)),b;f=m(b);d=m(e);f=f&&d?a.g.openCursor(b,e):f?a.g.openCursor(b):a.g.openCursor();
return new H(f,a.j,a.g.name+".openCursor("+(b?b.lower+", "+b.upper:b)+", "+e+")",a.v,a.o)}function I(a,b,c,d){b=be(b,c);a=de(a,b);d&&J(a,d)}function ee(a,b,c,d){a=K(a,"Documents");var e=[];J(ae(a,d,void 0,void 0,void 0,void 0),function(a){if(a=a.target.result){var d=m(a.value)?a.value:a.key;(d=b(d))&&e.push(d);a["continue"]()}else c&&c(e)})}
function fe(a){var b=a.target.error,c=b&&b.name,b=b&&b.message||a.target.webkitErrorMessage;a.target.docs_internalAbort&&(b="Internal abort: "+b);return c+" ("+b+")"}function ge(a,b){return function(c){c.stopPropagation();b(new Yd(1,a+" ("+fe(c)+")"))}}function be(a,b){return m(b)&&a!=b?$d.bound(a,b):$d.only(a)};/*
 Portions of this code are from MochiKit, received by
 The Closure Authors under the MIT license. All other code is Copyright
 2005-2009 The Closure Authors. All Rights Reserved.
*/
function L(a,b){this.H=[];this.Z=a;this.O=b||null;this.w=this.o=!1;this.C=void 0;this.M=this.ga=this.F=!1;this.A=0;this.v=null;this.D=0}function he(a,b){if(a.o)a.C instanceof L&&he(a.C);else{if(a.v){var c=a.v;delete a.v;b?he(c,b):(c.D--,0>=c.D&&he(c))}a.Z?a.Z.call(a.O,a):a.M=!0;a.o||a.j(new ie)}}L.prototype.N=function(a,b){this.F=!1;je(this,a,b)};function je(a,b,c){a.o=!0;a.C=c;a.w=!b;ke(a)}function le(a){if(a.o){if(!a.M)throw new me;a.M=!1}}L.prototype.g=function(a){le(this);je(this,!0,a)};
L.prototype.j=function(a){le(this);je(this,!1,a)};function M(a,b,c){return ne(a,b,null,c)}function ne(a,b,c,d){a.H.push([b,c,d]);a.o&&ke(a);return a}L.prototype.then=function(a,b,c){var d,e,f=new G(function(a,b){d=a;e=b});ne(this,d,function(a){a instanceof ie?Nc(f):e(a)});return f.then(a,b,c)};Ac(L);function oe(a){return Qa(a.H,function(a){return ka(a[1])})}
function ke(a){if(a.A&&a.o&&oe(a)){var b=a.A,c=pe[b];c&&(l.clearTimeout(c.ya),delete pe[b]);a.A=0}a.v&&(a.v.D--,delete a.v);for(var b=a.C,d=c=!1;a.H.length&&!a.F;){var e=a.H.shift(),f=e[0],g=e[1],e=e[2];if(f=a.w?g:f)try{var k=f.call(e||a.O,b);m(k)&&(a.w=a.w&&(k==b||k instanceof Error),a.C=b=k);if(Bc(b)||"function"===typeof l.Promise&&b instanceof l.Promise)d=!0,a.F=!0}catch(q){b=q,a.w=!0,oe(a)||(c=!0)}}a.C=b;d&&(k=p(a.N,a,!0),d=p(a.N,a,!1),b instanceof L?(ne(b,k,d),b.ga=!0):b.then(k,d));c&&(b=new qe(b),
pe[b.ya]=b,a.A=b.ya)}function re(a){var b=new L;b.g(a);return b}function me(){t.call(this)}r(me,t);me.prototype.message="Deferred has already fired";me.prototype.name="AlreadyCalledError";function ie(){t.call(this)}r(ie,t);ie.prototype.message="Deferred was canceled";ie.prototype.name="CanceledError";function qe(a){this.ya=l.setTimeout(p(this.j,this),0);this.g=a}qe.prototype.j=function(){delete pe[this.ya];throw this.g;};var pe={};function se(a,b,c,d,e,f){L.call(this,e,f);this.K=a;this.I=[];this.P=!!b;this.Ca=!!c;this.ja=!!d;for(b=this.W=0;b<a.length;b++)ne(a[b],p(this.R,this,b,!0),p(this.R,this,b,!1));0!=a.length||this.P||this.g(this.I)}r(se,L);se.prototype.R=function(a,b,c){this.W++;this.I[a]=[b,c];this.o||(this.P&&b?this.g([a,c]):this.Ca&&!b?this.j(c):this.W==this.K.length&&this.g(this.I));this.ja&&!b&&(c=null);return c};se.prototype.j=function(a){se.J.j.call(this,a);for(a=0;a<this.K.length;a++)he(this.K[a])};function te(a,b){var c=Array.prototype.slice.call(arguments),d=c.shift();if("undefined"==typeof d)throw Error("[goog.string.format] Template required");d.replace(/%([0\-\ \+]*)(\d+)?(\.(\d+))?([%sfdiu])/g,function(a,b,d,k,q,v,z,da){if("%"==v)return"%";var F=c.shift();if("undefined"==typeof F)throw Error("[goog.string.format] Not enough arguments");arguments[0]=F;return ue[v].apply(null,arguments)})}
var ue={s:function(a,b,c){return isNaN(c)||""==c||a.length>=c?a:a=-1<b.indexOf("-",0)?a+ya(" ",c-a.length):ya(" ",c-a.length)+a},f:function(a,b,c,d,e){d=a.toString();isNaN(e)||""==e||(d=parseFloat(a).toFixed(e));var f;f=0>a?"-":0<=b.indexOf("+")?"+":0<=b.indexOf(" ")?" ":"";0<=a&&(d=f+d);if(isNaN(c)||d.length>=c)return d;d=isNaN(e)?Math.abs(a).toString():Math.abs(a).toFixed(e);a=c-d.length-f.length;return d=0<=b.indexOf("-",0)?f+d+ya(" ",a):f+ya(0<=b.indexOf("0",0)?"0":" ",a)+d},d:function(a,b,c,
d,e,f,g,k){return ue.f(parseInt(a,10),b,c,d,0,f,g,k)}};ue.i=ue.d;ue.u=ue.d;function ve(a){this.j=0;this.o=a||100;this.g=[]}h=ve.prototype;h.get=function(a){if(a>=this.g.length)throw Error("Out of bounds exception");a=this.g.length<this.o?a:(this.j+Number(a))%this.o;return this.g[a]};h.aa=function(){return this.g.length};h.ia=function(){return 0==this.g.length};h.clear=function(){this.j=this.g.length=0};h.Y=function(){for(var a=this.aa(),b=this.aa(),c=[],a=this.aa()-a;a<b;a++)c.push(this.get(a));return c};h.X=function(){for(var a=[],b=this.aa(),c=0;c<b;c++)a[c]=c;return a};
function we(a){return 0==a.aa()?null:a.get(a.aa()-1)};function xe(a){this.o=a;this.j=Math.floor(a/50);this.g=new ve(50)}xe.prototype.get=function(a){return ye(this,a,function(a,c){return a+c.count})};function ye(a,b,c){b=b||ra();ze(a,b);var d=0;b=a.j*(Math.floor(b/a.j)+1)-a.o;for(var e=a.g.aa()-1;0<=e;--e){var f=a.g.get(e);if(f.g<=b)break;d=c(d,f)}return d}function ze(a,b){var c=we(a.g);c&&(c=c.g-a.j,b<c&&(te("Went backwards in time: now=%d, slotStart=%d.  Resetting state.",b,c),a.g.clear()))}function Ae(a){this.g=a}Ae.prototype.count=0;
Ae.prototype.min=Number.MAX_VALUE;Ae.prototype.max=Number.MIN_VALUE;function Be(){this.g=new xe(8E3)}function Ce(a){t.call(this,a)}r(Ce,t);function De(a,b,c){A.call(this);this.j=a;this.A=b||0;this.o=c;this.v=p(this.w,this)}r(De,A);De.prototype.g=0;De.prototype.G=function(){De.J.G.call(this);Ee(this);delete this.j;delete this.o};function Ee(a){0!=a.g&&l.clearTimeout(a.g);a.g=0}De.prototype.w=function(){this.g=0;this.j&&this.j.call(this.o)};function Fe(a){A.call(this);this.o=new pd;this.F=new De(this.w,3E4,this);this.R=new Be;this.K=!1;this.D=new Vd(this);this.P=a||10;this.D.ba(this.o,"complete",this.N);this.D.ba(this.o,"ready",this.w)}r(Fe,A);function Ge(a,b,c,d,e){M(a.ma(),function(a){a>=this.P||(a={},a.u=b,a.m=c,a.c=d,a.h=e,M(this.xa(a),this.w,this))},a)}Fe.prototype.w=function(){0!=this.F.g||this.o.g||this.K||He(this)};
function He(a){M(a.la(),function(a){if(!this.o.g&&0==this.F.g&&!this.K&&a)if(4E3<a.u.length)this.ha();else try{var c=this.R;if(!(1>=(c.g.get()+1)/(c.g.o/1E3)))throw new Ce(za("Query would cause ","errorsender"," to exceed ",1," qps."));var d=c.g,e=ra();ze(d,e);var f=we(d.g);if(!f||e>=f.g){var f=new Ae(d.j*(Math.floor(e/d.j)+1)),g=d.g;g.g[g.j]=f;g.j=(g.j+1)%g.o}f.count+=1;f.min=Math.min(1,f.min);f.max=Math.max(1,f.max);td(this.o,a.u,a.m,a.c,a.h)}catch(k){if(k instanceof Ce)this.K=!0;else throw k;}},
a)}Fe.prototype.N=function(){var a=Bd(this.o);Cd(this.o)||400<=a&&500>=a?this.ha():(a=this.F,Ee(a),a.g=Yc(a.v,m(void 0)?void 0:a.A))};Fe.prototype.G=function(){Db(this.D,this.F,this.o);Fe.J.G.call(this)};function Ie(a,b,c,d,e){Fe.call(this,e);this.I=b;this.v=b+"-f";this.j=b+"-n";this.A=c;this.M=a;this.g=null;this.O=d||Je;a=this.O.open("DocsErrors",1);a.onsuccess=p(this.yb,this);a.onupgradeneeded=p(this.Mb,this);a.onerror=p(this.Va,this);a.onblocked=p(this.Va,this)}r(Ie,Fe);var Je=l.indexedDB||l.webkitIndexedDB;h=Ie.prototype;
h.yb=function(a){var b=a.target.result;a=b.transaction(["Errors"],"readwrite");M(new se([Ke(this.v,a),Ke(this.j,a)]),function(a){if(null==a[0][1]||null==a[1][1]){a=b.transaction(["Errors"],"readwrite");var d=a.objectStore("Errors");d.put({key:this.v,value:"1"});d.put({key:this.j,value:"1"});a.oncomplete=p(this.Ra,this,b)}else this.Ra(b)},this)};h.Ra=function(a){this.g=a;this.w()};h.Mb=function(a){a.target.transaction.db.createObjectStore("Errors",{keyPath:"key"})};
h.Va=function(a){this.g&&(this.g.close(),this.g=null);Le(this.M,Error("IdbErrorSender: "+fe(a)))};h.xa=function(a){if(!this.g)return this.A.xa(a);var b=this.g.transaction(["Errors"],"readwrite"),c=new L;M(Ke(this.j,b),function(d){if(d){var e=b.objectStore("Errors");e.put({key:this.j,value:String(d+1)});e.put({key:this.I+"-e-"+d,value:fc(a)});b.oncomplete=p(c.g,c)}else c.g()},this);return c};
h.ha=function(){if(!this.g)return this.A.ha();var a=this.g.transaction(["Errors"],"readwrite"),b=new L;M(new se([Ke(this.v,a),Ke(this.j,a)]),function(c){var d=c[0][1];c=c[1][1];if(!d||c<=d)b.g();else{var e=a.objectStore("Errors");e["delete"](this.I+"-e-"+d);d++;e.put({key:this.v,value:String(d)});M(Me(this,a),function(c){0==c&&(e.put({key:this.v,value:"1"}),e.put({key:this.j,value:"1"}));a.oncomplete=p(b.g,b)},this)}},this);return b};
h.la=function(){if(!this.g)return this.A.la();var a=this.g.transaction(["Errors"],"readonly");return M(new se([Ke(this.v,a),Ke(this.j,a)]),function(b){var c=b[0][1];return!c||1>b[1][1]-c?null:M(Ne(this.I+"-e-"+c,a),function(a){return a&&(a=ec(a))?a:M(this.ha(),this.la,this)},this)},this)};h.ma=function(){if(!this.g)return this.A.ma();var a=this.g.transaction(["Errors"],"readonly");return Me(this,a)};function Me(a,b){return M(new se([Ke(a.v,b),Ke(a.j,b)]),function(a){return a[1][1]-a[0][1]})}
function Ke(a,b){return M(Ne(a,b),function(a){a=parseInt(a,10);return 0>a||isNaN(a)?null:a})}function Ne(a,b){var c=b.objectStore("Errors"),d=new L;c.get(a).onsuccess=function(a){a.target.result?d.g(a.target.result.value):d.g(null)};return d}h.G=function(){this.g&&(this.g.close(),this.g=null);Ie.J.G.call(this)};function Oe(a,b){Fe.call(this,b);this.I=a;this.A=a+"-v";this.j=a+"-f";this.v=a+"-n";this.g=l.localStorage;nb();var c=Pe(this,this.A);if(!c||1>c)this.g.setItem(this.A,"1"),this.g.setItem(this.j,"1"),this.g.setItem(this.v,"1");this.w()}r(Oe,Fe);h=Oe.prototype;h.xa=function(a){var b=Pe(this,this.v);if(!b||1!=Pe(this,this.A))return re();this.g.setItem(this.v,String(b+1));this.g.setItem(this.I+"-e-"+b,fc(a));return re()};
h.ha=function(){var a=Pe(this,this.j);if(!a||1!=Pe(this,this.A))return re();this.g.removeItem(this.I+"-e-"+a);a++;this.g.setItem(this.j,String(a));return M(this.ma(),function(a){0==a&&(this.g.setItem(this.j,"1"),this.g.setItem(this.v,"1"))},this)};h.la=function(){var a=Pe(this,this.j);return a&&1==Pe(this,this.A)?M(this.ma(),function(b){if(1>b)return null;try{var c;if(c=this.g.getItem(this.I+"-e-"+a)){var d=ec(c);if(d)return d}}catch(e){}return M(this.ha(),this.la,this)},this):re(null)};
h.ma=function(){return re(Pe(this,this.v)-Pe(this,this.j))};function Pe(a,b){var c=parseInt(a.g.getItem(b),10);return 0>c||isNaN(c)?null:c}h.G=function(){delete this.g;Oe.J.G.call(this)};function Qe(a){Fe.call(this,a);this.g=[]}r(Qe,Fe);h=Qe.prototype;h.xa=function(a){this.g.push(a);return re()};h.ha=function(){this.g.shift();return re()};h.la=function(){return re(m(this.g[0])?this.g[0]:null)};h.ma=function(){return re(this.g.length)};h.G=function(){delete this.g;Qe.J.G.call(this)};function N(a){return N.g(a)}N.g=function(a){return a+"_"};N.w=function(){throw Error("xid.literal must not be used in COMPILED mode.");};N.v=function(a){if(a&&a.constructor&&a.constructor.toString()===Object.toString()){var b={},c;for(c in a)a.hasOwnProperty(c)&&(b[N.g(c)]=a[c]);return b}throw Error("xid.object must be called with an object literal.");};N.j=!0;N.o=function(a){return a};N.C=function(){return"a_"!=N("a")};function O(a){this.g=a}O.prototype.toString=aa("g");new O(N("goog.ui.ActivityMonitor"));new O(N("fava.app.AppLifetimeService"));new O(N("fava.base.AsyncOperationServices"));new O(N("fava.net.BrowserChannelServices"));new O(N("fava.canvas.CanvasService"));new O(N("fava.canvas.CanvasConfiguration"));new O(N("fava.diagnostics.CsiService"));new O(N("fava.data.DataServices"));new O(N("fava.data.DataStoreUpdaterService"));new O(N("fava.locale.DateTimeFormatService"));new O(N("fava.debug.DeobfuscationService"));new O(N("fava.diagnostics.Diagnostics"));new O(N("fava.component.DomServices"));
new O(N("fava.app.DragDropService"));new O(N("fava.browser.ExportService"));new O(N("fava.layout.FixedLayoutHelper"));new O(N("fava.gbar.GbarService"));new O(N("fava.gloader.GoogleLoaderService"));new O(N("fava.controls.help.HelpOverlayService"));new O(N("fava.view.HistoryInterface"));new O(N("fava.view.HistoryManager"));new O(N("fava.view.HistoryRegistry"));new O(N("fava.identity.IdentityService"));new O(N("fava.browser.IeCutCopyHandle"));new O(N("fava.diagnostics.Impressions"));new O(N("fava.browser.KeyboardShortcutHandler"));
new O(N("fava.browser.KeyboardShortcutRegistry"));new O(N("fava.controls.mole.MoleManager"));new O(N("fava.app.NavBarService"));new O(N("fava.view.NavigationServices"));new O(N("fava.net.NetworkDiagnosticsService"));new O(N("fava.app.NotificationService"));new O(N("fava.request.OauthService"));new O(N("fava.net.OfflineServices"));new O(N("fava.modules.PrefetchService"));new O(N("fava.controls.RelativeDateControl"));new O(N("fava.request.RequestService"));new O(N("fava.base.Scheduler"));new O(N("fava.net.ServerErrorService"));
new O(N("fava.dom.SoyRenderer"));new O(N("fava.dom.SoyRendererConfig"));new O(N("fava.app.TitleBar"));new O(N("fava.controls.Toast"));new O(N("fava.app.UserActionService"));new O(N("fava.browser.ViewportServices"));new O(N("fava.diagnostics.ViewDiagnostics"));new O(N("fava.view.ViewManagerInterface"));new O(N("fava.view.ViewRegistry"));new O(N("fava.browser.WindowService"));new O(N("fava.browser.WindowOpenerUtil"));new O(N("fava.app.WindowWidget"));new O(N("fava.request.XsrfService"));function Re(a,b,c,d,e,f,g){D.call(this);this.w={};this.g=null;this.I={};this.v=new Vd(this);this.K=!!e;this.o=null;var k;b&&nb()?k=new Oe(b,c):k=new Qe(c);b&&Je&&lb&&g?(this.o=new Ie(this,b,k,void 0,c),Bb(this,k)):this.o=k;a=x(w(),"docs-sup");a+="/jserror";(b=x(w(),"jobset"))&&(a=hd(a,"jobset",b));if(Se)throw Error("ErrorReporter already installed.");Se=!0;b=p(this.Rb,this);this.g=new Rd(a,b,void 0);this.g.A={"X-Same-Domain":"1","X-No-Abort":"1"};a=p(this.Sb,this);this.g.w=a;this.v.ba(this.g,"a",
this.ub);this.A=!1;this.D=!0;this.j=!1}r(Re,D);var Se=!1;function Le(a,b){a.j=!1;a.g&&a.g.j(b,Te("warning",void 0))}function P(a,b,c){a.j=!1;a.g&&a.g.j(b,Te("incident",c))}h=Re.prototype;h.log=function(a,b,c){this.j=!!c;if(!this.g)throw a;this.g.j(a,Te("incident",b))};
function Ue(a,b,c,d){return p(function(a){var f;a:{var g=!!d,k=arguments;if(this.g){try{f=b.apply(c,k);break a}catch(q){f=q;this.j=!1;if(!this.g)throw f;this.g.j(f,Te("fatal",void 0));if(g)throw q;}f=void 0}else f=b.apply(c,k)}return f},a)}function Te(a,b){var c=b?Ia(b):{};c.severity=a;return c}
h.ub=function(a){var b=a.g.severity;if((b="fatal"==b||"postmortem"==b)&&!this.K&&window.confirm("This error has been reported to Google and we'll look into it as soon as possible. Please reload this page to continue.")){var c=window;c.onbeforeunload=fa;c.location.reload()}E(this,new Ve(b?"b":"c",a.error))};
h.Rb=function(a,b){for(var c in this.w)try{b[c]=this.w[c]()}catch(e){}La(b,this.I);c=b.severity||"fatal";var d;a:{for(d in Array.prototype){d=!1;break a}d=!0}b.isArrayPrototypeIntact=d.toString();this.A?(this.D=this.j||!Oa(w(),"docs-spfe"),"fatal"==c?c="postmortem":"incident"==c&&(c="warningafterdeath")):"fatal"==c&&(this.A=!0);this.j=!1;b.severity=c};h.Sb=function(a,b,c,d){this.D&&Ge(this.o,a,b,c,d)};h.G=function(){Se=!1;Db(this.v,this.g,this.o);Re.J.G.call(this)};
function Ve(a,b){C.call(this,a);this.error=b}r(Ve,C);function Q(){}function R(a,b,c){a.g=null;b||(b=[]);a.H=void 0;a.C=-1;a.T=b;a:{if(a.T.length){b=a.T.length-1;var d=a.T[b];if(d&&"object"==typeof d&&!n(d)){a.w=b-a.C;a.v=d;break a}}a.w=Number.MAX_VALUE}if(c)for(b=0;b<c.length;b++)d=c[b],d<a.w?(d+=a.C,a.T[d]=a.T[d]||We):a.v[d]=a.v[d]||We}var We=[];function S(a,b){if(b<a.w){var c=b+a.C,d=a.T[c];return d===We?a.T[c]=[]:d}d=a.v[b];return d===We?a.v[b]=[]:d}function T(a,b,c){b<a.w?a.T[b+a.C]=c:a.v[b]=c}
function Xe(a,b,c){a.g||(a.g={});if(!a.g[c]){var d=S(a,c);d&&(a.g[c]=new b(d))}return a.g[c]}function Ye(a){var b=Ze;a.g||(a.g={});if(!a.g[1]){for(var c=S(a,1),d=[],e=0;e<c.length;e++)d[e]=new b(c[e]);a.g[1]=d}b=a.g[1];b==We&&(b=a.g[1]=[]);return b}function $e(a,b,c){a.g||(a.g={});var d=c?c.T:c;a.g[b]=c;T(a,b,d)}function af(a,b){a.g||(a.g={});b=b||[];for(var c=[],d=0;d<b.length;d++)c[d]=b[d].T;a.g[1]=b;T(a,1,c)}Q.prototype.j=function(){return l.JSON&&l.JSON.stringify?l.JSON.stringify(this.T):fc(this.T)};
Q.prototype.toString=function(){return this.T.toString()};function bf(a){R(this,a,null)}r(bf,Q);bf.prototype.B=function(){return S(this,1)};function cf(a){R(this,a,null)}r(cf,Q);cf.prototype.B=function(){return S(this,1)};function df(a){R(this,a,null)}r(df,Q);df.prototype.B=function(){return S(this,1)};function ef(a){R(this,a,ff)}r(ef,Q);var ff=[1];function gf(){if(!l._docs_chrome_extension_exists)throw Error("The extension is not supported");this.g=x(w(),"docs-extension-id")}function hf(a,b){var c=new bf;T(c,1,4);var d=new df;T(d,1,2);var e=new ef;T(e,1,b||[]);$e(d,3,e);$e(c,4,d);jf(a,c).then(function(){})}function jf(a,b){var c=Jc();l.chrome.runtime&&l.chrome.runtime.sendMessage(a.g,b.T,void 0,p(a.j,a,c));return c.o}gf.prototype.j=function(a,b){m(b)?a.j(new cf(b)):a.g("Error returned from extension: "+l.chrome.runtime.lastError.message)};function kf(a,b){this.qa=a;this.fa=b};function lf(a){this.g=a}lf.prototype.B=aa("g");function mf(a){this.g="offline-oc";this.j=a}r(mf,lf);function nf(){}nf.prototype.j=function(a){if("offline-oc"!=a.B())throw Error("Invalid Type");return a.j};nf.prototype.g=function(a){return new mf(a)};function of(a){this.g=a};function pf(){}pf.prototype.j=function(a){return a?[a.g]:null};pf.prototype.g=function(a){return a?new of(a[0]):null};function qf(a){this.g=a};function rf(a,b){b.push(a);for(var c=0;c<a.length;c++)if(n(a[c])){if(0<=y(b,a[c]))throw Error("Circular reference detected");rf(a[c],b)}b.pop()}function sf(a,b,c){if(a.length!=b.length)return!1;c=c||Xa;for(var d=0;d<a.length;d++)if(!c(a[d],b[d]))if(n(a[d])&&n(b[d])){if(!sf(a[d],b[d],c))return!1}else return!1;return!0};function tf(a,b){if(a==b)return!0;if(!la(a)||!la(b))return!1;var c=Fa(a);if(c.length!=Fa(b).length)return!1;for(var d=uf||Xa,e=0;e<c.length;e++){var f=c[e];if(!(f in b&&d(a[f],b[f])))return!1}return!0}function uf(a,b){var c;if(a===b)c=!0;else if(n(a)&&n(b))a:{var d=uf;if(ia(a)&&ia(b)&&a.length==b.length){c=a.length;for(var d=d||Xa,e=0;e<c;e++)if(!d(a[e],b[e])){c=!1;break a}c=!0}else c=!1}else c=la(a)&&la(b)?tf(a,b):!1;return c}
function vf(a,b){b.push(a);for(var c in a)if(la(a[c])){if(0<=y(b,a[c]))throw Error("Circular reference detected");vf(a[c],b)}b.pop()};function wf(a,b){A.call(this);this.v=a;this.g={};this.j={};this.D=b||!1;this.w=!this.D}r(wf,A);wf.prototype.Ba=function(){return this.D||!Ha(this.j)};function xf(a,b){var c;c=yf(a,b);c=null==c?null:c;return null==c||0==c?null:c}function zf(a,b){var c=yf(a,b);return null==c?null:c}function Af(a,b){return null==yf(a,b)?null:""!=a.g[b]}function Bf(a,b,c){U(a,b,c?"true":"")}function Cf(a){a=yf(a,"docosKeyData");return null==a?null:Ja(a)}function yf(a,b){var c=a.g[b];return null!=c?c:null}
function U(a,b,c){la(c)&&!n(c)?(vf(c,[]),null!=a.g[b]&&uf(a.g[b],c)||(c=Ja(c),a.g[b]=c,a.w||(a.j[b]=c))):n(c)?(rf(c,[]),vf(c,[]),null!=a.g[b]&&sf(a.g[b],c)||(c=Ja(c),a.g[b]=c,a.w||(a.j[b]=c))):a.g[b]!=c&&(a.g[b]=c,a.w||(a.j[b]=c))}function Df(a,b,c,d){var e=a.g,f=e[b];null==f&&(e[b]=f={});f[c]=d;a.w||(a=a.j,e=a[b],null==e&&(a[b]=e={}),e[c]=d)}wf.prototype.Ga=function(){this.j={};this.D=!1};wf.prototype.oa=ba(null);wf.prototype.G=function(){wf.J.G.call(this);delete this.g;delete this.j};function Ef(a,b,c){wf.call(this,"document",c);this.o=new pf;U(this,"id",a);U(this,"documentType",b)}r(Ef,wf);var Ff=[0,1,4,2,3];Ef.prototype.L=function(){return this.g.id};Ef.prototype.B=function(){return this.g.documentType};Ef.prototype.oa=function(){return Ef.J.oa.call(this)};function Gf(a){var b=a.B(),c=zf(a,"jobset"),d;try{d=null==yf(a,"isFastTrack")?!1:""!=a.g.isFastTrack}catch(e){throw e;}return{type:b,Ob:c,Nb:d}}Ef.prototype.ua=function(a){Bf(this,"ip",a)};function Hf(a){this.v=a}Hf.prototype.B=aa("v");function If(a){a=a.B();return"update-record"==a||"delete-record"==a};function Jf(a,b,c){this.v=a;this.g=b;this.C=c}r(Jf,Hf);function Kf(a,b,c,d,e){Jf.call(this,"append-commands",a,b);this.w=c;this.o=d;this.H=e}r(Kf,Jf);function Lf(){A.call(this);this.g=[]}r(Lf,A);Lf.prototype.j=!1;function Mf(a){var b=a.g;a.g=[];a.j=!1;return b}Lf.prototype.ia=function(){return 0==this.g.length};Lf.prototype.G=function(){Lf.J.G.call(this);delete this.g};function Nf(a,b,c,d){Ef.call(this,a,b,c);this.F=d;this.A=new Lf}r(Nf,Ef);h=Nf.prototype;h.Ya=!1;h.va=!1;h.Ba=function(){return Nf.J.Ba.call(this)||!this.A.ia()||this.va};h.Ga=function(){Nf.J.Ga.call(this);this.va&&(this.Ya=!1);this.va=!1};h.oa=function(){return this.A.ia()&&!this.va?Nf.J.oa.call(this):new qf(this.L())};h.G=function(){delete this.F;this.A.U();delete this.A;Nf.J.G.call(this)};var Of=function(){}.prototype,Pf=function(){}.prototype,Qf;for(Qf in Pf)Of[Qf]=Pf[Qf];x(w(),"docs-csi-reporting-uri-override");var Rf={slbf:!0,slrm:!0,slrt:!0,slbc:!0,slce:!0,slms:!0,slmc:!0,slmi:!0};function Sf(){this.g={};this.setTime=this.j;this.incrementTime=this.o;this.setServerValues=this.v}ga(Sf);Sf.prototype.j=function(a){Tf(this,a,ra())};Sf.prototype.o=function(a,b){null!=this.g[a]||(this.g[a]=0);this.g[a]+=b};function Tf(a,b,c){if(null!=a.g[b])throw Error("Field "+b+" is already set.");a.g[b]=c}Sf.prototype.v=function(a){var b=w(),c=Oa(b,"icso"),b=Oa(b,"docs-eslt");if(!c&&b){if(a)for(var d in a)d in Rf&&Tf(this,d,a[d]);Tf(this,"sldummy",0)}};l._getTimingInstance=Sf.$;l._docsTiming=Sf;function Uf(){Sf.$()}r(Uf,A);function Vf(a){A.call(this);this.v=a}r(Vf,A);Vf.prototype.o=aa("v");function Wf(){A.call(this);Sf.$()}r(Wf,A);function Xf(a,b){Jf.call(this,"unstage-commands",a,b)}r(Xf,Jf);function Yf(a,b){Vf.call(this,a);this.g=b;new Uf;new Wf}r(Yf,Vf);function Zf(a){A.call(this);this.g=a}r(Zf,A);function $f(a,b,c,d,e,f){var g={};g.dcKey=[a,b,c,d];g.t=e;f&&(g.c=f);return new Zf(g)}function ag(a,b){return null!=b?[a,b,[]]:[a,[]]}Zf.prototype.G=function(){delete this.g;Zf.J.G.call(this)};function bg(){A.call(this)}r(bg,A);function cg(a,b,c,d){Yf.call(this,a,d);this.A=b;this.w=c;new bg}r(cg,Yf);cg.prototype.j=function(a,b){for(var c=K(b,"DocumentCommands"),c=a.o?K(b,"DocumentCommandsStaging"):c,d=a.w,e=0;e<d.length;++e){for(var f=c,g=a.g,k=d[e],q=k.g(),v=[],z=0;z<q.length;++z)v.push(this.g.j(q[z]));g=$f(g,k.j(),k.o(),k.C(),k.v(),v);V(f,g.g)}};cg.prototype.D=function(a,b){var c=K(a,"DocumentCommands"),d=K(a,"DocumentCommandsStaging");J(ae(d,[b],ag(b)),p(this.F,this,c))};
cg.prototype.F=function(a,b){var c=b.target.result;c&&(V(a,c.value),c["delete"](),c["continue"]())};function dg(a,b){this.v="document-lock";this.g=a;this.o=b}r(dg,Hf);function eg(a){D.call(this);this.g=a;a.F=this;this.j=!1}r(eg,D);eg.prototype.ka=function(){return this.g.ka()};
eg.prototype.write=function(a,b,c){if(!this.j)throw Error("Cannot write to read-only local store.");for(var d=[],e=null,f=0;f<a.length;f++){var g=a[f];if(g.Ba()){var k=this.g.v[g.v]||null;if(k){k=k.D(g);d=d.concat(k);if((k=g.oa())&&e){if(e.g!=k.g)throw Error("Cannot compare two requirements with different doc id.");e=k}else e=e||k;g.Ga();g.Ba()}else throw Error("No Capability for record :"+g.v);}}e&&d.unshift(new dg(e.g,2));a=d;if(0==a.length)b();else if(d=this.g,d.g.j)Yc(b);else{f={};for(e=0;e<a.length;e++)for(g=
a[e],k=fg(d,g),g=k.S(g),k=0;k<g.length;k++)f[g[k]]=!0;c=gg(d.g,Fa(f),"Error writing records.",c,!0);hg(c,b);for(e=0;e<a.length;e++)g=a[e],k=fg(d,g),k.V(g,c)}};function ig(){try{return l.localStorage.getItem("docs-ois")}catch(a){return null}};function jg(a){return(a=a.exec(xa))?a[1]:""}(function(){if(hb)return jg(/Firefox\/([0-9.]+)/);if(lb)return jg(/Chrome\/([0-9.]+)/);if(mb&&!(bb()||u("iPad")||u("iPod")))return jg(/Version\/([0-9.]+)/);if(ib||jb){var a;if(a=/Version\/(\S+).*Mobile\/(\S+)/.exec(xa))return a[1]+"."+a[2]}else if(kb)return(a=jg(/Android\s+([0-9.]+)/))?a:jg(/Version\/([0-9.]+)/);return""})();function kg(a){this.o=a;this.g={};this.j=!1}function lg(a,b){delete a.g[b.L()]};function mg(){}mg.prototype.clear=fa;mg.prototype.g=fa;mg.prototype.log=fa;function ng(a){this.v=a||ra;this.g={};this.o=new mg;this.j={};this.saveInitialLoadStats=this.w;this.getInitialLoadStats=this.C}ga(ng);ng.prototype.w=function(a,b){var c=this.j=b,d=[],e;for(e in c)d.push([e,c[e]]);this.o.g(a,d)};ng.prototype.C=function(){return fc(this.j)};function og(a,b,c){var d="goog_"+Ba++;a.g[d]={startTime:a.v(),sb:b,Tb:!!c};return d}function pg(a,b){var c=a.g[b];c&&(a.o.log(c.sb,a.v()-c.startTime,c.Tb),delete a.g[b])}function qg(a,b){a.g[b]&&delete a.g[b]};function rg(a,b,c,d){A.call(this);this.D=a;this.A=b;this.o=c;this.w=d||ra;this.v=this.g=0;this.j=[]}r(rg,A);function sg(a){if(a.v)throw Error("Idle delay has already been started");a.v=a.w()+a.A;a.g=Yc(a.F,a.A,a)}rg.prototype.F=function(){this.g=0;var a=this.w()-this.v;this.j.push(a);var b=this.o.hidden||this.o.webkitHidden||this.o.mozHidden||this.o.msHidden?1020:20;10>this.j.length&&a>b?(this.v=this.w()+1E3,this.g=Yc(this.F,1E3,this)):this.D(this)};rg.prototype.G=function(){this.g&&l.clearTimeout(this.g)};function H(a,b,c,d,e,f,g,k,q){this.N=a;this.o=b;this.D=c;this.K=d;this.P=e;a=e.v++;e.g[a]=c;this.O=a;this.C=this.A=null;this.H=f||null;this.w=ng.$();this.j=q?og(this.w,q):null;this.I=k||0;this.g=null;0<this.I&&(this.H||g)&&(this.g=new rg(p(this.R,this),this.I,document),sg(this.g));this.N.onsuccess=Ue(this.o,this.ga,this,!0);this.N.onerror=Ue(this.o,this.W,this,!0)}function J(a,b){if(a.A)throw Error("Success callback already set");a.A=b}
H.prototype.ga=function(a){B(this.g);this.j&&pg(this.w,this.j);var b=this.P,c=this.O;b.o++;delete b.g[c];this.K.g||this.A&&this.A(a)};function tg(a,b){if(a.C)throw Error("Error callback already set");a.C=b}H.prototype.W=function(a){B(this.g);this.j&&qg(this.w,this.j);var b=this.P,c=this.O;b.j++;delete b.g[c];a.target.docs_requestContext=this.D;this.K.g||(b=a.target.error)&&"AbortError"==b.name||this.C&&this.C(a)};H.prototype.M=function(a){a.onsuccess=fa;a.onerror=fa};
H.prototype.R=function(){this.j&&qg(this.w,this.j);P(this.o,Error("A request was running for a long time"),{documentHidden:document.hidden||document.webkitHidden,request:this.D,requestTimeoutMs:this.I,timeoutCallbackSet:!!this.H,timeoutDelays:this.g.j.concat().toString()});B(this.g);!this.K.g&&this.H&&(this.M(this.N),this.H())};function ug(){this.g={};this.v=this.o=this.j=0};function vg(){this.j=this.o=this.g=!1};function wg(a){try{var b=l.localStorage.getItem("docs-ucb")}catch(c){return P(a,Error("Error reading unsaved changes bit: "+c.message)),"e"}switch(b){case "1":return"t";case "0":return"f";default:return"u"}};function xg(a,b,c,d,e,f){H.call(this,a,b,c,new vg,new ug,d,!0,e,f);this.F=this.v=null;a.onblocked=Ue(b,this.Z,this,!0);a.onupgradeneeded=Ue(b,this.ja,this,!0)}r(xg,H);xg.prototype.Z=function(a){B(this.g);this.v&&this.v(a)};xg.prototype.ja=function(a){B(this.g);if(a.dataLoss&&"none"!=a.dataLoss){var b={};b.dataLoss=a.dataLoss;b.dataLossMessage=a.dataLossMessage;b.optinBackup=!!ig();b.requestContext=this.D;b.unsavedChanges=wg(this.o);P(this.o,Error("upgradeNeeded after dataLoss"),b)}this.F&&this.F(a)};
xg.prototype.M=function(a){xg.J.M.call(this,a);a.onblocked=fa;a.onupgradeneeded=fa};function yg(a,b){if(a.v)throw Error("Blocked callback already set");a.v=b}function zg(a,b){if(a.F)throw Error("Upgrade needed callback already set");a.F=b};function Ag(a,b,c,d){this.g=a;this.v=b;this.o=c;this.j=d}Ag.prototype.get=function(a){return new H(this.g.get(a),this.j,this.g.name+".get("+a+")",this.v,this.o)};function Bg(a,b,c,d){this.g=a;this.v=b;this.o=c;this.j=d}Bg.prototype.get=function(a){return new H(this.g.get(a),this.j,this.g.name+".get("+a+")",this.v,this.o)};function V(a,b){var c=m(void 0)?a.g.put(b,void 0):a.g.put(b);return new H(c,a.j,a.g.name+".put(undefined)",a.v,a.o)}function Cg(a,b){var c=m(void 0)?a.g.add(b,void 0):a.g.add(b);new H(c,a.j,a.g.name+".add(undefined)",a.v,a.o)}function de(a,b){return new H(a.g["delete"](b),a.j,a.g.name+".delete("+b+")",a.v,a.o)}
Bg.prototype.clear=function(){return new H(this.g.clear(),this.j,this.g.name+".clear()",this.v,this.o)};Bg.prototype.count=function(a){var b=m(a)?this.g.count(a):this.g.count();return new H(b,this.j,this.g.name+".count("+a+")",this.v,this.o)};function ce(a,b){return new Ag(a.g.index(b),a.v,a.o,a.j)};function Dg(a,b,c,d,e,f,g,k,q,v){this.Z=a;this.W=b;this.I=c;this.o=d;this.M=e;this.D=!1;this.C=!!g;this.A=this.w=null;this.j=new vg;this.O=new ug;this.R=k||6E4;this.v=new rg(p(this.qb,this),this.R,document);this.P=q||null;this.F=ng.$();this.g=null;this.N=Eg++;this.H=f;this.K=m(v)?v:this.C?"idbrwt":"idbrot"}var Eg=0;h=Dg.prototype;
h.open=function(){null!=this.K&&(this.g=og(this.F,this.K,!0));var a=this.C?"readwrite":"readonly";sg(this.v);a=this.Z.transaction(this.W,a);a.onabort=Ue(this.o,this.Pb,this);a.oncomplete=Ue(this.o,this.Qb,this);a.onerror=Ue(this.o,this.rb,this,!0);this.A=a;a=this.H;this.C&&(a.g[this.L()]=this)};function Fg(a,b,c){var d=a.j;if(!d.o&&!d.g){Gg(a);d.g=!0;try{a.A.abort(),c&&!a.D&&(a.M(c),a.D=!0)}catch(e){"InvalidStateError"==e.name&&b||(c=Hg(a),c.abortFromTimeout=b,P(a.o,e,c))}a.v.U();lg(a.H,a)}}
function K(a,b){Gg(a);return new Bg(a.A.objectStore(b),a.j,a.O,a.o)}function hg(a,b){if(a.w)throw Error("Completion callback already set");a.w=b}function Gg(a){if(!a.A)throw Error("Transaction does not exist");}
h.Pb=function(a){this.j.j||(this.j.o=!0,this.g&&(qg(this.F,this.g),this.g=null),lg(this.H,this),this.v.U(),this.j.g||(a.target.docs_internalAbort=!0,!this.C&&a.target.error&&"QuotaExceededError"==a.target.error.name?this.w&&this.w():Ig(this,"LocalStore IndexedDB transaction abort",Hg(this),a)))};h.Qb=function(){this.j.j||(lg(this.H,this),this.g&&(pg(this.F,this.g),this.g=null),this.v.U(),this.w&&this.w())};
h.rb=function(a){a.stopPropagation();var b=this.j;if(!(b.j||b.o||b.g||(b=a.target.error,b&&"AbortError"==b.name))&&(b=Hg(this),b.request=a.target.docs_requestContext,Ig(this,"LocalStore IndexedDB error",b,a),a=this.H,Oa(Na.$(),"docs-ewtaoe")&&this.C)){delete a.g[this.L()];var b=0,c;for(c in a.g){var d=Number(c);Fg(a.g[d],!1,void 0);delete a.g[d];b++}a.j=!0;P(a.o,Error("Handled fatal error of transaction: "+this.L()+" and aborted "+b+" transactions "))}};
function Ig(a,b,c,d){b=b+" ("+a.I+"): "+fe(d);P(a.o,Error(b),c);c=new Yd(1,b);a.D||(a.M(c),a.D=!0)}h.qb=function(){if(!this.j.j){var a=Hg(this);a.transactionTimeout=this.R;a.timeoutDelays=this.v.j.concat().toString();a.documentHidden=document.hidden||document.webkitHidden;P(this.o,Error("A transaction was running for a long time ("+this.I+")"),a);this.v.U();this.P&&(Fg(this,!0),this.P(),this.A.oncomplete=null)}};h.L=aa("N");
function Hg(a){var b={transactionAllowWrite:a.C,transactionContext:a.I,transactionId:a.N,transactionObjectStores:a.W.toString()};a=a.O;var c=Ea(a.g);b.pendingRequestCount=c.length;b.pendingRequests=c.toString();b.requestErrorCount=a.j;b.requestSuccessCount=a.o;return b};function Jg(a,b){C.call(this,"f",b)}r(Jg,C);function Kg(a,b){D.call(this);this.w=a;this.o=b;this.g=null;this.j=!1;this.v=new kg(b)}r(Kg,D);var Lg=l.indexedDB||l.webkitIndexedDB;Kg.prototype.A=function(){this.j=!0;this.close();E(this,new Jg)};Kg.prototype.close=function(){this.g&&(this.g.onversionchange=null,this.g.close(),this.g=null)};
function Mg(a,b){if(a.g)throw Error("IdbDocsDatabase already managing a database.");if(null!=b.onversionchange)throw Error("This database is being managed by another class.");b.onclose=p(function(){var a={};a.optinBackup=!!ig();P(this.o,Error("The database connection was closed."),a);E(this,"d")},a);b.onerror=ge("Database error.",a.w);b.onversionchange=p(a.A,a);a.g=b}function Ng(a){if(!a.g)return-1;a=parseInt(a.g.version,10);return 0<=a?a:-1}
function gg(a,b,c,d,e){if(!a.g)throw Error("Cannot open transaction on uninitialized IdbDocsDatabase");if(e&&a.v.j)throw Error("Cannot open read-write transactions because of a previous fatal error in a read-write transaction.");a=new Dg(a.g,b,c,a.o,d||a.w,a.v,e,void 0,void 0,void 0);a.open();return a}
function Og(a,b,c,d,e){if(Ng(a)>=b)throw Error("Upgrading to a version ("+b+") less than or equal to current version ("+Ng(a)+")");var f=a.g.name;a.close();var g=a.o;b=new xg(Lg.open(f,b),g,"setVersion database.open");zg(b,function(a){a=a.target.transaction;a.onabort=a.onerror=Ue(g,d,{},!0);c(a)});tg(b,d);yg(b,function(a){P(g,Error("Onblocked handler called when upgrading database."),{"Old version":a.oldVersion,"New version":a.newVersion})});J(b,p(function(a){Mg(this,a.target.result);e(a)},a))}
Kg.prototype.G=function(){this.close();Kg.J.G.call(this)};var Pg=l.indexedDB||l.webkitIndexedDB;function Qg(a,b,c,d,e){e=e?function(){d(new Yd(6,"Timeout opening database."))}:void 0;Sf.$();e=new xg(Pg.open("GoogleDocs"),c,"database.open",e,Pa("docs-localstore-iort"),"idbodb");J(e,function(d){var e=new Kg(b,c);Mg(e,d.target.result);a(e)});tg(e,ge("Error opening database.",d))};function Rg(a,b){wf.call(this,"user",b);U(this,"id",a);Bf(this,"fastTrack",!0)}r(Rg,wf);Rg.prototype.L=function(){return this.g.id};function Sg(a,b,c){this.v=a;this.w=b;this.C=c}r(Sg,Hf);function W(a){if(null===a.w)throw Error("Cannot getKey of operation for singleton record.");return a.w};function X(a,b,c,d){Sg.call(this,d||"update-record",a,b.v);this.j=b.D;this.g={};a=b.j;c=c||[];for(var e in a)this.g[e]=0<=y(c,e)?yf(b,e):b.g[e]}r(X,Sg);function Y(){D.call(this)}r(Y,D);Y.prototype.D=function(a){if(!(0<=y(this.j(),a.v)))throw Error("Cannot create operations for an unsupported record type "+a.v);return this.v(a)};Y.prototype.v=function(a,b){var c=this.o(a),d=[];d.push(new X(c,a,b));return d};Y.prototype.o=function(a){throw Error("Key cannot be obtained for record of type "+a.v);};Y.prototype.g=function(a){return If(a)?0<=y(this.j(),a.C):!1};function Tg(){D.call(this)}r(Tg,Y);Tg.prototype.j=function(){return["comment"]};Tg.prototype.o=function(a){return[a.o(),a.L()]};function Ug(a,b,c){D.call(this);this.w=c}r(Ug,Tg);Ug.prototype.S=function(){return["Comments"]};
Ug.prototype.V=function(a,b){switch(a.B()){case "update-record":var c=K(b,"Comments");W(a);if(a.j){var d=a.g,e={};e.cmtKey=W(a);e.stateIndex=[d.s,d.di];e.da=d.da;V(c,e)}else{var d=a.g,e=W(a),f={};"s"in d&&(f.stateIndex=[d.s,e[0]],delete d.s);for(var g in d)f[g]=d[g];Vg(this.w,e,f,c)}break;case "delete-record":c=K(b,"Comments");d=W(a);de(c,d);break;default:throw Error("Operation type "+a.B()+" not supported.");}};function Wg(a){D.call(this);this.A=a}r(Wg,Y);Wg.prototype.j=function(){return["document"]};function Xg(a,b){var c=a.A[b];if(!c)throw Error("No adapter found for this type: "+b);return c}Wg.prototype.g=function(a){var b=a.B();return"append-commands"==b||"unstage-commands"==b||"write-trix"==b?!0:Wg.J.g.call(this,a)};
Wg.prototype.v=function(a){var b=Wg.J.v.call(this,a,["lastModifiedClientTimestamp","ic","rev","rai"]);Xg(this,a.B());for(var c=new Lf,d=a.A,e=0;e<d.g.length;++e){var f=c,g=d.g[e];d.j&&(f.g=[],f.j=!0);f.g.push(g);d.j=!1}d.g=[];if(a.va){if(!c.ia())throw Error("Cannot commit staged commands with pending commands");a=[new Xf(a.L(),a.B())]}else c.ia()?a=[]:(d=c.j,a=[new Kf(a.L(),a.B(),Mf(c),a.Ya,d)]);return b.concat(a)};Wg.prototype.o=function(a){return a.L()};function Yg(){D.call(this)}r(Yg,Y);Yg.prototype.j=function(){return[]};function Zg(a,b,c){this.g=a;this.v=b;this.o=c}Zg.prototype.j=function(){var a={};a.e=this.g;a.dlKey=[this.v];a.sId=this.o;return a};function $g(a,b,c,d){D.call(this);this.g=a;this.j=b;this.o=0;this.v=d;this.w=new Vd(this);this.w.ba(c,"f",this.ob)}r($g,D);h=$g.prototype;h.ea=null;h.ob=function(){B(this.ea);this.ea=null;var a=window.localStorage;a&&a.setItem("dcl_"+this.g,String(ra()))};h.Gb=function(a,b){if(!b){var c=new Yd(2,"Lock not available");Fg(a,!1,c)}};h.Fb=function(a,b,c){1!=c?this.bb(0,b):this.ea&&this.ea.g()};h.bb=function(a,b){B(this.ea);this.ea=null;var c=new Yd(2,"Lock could not be refreshed");Fg(b,!1,c)};
h.Pa=function(a,b,c,d,e){if(!this.C){a=e.target.result;var f=null;if(a){a=new Zg(a.e,a.dlKey[0],a.sId);e=a.o;e==this.g&&(f=a.g);if(!(c=c&&e!=this.g)){c=this.g;var g=0==this.j,k=ra();a.g+(g?6E4:0)<=k||a.g>k+36E4||a.o==c?c=!0:(c=window.localStorage,c=!!c&&!!c.getItem("dcl_"+a.o));c=!c}if(c){d=ra();f={};f.sessionId=this.g;f.lockHoldingSessionId=e;f.validUntil=a.g-d;f.lockDuration=this.j;this.o&&(f.lastWrittenValidUntil=this.o-d);P(this.v,Error("IndexedDB document lock not available"),f);b(!1,null);return}}else if(c){f=
{};f.sessionId=this.g;P(this.v,Error("IndexedDB document lock not available because the lock does not exist"),f);b(!1,null);return}d&&E(this,"h");b(!0,f)}};h.Ub=function(a,b,c,d,e,f){e?(c=qa(c,1),e=ra(),this.o=f=Math.min(Math.max(e+this.j,f||0),e+6E4),a=V(b,(new Zg(f,a,this.g)).j()),J(a,qb(c)),d&&tg(a,qb(d))):c(2)};h.G=function(){this.w.U();B(this.ea);$g.J.G.call(this)};function ah(){D.call(this)}r(ah,Y);ah.prototype.j=function(){return[]};function bh(){D.call(this)}r(bh,ah);var ch={eb:"l",gb:"s",fb:"r"};function dh(a,b,c,d){Wg.call(this,d);this.w=a;this.K=c;this.I=new pf}r(dh,Wg);var eh=["lastModifiedClientTimestamp","rev","rai"];function fh(a,b,c){if(a.w.j)Yc(qa(b,[]));else{var d=gg(a.w,["Documents","DocumentCommandsMetadata","DocumentCommandsMetadataStaging"],"Error reading documents.",c);gh(a,function(a){d.j.j=!0;d.v.U();d.g&&(qg(d.F,d.g),d.g=null);lg(d.H,d);b(a)},d)}}function hh(a,b,c){fh(a,b,c)}function ih(a,b,c,d){d=gg(a.w,["Documents"],"Error reading documents.",d);jh(a,d,c,b)}
function jh(a,b,c,d){if(0>=d.length)c([]);else{Wa(d);for(var e=[],f=0;f<d.length;f++){var g=d[f];ee(b,p(a.Ha,a,null,{},!1),function(a){0<a.length&&e.push(a[0])},g)}hg(b,function(){c(e)})}}function gh(a,b,c){var d=K(c,"DocumentCommandsMetadata");J(ae(d,void 0,void 0),p(a.vb,a,null,null,b,c,{}))}h=dh.prototype;
h.vb=function(a,b,c,d,e,f){(f=f.target.result)?(e[f.value.dcmKey[0]]=!0,f["continue"]()):(f=K(d,"DocumentCommandsMetadataStaging"),J(ae(f,b?[b]:void 0,b?[b,[]]:void 0),p(this.zb,this,a,b,c,d,{},e)))};h.zb=function(a,b,c,d,e,f,g){(g=g.target.result)?(a=g.value.dcmKey[0],f[a]||(e[a]=!0),g["continue"]()):kh(this,a,b,c,d,e)};function kh(a,b,c,d,e,f){c?J(K(e,"Documents").get(c),p(function(a){(a=a.target.result)?d([this.Ha(b,f,!0,a)]):d([])},a)):ee(e,p(a.Ha,a,b,f,!0),d,void 0)}
h.Ha=function(a,b,c,d){if(b[d.id]||c&&d.hpmdo)return null;if(null!=a&&d.acl&&!m(d.acl[a]))a=null;else{a=new Ef(d.id,d.documentType,!1);U(a,"title",d.title);U(a,"lastSyncedTimestamp",d.lastSyncedTimestamp);U(a,"jobset",d.jobset);Bf(a,"isFastTrack",!!d.isFastTrack);U(a,"lastModifiedServerTimestamp",d.lastModifiedServerTimestamp);U(a,"lastColdStartedTimestamp",d.lastColdStartedTimestamp);U(a,"lastWarmStartedTimestamp",d.lastWarmStartedTimestamp);b=d.acl;for(var e in b)Df(a,"acl",e,b[e]);U(a,"docosKeyData",
d.docosKeyData||null);Bf(a,"inc",!!d.inc);e=d.lastModifiedClientTimestamp;null!=e&&U(a,"lastModifiedClientTimestamp",e);if(e=d.startupHints)for(var f in e)Df(a,"startupHints",f,e[f]);(f=d.ic)&&U(a,"ic",f);Bf(a,"hpmdo",!!d.hpmdo);Bf(a,"ips",!!d.ips);a.ua(!!d.ip);f=d.fact;null!=f&&U(a,"fact",f);Bf(a,"modelNeedsResync",!!d.modelNeedsResync);Bf(a,"ind",!!d.ind);f=d.modelVersion;null!=f&&U(a,"modelVersion",f);f=d.rev;null!=f&&(d=d.rai,d=null!=d?this.I.g(d):null,U(a,"rev",f),U(a,"rai",a.o.j(d)))}if(!a)return null;
a.w=!1;(d=this.A[a.B()])?(d=new Nf(a.L(),d.o(),!1,d),d.j={},d.g=a.g,d.w=!1):d=a;return d};h.S=function(a){if(!this.g(a))throw Error("Cannot get object store names for operation type "+a.B());var b=["DocumentCommands","DocumentCommandsStaging","DocumentCommandsMetadata","DocumentCommandsMetadataStaging","Documents"];"delete-record"==a.B()&&(b=b.concat(["Comments","DocumentEntities","PendingQueueCommands","PendingQueues"]));return b};
h.V=function(a,b){var c=K(b,"Documents");switch(a.B()){case "update-record":a.j?Cg(c,a.g):Vg(this.K,W(a),a.g,c,eh);break;case "delete-record":lh(this,a,b);break;default:var d=Xg(this,a.C);switch(a.B()){case "append-commands":if(a.H){var c=p(d.j,d,a,b),e=a.o?K(b,"DocumentCommandsStaging"):K(b,"DocumentCommands"),d=a.g;I(e,[d],ag(d,void 0),c)}else d.j(a,b);break;case "unstage-commands":c=K(b,"DocumentCommands");e=a.g;d=p(d.D,d,b,a.g);I(c,[e],ag(e,void 0),d);break;default:throw Error("Unsupported operation type "+
a.B());}}};function lh(a,b,c){mh(a,W(b),c,p(function(a){a?(a=new Yd(5,"Pending changes found"),Fg(c,!1,a)):this.Ja(b,c)},a))}function mh(a,b,c,d){J(ae(K(c,"PendingQueueCommands"),[b],[b,[]]),p(function(a){a.target.result?d(!0):nh(b,c,d)},a))}function nh(a,b,c){J(ce(K(b,"Comments"),"StateIndex").get([2,a]),function(a){c(!!a.target.result)})}
h.Ja=function(a,b){var c=W(a),d=K(b,"DocumentCommands");I(d,[c],[c,[]]);d=K(b,"DocumentCommandsStaging");I(d,[c],[c,[]]);d=K(b,"DocumentCommandsMetadata");I(d,[c],[c,[]]);d=K(b,"DocumentCommandsMetadataStaging");I(d,[c],[c,[]]);d=K(b,"PendingQueueCommands");I(d,[c],[c,[]]);d=K(b,"PendingQueues");I(d,c);d=K(b,"Documents");I(d,c);d=K(b,"DocumentLocks");I(d,[c]);d=K(b,"Comments");I(d,[c],[c,[]]);oh(this.w,"nonsnapshottedocumentids",[c]);oh(this.w,"missingdocosdocumentids",[c]);d=K(b,"DocumentEntities");
I(d,[c],[c,[]])};function ph(a,b,c){X.call(this,a,b,void 0,"update-application-metadata");this.o=c}r(ph,X);function qh(a){D.call(this);this.w=a}r(qh,Y);qh.prototype.j=function(){return["applicationMetadata"]};qh.prototype.o=function(a){return a.o()};qh.prototype.g=function(a){return"update-application-metadata"==a.B()};qh.prototype.v=function(a){var b=this.o(a);return[new ph(b,a,a.I()?a.F().concat():null)]};function rh(a,b,c,d){qh.call(this,c);this.A=d}r(rh,qh);rh.prototype.S=function(a){if(!this.g(a))throw Error("Cannot get object store names for operation type "+a.B());return["ApplicationMetadata"]};
rh.prototype.V=function(a,b){switch(a.B()){case "update-application-metadata":var c=W(a),d=this.w[c];if(!d)throw Error("No adapter found for this type: "+c);c=a.g;if(null!=a.o){var e;if(a.o)e=a.o;else throw Error("No new initial commands are available.");for(var f=[],g=0;g<e.length;g++)f.push(d.g.j(e[g]));c.ic=f}d=K(b,"ApplicationMetadata");a.j?V(d,c):Vg(this.A,W(a),c,d);break;default:throw Error("Cannot perform operation of type "+a.B());}};function sh(){D.call(this)}r(sh,Y);sh.prototype.j=function(){return["documentEntity"]};sh.prototype.o=function(a){return[a.o(),a.B(),a.L()]};function th(a,b,c){D.call(this);this.w=c}r(th,sh);th.prototype.S=function(){return["DocumentEntities"]};th.prototype.V=function(a,b){var c=K(b,"DocumentEntities");switch(a.B()){case "update-record":if(a.j){var d={};d.deKey=W(a);d.data=a.g.data;V(c,d)}else{d={};d.data=a.g.data;var e=W(a);Vg(this.w,e,d,c)}break;case "delete-record":I(c,W(a));break;default:throw Error("Operation type "+a.B()+" not supported.");}};function uh(){D.call(this)}r(uh,Y);uh.prototype.j=function(){return["impressionBatch"]};uh.prototype.o=function(a){return[a.o(),a.F()]};uh.prototype.g=function(a){return uh.J.g.call(this,a)&&("update-record"==a.B()&&a.j||"delete-record"==a.B())};function vh(){D.call(this)}r(vh,uh);vh.prototype.S=function(){return["Impressions"]};vh.prototype.V=function(a,b){switch(a.B()){case "update-record":if(a.j){var c=K(b,"Impressions"),d=a.g,e={};e.iKey=[d.di,d.ibt];e.dt=d.dt;e.iba=d.iba;V(c,e)}else throw Error("Impressions may not be updated.");break;case "delete-record":I(K(b,"Impressions"),W(a));break;default:throw Error("Operation type "+a.B()+" not supported.");}};function wh(){D.call(this)}r(wh,Y);wh.prototype.j=function(){return[]};function xh(){D.call(this)}r(xh,wh);function yh(a,b){C.call(this,"e",b)}r(yh,C);function zh(){D.call(this);this.v={}}r(zh,D);function Ah(a,b){for(var c=b.j(),d=0;d<c.length;d++){var e=c[d];if(a.v[e])throw Error("Record type "+e+"already handled by another capability.");a.v[e]=b}}zh.prototype.Ta=ba(null);zh.prototype.Ua=ba(null);function Bh(){D.call(this)}r(Bh,Y);Bh.prototype.j=function(){return[]};Bh.prototype.v=function(){throw Error("No operation is supported.");};Bh.prototype.o=function(){throw Error("No record is supported.");};Bh.prototype.g=ba(!1);function Ch(){D.call(this)}r(Ch,Bh);Ch.prototype.S=function(){throw Error("No object store available.");};Ch.prototype.V=function(a){throw Error("Operation type "+a.B()+" not supported.");};function Dh(a,b,c,d){D.call(this);this.w=new $g(b,c,a,d);this.w.F=this}r(Dh,Yg);Dh.prototype.S=function(){return["DocumentLocks"]};
Dh.prototype.V=function(a,b){switch(a.B()){case "document-lock":switch(a.o){case 2:var c=this.w,d=a.g;c.ea&&c.ea.j();var e=p(c.Fb,c,d,b),f=p(c.bb,c,d,b),g=K(b,"DocumentLocks"),e=p(c.Ub,c,d,g,e,f),g=g.get([d]);J(g,p(c.Pa,c,d,e,!0,!1));f&&tg(g,qb(f));break;case 1:c=this.w,d=a.g,f=p(c.Gb,c,b),g=K(b,"DocumentLocks").get([d]),J(g,p(c.Pa,c,d,f,!1,!1))}break;default:throw Error("Operation type "+a.B()+" not supported.");}};Dh.prototype.G=function(){this.w.U();Dh.J.G.call(this)};var Eh=["revisionAccessInfo","selection","sentBundlesSavedRevision"];function Fh(a){X.call(this,a.o(),a,Eh,"pq-clear")}r(Fh,X);function Gh(a){X.call(this,a.o(),a,Eh,"pq-clear-sent-bundle");a.N()}r(Gh,X);function Hh(a){X.call(this,a.o(),a,Eh,"pq-clear-sent")}r(Hh,X);function Ih(a,b){this.v="pq-delete-commands";this.g=a;this.o=b}r(Ih,Hf);function Jh(a){X.call(this,a.o(),a,Eh,"pq-mark-sent");this.o=[];this.H=!1;var b=a.F();if(7==a.I()){this.H=!0;a=a.M();for(var c=0;c<a.length;c++)b++,this.o.push(new Kh(a[c].o(),a[c].j(),b))}else this.o.push(new Kh(a.R(),a.P(),b))}r(Jh,X);function Kh(a,b,c){this.g=a;this.o=b;this.j=c};function Lh(a,b,c){this.v="pq-write-commands";this.C=a;this.o=b;this.g=c}r(Lh,Hf);function Mh(a){this.g=a}Mh.prototype.j=function(){return["pendingQueue"]};Mh.prototype.o=function(a){return a.o()};
Mh.prototype.D=function(a){var b;b=a.B();var c=this.g[b];if(c)b=c;else throw Error("No document adapter available for type "+b);var c=a.I(),d=[];switch(c){case 7:d=b;b=a.o();for(var e=a.F(),f=a.M(),c=[],g,k=0;k<f.length;k++){e++;g=Nh(f[k].g(),d,a.o(),e,!0);if(!g)throw Error("Unexpected null operation");c.push(g)}e=a.F()+c.length;c.push(new Jh(a));(d=Nh(a.K(),d,b,e+1))&&c.push(d);0<=a.F()&&c.push(new Ih(b,a.F()));d=c;break;case 1:c=b;d=a.F()+1;e=a.o();b=[];Ha(a.j)||b.push(new X(e,a,Eh));(a=Nh(a.K(),
c,e,d))&&b.push(a);d=b;break;case 5:d.push(new Jh(a));break;case 2:d.push(new Fh(a));break;case 3:d.push(new Hh(a));break;case 4:d.push(new Gh(a));break;case 6:d.push(new X(a.o(),a,Eh));break;default:throw Error("Unknown Pending Queue operation type: "+c);}return d};function Nh(a,b,c,d,e){if(!(e||a&&0!=a.length))return null;e=[];if(a)for(var f=0;f<a.length;f++)e.push(b.g.j(a[f]));return new Lh(c,e,d)};function Oh(a,b,c,d){this.g=c;this.v=d}r(Oh,Mh);Oh.prototype.S=function(){return["PendingQueueCommands","PendingQueues"]};Oh.prototype.V=function(a,b){a instanceof X&&!a.j?J(K(b,"PendingQueues").get(W(a)),p(this.C,this,a,b)):Ph(this,a,b)};Oh.prototype.C=function(a,b,c){c=c.target.result;if(!c)throw Error("Tried to update a non-existent pending queue.");Ph(this,a,b,c)};
function Ph(a,b,c,d){if(d){var e=b.g,f=e.revision,g=e.revisionAccessInfo;null!=f&&(d.r=f);m(g)&&(d.ra=g);f=e.selection;null!=f&&(d.s=f);f=e.accessLevel;null!=f&&(d.a=f);f=e.undeliverable;m(f)&&(d.u=!!f);f=e.unsavedChanges;m(f)&&(d.uc=!!f);e=e.sentBundlesSavedRevision;m(e)&&(d.sbsr=e);if(f){a=a.v;try{l.localStorage.setItem("docs-ucb","1")}catch(k){P(a,Error("Error setting unsaved changes bit in Local Storage: "+k.message))}}}switch(b.B()){case "pq-clear":d=d||Qh(b);b=W(b);a=K(c,"PendingQueueCommands");
I(a,[b],[b,[]]);d.b=[];Rh(d,c);break;case "pq-clear-sent":d=d||Qh(b);a=d.b;0<a.length&&(a=a[a.length-1].l,e=K(c,"PendingQueueCommands"),b=W(b),I(e,[b],[b,a]),d.b=[]);Rh(d,c);break;case "pq-clear-sent-bundle":d=d||Qh(b);a=d.b.shift().l;e=K(c,"PendingQueueCommands");b=W(b);I(e,[b],[b,a]);Rh(d,c);break;case "pq-mark-sent":d=d||Qh(b);a=b.o;b.H&&(d.b=[]);for(b=0;b<a.length;b++)e=a[b],f=ch,g={},g[f.eb]=e.j,g[f.gb]=e.g,g[f.fb]=e.o,d.b.push(g);Rh(d,c);break;case "update-record":b=d||Qh(b);Rh(b,c);break;case "pq-write-commands":d=
b.o;a={};a.pqcKey=[b.C,b.g];a.c=d;V(K(c,"PendingQueueCommands"),a);break;case "pq-delete-commands":c=K(c,"PendingQueueCommands");d=b.g;I(c,[d],[d,b.o]);break;default:throw Error("Unsupported operation type: "+b.B());}}function Rh(a,b){V(K(b,"PendingQueues"),a)}
function Qh(a){var b=a.g;a={};var c=b.accessLevel;m(c)&&(a.a=c);a.docId=b.docId;a.r=b.revision;a.ra=b.revisionAccessInfo;a.s=b.selection;a.b=[];a.t=b.documentType;a.u=!!b.undeliverable;a.uc=!!b.unsavedChanges;b=b.sentBundlesSavedRevision;null!=b&&(a.sbsr=b);return a};function Sh(){}function Vg(a,b,c,d,e){c&&J(ae(d,b),p(a.g,a,c,e||[]))}Sh.prototype.g=function(a,b,c){if(c=c.target.result){var d=c.value,e;for(e in a){var f=a[e];0<=y(b,e)?d[e]=null!=f?f:null:d[e]=f}c.update(d)}else throw Error("Could not find object to update.");};function oh(a,b,c){var d=gg(a,["ProfileData"],"Error removing document ids",void 0,!0);Th(b,function(a){for(var f=0;f<c.length;f++)Ta(a,c[f]);f={};f.dataType=b;f.documentIds=a;V(K(d,"ProfileData"),f);hg(d,fa)},d)}
function Th(a,b,c){J(K(c,"ProfileData").get(a),function(a){a=a.target.result;b(a&&a.documentIds?a.documentIds:[])})};function Uh(){D.call(this)}r(Uh,Y);Uh.prototype.j=function(){return["user"]};Uh.prototype.v=function(a,b){return Uh.J.v.call(this,a,b)};Uh.prototype.o=function(a){return a.L()};Uh.prototype.g=function(a){return Uh.J.g.call(this,a)&&"delete-record"!=a.B()};function Vh(a,b,c,d){D.call(this);this.w=a;this.I=c;this.A=d}r(Vh,Uh);
function Wh(a,b,c){if(a.w.j)Yc(qa(b,[]));else if(0<=y(a.w.g.objectStoreNames,"Users")){c=gg(a.w,["Users"],"Error reading users.",c);var d=[];J(K(c,"Users").get($d.lowerBound(-Infinity)),p(function(a){if(a=a.target.result){var b=new Rg(a.id,!1);U(b,"managingDomain",a.managingDomain);U(b,"emailAddress",a.emailAddress);U(b,"locale",a.locale);U(b,"optInSecret",a.optInSecret);null!=a.fastTrack&&Bf(b,"fastTrack",!!a.fastTrack);null!=a.internal&&Bf(b,"internal",!!a.internal);null!=a.optInReasons&&U(b,"optInReasons",
a.optInReasons);b.w=!1;d=[b]}},a));hg(c,function(){b(d)})}else a.A.log(Error("Reading from uninitialized IDB database.")),Yc(qa(b,[]))}Vh.prototype.S=function(a){if(!this.g(a))throw Error("Cannot get object store names for operation type "+a.B());return["Users"]};Vh.prototype.V=function(a,b){switch(a.B()){case "update-record":var c=K(b,"Users");a.j?Cg(c,a.g):Vg(this.I,W(a),a.g,c);break;default:throw Error("Operation type "+a.B()+" not supported.");}};function Xh(a,b,c,d,e){zh.call(this);this.N=e;this.w=new Vd(this);this.ib=new Zd;this.j=new Sh;this.g=a;this.w.ba(this.g,"f",this.pb);this.w.ba(this.g,"d",this.wb);this.M=b;this.I=new Oh(0,0,this.M,this.N);Ah(this,this.I);this.A=this.Ia(this.M);Ah(this,this.A);this.P=new Dh(this.g,c,d,this.N);this.o=new Vh(a,0,this.j,e);Ah(this,this.o);this.hb=new Ch}r(Xh,zh);h=Xh.prototype;h.ka=aa("A");h.Ia=function(a){return new dh(this.g,0,this.j,a)};h.pb=function(){E(this,new yh)};h.wb=function(a){E(this,a)};
function fg(a,b){if(If(b)){var c=b.C,d=a.v[c]||null;if(!d)throw Error("No capability registered for record type "+c);return d}c=b.B();if("pq-clear"==c||"pq-clear-sent"==c||"pq-clear-sent-bundle"==c||"pq-delete-commands"==c||"pq-mark-sent"==c||"pq-write-commands"==c)return a.I;if("document-lock"==c)return a.P;if("append-commands"==c||"unstage-commands"==c||"write-trix"==c)return a.ka();if("update-application-metadata"==c){if(d=a.Ta())return d}else if("append-template-commands"==c&&(d=a.Ua()))return d;
throw Error("No capability registered for operation type "+c);}h.Kb=function(a,b){try{this.na(b)}catch(c){Yc(qa(a,new Yd(1,"Failed to initialize database.")))}};function Yh(a,b,c){Og(a.g,a.pa(),p(a.Jb,a,c),ge("Error upgrading the database.",c),b)}h.Jb=function(a,b){try{this.Sa(b)}catch(c){Yc(qa(a,new Yd(1,"Failed to upgrade database.")))}};h.G=function(){Db(this.w,this.P,this.I,this.A,this.o,this.hb);Xh.J.G.call(this)};function Zh(){D.call(this)}r(Zh,Y);Zh.prototype.j=function(){return["syncObject"]};Zh.prototype.o=function(a){return a.O()};Zh.prototype.g=function(a){return Zh.J.g.call(this,a)&&"update-record"==a.B()&&a.j};function $h(){D.call(this)}r($h,Zh);$h.prototype.S=function(){return["SyncObjects"]};$h.prototype.V=function(a,b){switch(a.B()){case "update-record":var c=K(b,"SyncObjects");if(a.j)V(c,a.g);else throw Error("SyncObject update is not implemented.");break;default:throw Error("Operation type "+a.B()+" not supported.");}};function ai(){D.call(this)}r(ai,Y);ai.prototype.j=function(){return["syncStats"]};ai.prototype.o=ba(null);ai.prototype.g=function(a){return ai.J.g.call(this,a)&&"delete-record"!=a.B()};function bi(a,b){D.call(this);this.w=b}r(bi,ai);bi.prototype.S=function(){return["ProfileData"]};bi.prototype.V=function(a,b){switch(a.B()){case "update-record":var c=K(b,"ProfileData");a.j?V(c,a.g):Vg(this.w,"syncstats",a.g,c);break;default:throw Error("Operation type "+a.B()+" not supported.");}};function ci(){D.call(this)}r(ci,Y);ci.prototype.j=function(){return["fontMetadata"]};ci.prototype.o=function(a){return a.o()};ci.prototype.g=function(a){return ci.J.g.call(this,a)?"update-record"==a.B()?a.j:!0:!1};function di(){D.call(this)}r(di,ci);di.prototype.S=function(){return["FontMetadata"]};di.prototype.V=function(a,b){var c=K(b,"FontMetadata");switch(a.B()){case "update-record":if(a.j)V(c,a.g);else throw Error("FontMetadata update is not implemented.");break;case "delete-record":I(c,W(a));break;default:throw Error("Operation type "+a.B()+" not supported.");}};function ei(a,b,c,d,e){Xh.call(this,a,b,c,d,e);this.O=new th(0,0,this.j);Ah(this,this.O);this.ja=new di;Ah(this,this.ja);this.W=new $h;Ah(this,this.W);this.jb=new xh;this.kb=new bh;this.Z=new bi(0,this.j);Ah(this,this.Z);this.K=new Ug(0,0,this.j);Ah(this,this.K);this.D=new rh(0,0,b,this.j);Ah(this,this.D);this.R=new vh;Ah(this,this.R)}r(ei,Xh);
"ApplicationMetadata Comments DocumentCommandsMetadataStaging DocumentCommandsMetadata DocumentCommandsStaging DocumentCommands DocumentEntities DocumentLocks Documents FileEntities FontMetadata Impressions NewDocumentIds PendingQueueCommands PendingQueues ProfileData SyncObjects Users".split(" ").sort(function(a,b){return a>b?1:a<b?-1:0});h=ei.prototype;h.pa=ba(6);h.Ta=aa("D");h.Ia=function(a){return new dh(this.g,0,this.j,a)};h.Ea=ba(!1);
h.na=function(a){a=a.db;a.createObjectStore("FontMetadata",{keyPath:"fontFamily"});a.createObjectStore("DocumentEntities",{keyPath:"deKey"});a.createObjectStore("SyncObjects",{keyPath:"keyPath"});a.createObjectStore("ProfileData",{keyPath:"dataType"});a.createObjectStore("ApplicationMetadata",{keyPath:"dt"});a.createObjectStore("NewDocumentIds",{keyPath:"dtKey"});a.createObjectStore("Comments",{keyPath:"cmtKey"}).createIndex("StateIndex","stateIndex");a.createObjectStore("Users",{keyPath:"id"});a.createObjectStore("Documents",
{keyPath:"id"});a.createObjectStore("DocumentCommands",{keyPath:"dcKey"});a.createObjectStore("DocumentCommandsStaging",{keyPath:"dcKey"});a.createObjectStore("DocumentCommandsMetadata",{keyPath:"dcmKey"});a.createObjectStore("DocumentCommandsMetadataStaging",{keyPath:"dcmKey"});a.createObjectStore("DocumentLocks",{keyPath:"dlKey"});a.createObjectStore("Impressions",{keyPath:"iKey"});a.createObjectStore("PendingQueues",{keyPath:"docId"});a.createObjectStore("PendingQueueCommands",{keyPath:"pqcKey"});
a.createObjectStore("FileEntities",{keyPath:"id"}).createIndex("DocIdEntityTypeIndex","docIdEntityTypeIndex")};h.G=function(){Db(this.O,this.ja,this.W,this.jb,this.kb,this.Z,this.K,this.D,this.R);ei.J.G.call(this)};var fi=["c","oc","ou","u"];function gi(){D.call(this)}r(gi,Y);gi.prototype.j=function(){return["blobMetadata"]};gi.prototype.v=function(a){return gi.J.v.call(this,a,fi)};gi.prototype.o=function(a){return[a.o(),a.F()]};function hi(a,b,c){D.call(this);this.w=c}r(hi,gi);hi.prototype.S=function(){return["BlobMetadata"]};hi.prototype.V=function(a,b){var c=K(b,"BlobMetadata");switch(a.B()){case "update-record":a.j?Cg(c,a.g):Vg(this.w,W(a),a.g,c);break;case "delete-record":I(c,W(a));break;default:throw Error("Operation type "+a.B()+" not supported.");}};function ii(a,b,c,d){dh.call(this,a,0,c,d)}r(ii,dh);ii.prototype.S=function(a){var b=ii.J.S.call(this,a);"delete-record"==a.B()&&b.push("BlobMetadata");return b};ii.prototype.Ja=function(a,b){ii.J.Ja.call(this,a,b);var c=W(a);I(K(b,"BlobMetadata"),[c],[c,[]])};function ji(a,b,c,d,e){ei.call(this,a,b,c,d,e);this.lb=new hi(0,0,this.j);Ah(this,this.lb)}r(ji,ei);h=ji.prototype;h.pa=ba(7);h.Ia=function(a){return new ii(this.g,this.ib,this.j,a)};h.Ea=ba(!0);h.na=function(a){ji.J.na.call(this,a);ki(a)};h.Sa=function(a){ki(a)};function ki(a){a.db.createObjectStore("BlobMetadata",{keyPath:["d","p"]})};function li(a,b,c,d){this.v="append-template-commands";this.g=a;this.w=b;this.C=c;this.H=d}r(li,Hf);li.prototype.o=aa("w");function mi(a,b){A.call(this);this.g=a;this.j=b}r(mi,A);mi.prototype.o=aa("g");function ni(a,b){mi.call(this,a,b);new bg(new Uf)}r(ni,mi);function oi(a){D.call(this);this.A=a}r(oi,Y);oi.prototype.j=function(){return["templateCreationMetadata","templateMetadata"]};oi.prototype.o=function(a){return"templateCreationMetadata"==a.v?[a.L()]:[a.L()]};oi.prototype.v=function(a){var b=oi.J.v.call(this,a);if("templateCreationMetadata"==a.v){pi(this,a.o());var c=Mf(a.F());a=0==c.length?[]:[new li(a.L(),a.o(),c,!0)];b=b.concat(a)}return b};function pi(a,b){var c=a.A[b];if(!c)throw Error("No adapter found for this type: "+b);return c}
oi.prototype.g=function(a){return"append-template-commands"==a.B()?!0:oi.J.g.call(this,a)};function qi(a,b,c){oi.call(this,c);this.w=new Sh}r(qi,oi);qi.prototype.S=function(){return["TemplateCommands","TemplateCreationMetadata","TemplateMetadata"]};
qi.prototype.V=function(a,b){var c=a.C,d=null;switch(c){case "templateMetadata":d="TemplateMetadata";break;case "templateCreationMetadata":d="TemplateCreationMetadata";break;default:throw Error("Record type "+c+" not supported.");}c=K(b,d);switch(a.B()){case "update-record":a.j?V(c,a.g):Vg(this.w,W(a),a.g,c);break;case "delete-record":I(c,W(a));break;case "append-template-commands":c=pi(this,a.o());switch(a.B()){case "append-template-commands":d=K(b,"TemplateCommands");a.H&&I(d,[a.g],ag(a.g));for(var e=
a.C,f=0;f<e.length;++f){for(var g=c,k=d,q=a.g,v=e[f],z=v.g(),da=[],F=0;F<z.length;++F)da.push(g.j.j(z[F]));g=$f(q,v.j(),v.o(),v.C(),v.v(),da);V(k,g.g)}break;default:throw Error("Unsupported operation type "+a.B());}break;default:throw Error("Operation type "+a.B()+" not supported.");}};function ri(a,b,c,d,e,f){ji.call(this,a,b,d,e,f);a=["kix","punch","ritz"];if(!c)for(c={},b=new nf,d=0;d<a.length;d++)c[a[d]]=new ni(a[d],b);this.ga=new qi(0,0,c);Ah(this,this.ga)}r(ri,ji);h=ri.prototype;h.pa=ba(8);h.Ua=aa("ga");h.Ea=ba(!0);h.na=function(a){ri.J.na.call(this,a);si(a)};h.Sa=function(a){si(a)};
function si(a){a=a.db;a.createObjectStore("TemplateMetadata",{keyPath:["id"]});a.createObjectStore("TemplateCreationMetadata",{keyPath:["id"]});a.createObjectStore("TemplateCommands",{keyPath:"dcKey"})};function ti(a,b,c,d,e,f,g,k,q){D.call(this);this.w=a;this.I=b;this.D=c;this.N=d;this.R=e;this.K=f;this.O=g;this.P=!!k;this.j=q||null;this.g={};this.v={};this.A=-1;this.o=new L;this.M=!1}r(ti,D);function ui(a,b){var c=b.pa();a.A=Math.max(a.A,c);a.g[c]=b}h=ti.prototype;h.xb=function(a){this.o.j(a);vi(this)};
h.$a=function(a){this.j=a;if(this.N)for(var b=this.N(a),c=0;c<b.length;c++)for(var d=b[c],e=d.A,f=d.w,g=d.o();e<=f;++e){var k=this.v[e];k||(k=this.v[e]={});k[g]=d}-1==this.A&&(ui(this,new ei(a,this.v[6]||{},this.I,this.D,this.w)),ui(this,new ji(a,this.v[7]||{},this.I,this.D,this.w)),ui(this,new ri(a,this.v[8]||{},null,this.I,this.D,this.w)));this.R?(a=wi(this),b=Math.min(this.K,this.A),a>=b?(a=this.g[a])?Wh(a.o,p(this.Aa,this),p(this.Wa,this)):this.Aa([]):xi(this,a,b)?(a=this.g[a]||this.g[a+1],Wh(a.o,
p(this.Aa,this),p(this.Wa,this))):this.Aa([])):yi(this,null)};h.Aa=function(a){0==a.length?(this.j&&this.j.close(),this.o.g(new kf(null,null))):1<a.length?(P(this.w,Error("More than one user in local storage")),this.j&&this.j.close(),this.o.g(new kf(null,null))):yi(this,a[0])};h.Wa=function(a){this.o.o||(this.o.j(a),vi(this))};
function yi(a,b){var c=Math.min(a.K,a.A),d=wi(a);if(!a.O&&0>=d)a.o.j(new Yd(4,"Schema initialization cannot be performed when schema updates are prevented.")),vi(a);else if(!a.O||d>=c)a.Ka(b);else if(xi(a,d,c)){var d=d+1,e=p(a.Ka,a,null),f=p(a.Lb,a);Yh(a.g[d],p(a.Qa,a,d,c,e,f),f)}else{c=a.g[c];d=p(a.Ka,a,b);e=p(a.tb,a);f=c.pa();if(Ng(c.g)>=f)throw Error("Database already at expected version.");Og(c.g,f,p(c.Kb,c,e),ge("Error initializing the database.",e),d)}}h.Lb=function(a){this.o.j(a);vi(this)};
h.tb=function(a){this.o.j(a);vi(this)};function xi(a,b,c){for(b+=1;b<=c;++b)if(null==a.g[b]||!a.g[b].Ea())return!1;return!0}h.Qa=function(a,b,c,d){a=wi(this);a==b?c():(a=a+1,Yh(this.g[a],p(this.Qa,this,a,b,c,d),d))};h.Ka=function(a){var b=wi(this),b=new eg(this.g[b]);Bb(b,this.j);for(var c in this.g)Bb(b,this.g[c]);for(c in this.v){var d=this.v[c],e;for(e in d)Bb(b,d[e])}this.o.g(new kf(b,a))};
function wi(a){var b=a.j?Ng(a.j):-1;1<b&&6>b&&P(a.w,Error("IDB version less than the minimum. version: "+b));return 6>b?-1:b}function vi(a){for(var b in a.g)a.g[b].U();for(b in a.v){var c=a.v[b],d;for(d in c)c[d].U()}B(a.j)};function zi(a){this.v=a;this.j=null;this.o=new Vd(this);Bb(this,this.o);this.g=Ai(this)}r(zi,A);function Ai(a){a.g&&B(a.g);var b=Pa("lssv");return new ti(a.v,"LocalStoreSupplierSessionId",0,a.nb.bind(a),!1,b,!0)}h=zi.prototype;h.get=function(){this.j||(this.j=Bi(this),Mc(this.j,function(a){this.ta();throw a;}.bind(this)));return this.j};function Ci(a){return a.get().then(function(a){return a.fa?a.fa.L()==x(w(),"docs-offline-lsuid")?a:new kf(null,null):new kf(null,null)}.bind(a))}
function Bi(a){return(new G(function(a,c){var d=this.g,e=this.ta.bind(this);if(d.M)throw Error("The create method can be called only once.");d.M=!0;if(isNaN(d.K))throw Error("Cannot have the target schema version be NaN.");if(d.j)d.$a(d.j);else{if(!lb)throw Error("Cannot create storage adapters for unsupported browser");Qg(p(d.$a,d),e,d.w,p(d.xb,d),d.P)}ne(d.o,a,c)}.bind(a))).then(a.Eb.bind(a))}
h.Eb=function(a){var b=a.qa;if(!b)throw Error("Got null localstore from the idb localstore factory.");if(b.j)throw Error("Called setWritable on an already writable localstore.");b.j=!0;return new G(p(function(c,d){Wh(b.g.o,p(function(d){1!=d.length?(this.ta(),c(a)):(this.o.ba(b,"e",this.ta).ba(b,"d",this.ta),c(new kf(b,d[0])))},this),d)},this))};h.ta=function(){B(this.g);this.g=Ai(this);this.j=null};
h.nb=function(){var a=new nf,b=new cg("kix",6,8,a),c=new cg("punch",6,8,a),d=new cg("ritz",6,8,a),a=new cg("drawing",6,8,a);return[d,b,c,a]};h.G=function(){B(this.g);zi.J.G.call(this)};function Di(a,b){this.C=this.A=this.o="";this.H=null;this.v=this.w="";this.g=!1;var c;a instanceof Di?(this.g=m(b)?b:a.g,Ei(this,a.o),this.A=a.A,Fi(this,a.C),Gi(this,a.H),this.w=a.w,Hi(this,a.j.clone()),this.v=a.v):a&&(c=String(a).match($c))?(this.g=!!b,Ei(this,c[1]||"",!0),this.A=Ii(c[2]||""),Fi(this,c[3]||"",!0),Gi(this,c[4]),this.w=Ii(c[5]||"",!0),Hi(this,c[6]||"",!0),this.v=Ii(c[7]||"")):(this.g=!!b,this.j=new Ji(null,0,this.g))}
Di.prototype.toString=function(){var a=[],b=this.o;b&&a.push(Ki(b,Li,!0),":");var c=this.C;if(c||"file"==b)a.push("//"),(b=this.A)&&a.push(Ki(b,Li,!0),"@"),a.push(va(c).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c=this.H,null!=c&&a.push(":",String(c));if(c=this.w)this.C&&"/"!=c.charAt(0)&&a.push("/"),a.push(Ki(c,"/"==c.charAt(0)?Mi:Ni,!0));(c=this.j.toString())&&a.push("?",c);(c=this.v)&&a.push("#",Ki(c,Oi));return a.join("")};Di.prototype.clone=function(){return new Di(this)};
function Ei(a,b,c){a.o=c?Ii(b,!0):b;a.o&&(a.o=a.o.replace(/:$/,""));return a}function Fi(a,b,c){a.C=c?Ii(b,!0):b;return a}function Gi(a,b){if(b){b=Number(b);if(isNaN(b)||0>b)throw Error("Bad port number "+b);a.H=b}else a.H=null}function Hi(a,b,c){b instanceof Ji?(a.j=b,Pi(a.j,a.g)):(c||(b=Ki(b,Qi)),a.j=new Ji(b,0,a.g))}function Ii(a,b){return a?b?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}
function Ki(a,b,c){return ja(a)?(a=encodeURI(a).replace(b,Ri),c&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function Ri(a){a=a.charCodeAt(0);return"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Li=/[#\/\?@]/g,Ni=/[\#\?:]/g,Mi=/[\#\?]/g,Qi=/[\#\?@]/g,Oi=/#/g;function Ji(a,b,c){this.j=this.g=null;this.o=a||null;this.v=!!c}function Si(a){a.g||(a.g=new vb,a.j=0,a.o&&bd(a.o,function(b,c){var d=wa(b);Si(a);a.o=null;var d=Ti(a,d),e=a.g.get(d);e||wb(a.g,d,e=[]);e.push(c);a.j++}))}h=Ji.prototype;
h.aa=function(){Si(this);return this.j};function Ui(a,b){Si(a);b=Ti(a,b);if(yb(a.g.j,b)){a.o=null;a.j-=a.g.get(b).length;var c=a.g;yb(c.j,b)&&(delete c.j[b],c.o--,c.v++,c.g.length>2*c.o&&xb(c))}}h.clear=function(){this.g=this.o=null;this.j=0};h.ia=function(){Si(this);return 0==this.j};function Vi(a,b){Si(a);b=Ti(a,b);return yb(a.g.j,b)}h.X=function(){Si(this);for(var a=this.g.Y(),b=this.g.X(),c=[],d=0;d<b.length;d++)for(var e=a[d],f=0;f<e.length;f++)c.push(b[d]);return c};
h.Y=function(a){Si(this);var b=[];if(ja(a))Vi(this,a)&&(b=Ua(b,this.g.get(Ti(this,a))));else{a=this.g.Y();for(var c=0;c<a.length;c++)b=Ua(b,a[c])}return b};h.get=function(a,b){var c=a?this.Y(a):[];return 0<c.length?String(c[0]):b};h.toString=function(){if(this.o)return this.o;if(!this.g)return"";for(var a=[],b=this.g.X(),c=0;c<b.length;c++)for(var d=b[c],e=va(d),d=this.Y(d),f=0;f<d.length;f++){var g=e;""!==d[f]&&(g+="="+va(d[f]));a.push(g)}return this.o=a.join("&")};
h.clone=function(){var a=new Ji;a.o=this.o;this.g&&(a.g=this.g.clone(),a.j=this.j);return a};function Ti(a,b){var c=String(b);a.v&&(c=c.toLowerCase());return c}function Pi(a,b){b&&!a.v&&(Si(a),a.o=null,a.g.forEach(function(a,b){var e=b.toLowerCase();if(b!=e&&(Ui(this,b),Ui(this,e),0<a.length)){this.o=null;var f=this.g,e=Ti(this,e),g;g=a.length;if(0<g){for(var k=Array(g),q=0;q<g;q++)k[q]=a[q];g=k}else g=[];wb(f,e,g);this.j+=a.length}},a));a.v=b};function Wi(a){R(this,a,null)}r(Wi,Q);Wi.prototype.B=function(){return S(this,1)};function Xi(a){R(this,a,null)}r(Xi,Q);Xi.prototype.B=function(){return S(this,1)};function Yi(a,b){T(a,1,b)}function Zi(a){R(this,a,null)}r(Zi,Q);Zi.prototype.B=function(){return S(this,1)};function $i(a){R(this,a,aj)}r($i,Q);var aj=[1];function bj(a){return S(a,1)}function cj(a){R(this,a,dj)}r(cj,Q);var dj=[1];function ej(a){R(this,a,null)}r(ej,Q);function fj(a){R(this,a,null)}r(fj,Q);
fj.prototype.L=function(){return S(this,1)};fj.prototype.o=function(){return S(this,3)};fj.prototype.ua=function(a){T(this,7,a)};function gj(a){R(this,a,null)}r(gj,Q);function hj(a){R(this,a,ij)}r(hj,Q);var ij=[1];hj.prototype.ua=function(a){T(this,2,a)};function Ze(a){R(this,a,null)}r(Ze,Q);Ze.prototype.L=function(){return S(this,1)};Ze.prototype.B=function(){return S(this,2)};function jj(a){this.j=a;this.g={};this.o=lb}function kj(a,b){var c=a.g[b];if(!c)throw Error("No offline URL adapter for documents of type "+b);return c};function lj(a,b,c){this.g=b;this.j=va(a)+(c?",i":"")};function mj(a){this.j=a}mj.prototype.B=aa("j");function nj(){this.j="unknown"}r(nj,mj);function oj(){this.g=[];this.j=[];this.o=[]}function Z(a,b,c,d){a.g.push(new pj(b,c,d))}function qj(a){Va(a.o,["","/"])}function rj(a,b){for(var c=0;c<a.g.length;c++)if(0<=y(a.g[c].o,b))return a.g[c];return 0<=y(a.j,b)?sj(a,3):null}function tj(a,b,c){if(m(c)){c=rj(a,c);if(!c)throw Error("No offline action for given online action");var d=y(Ff,b),e=y(Ff,c.g);if(d>=e)return c.j}a=sj(a,b);if(!a)throw Error("No offline action for given access level or less.");return a.j}
function sj(a,b){var c=y(Ff,b);if(-1==c)throw Error("Requested access level is invalid");for(;0<=c;c--)for(var d=0;d<a.g.length;d++)if(a.g[d].g==Ff[c])return a.g[d];return null}function pj(a,b,c){this.o=a;this.j=b;this.g=c};function uj(a,b){this.j=a;this.g=[a];b&&(this.g=this.g.concat(b))};function vj(a,b,c,d,e,f,g,k,q){this.j=a;this.g=k?id("//"+k,b):b;this.C=c;this.H=f||"/edit";this.v=d;this.w=e||"id";this.o=q}r(vj,mj);function wj(a,b,c,d){var e=a.g.match($c),f=e[5];c&&(f="/a/"+c+f);b&&a.v&&(f+="/d/"+b);var f=f+(d?d:a.H),g;b&&!a.v&&(a=Ma(a.w,b),g=gd(a));return Zc(e[1],e[2],e[3],e[4],f,g)};function xj(a,b,c,d){vj.call(this,"trix",a,b,!1,"key",c,0,d)}r(xj,vj);var yj=["/create"];function zj(a){var b=new oj;Z(b,["/comment","/edit","/preview","/view"],"offline/edit",2);Z(b,[],"offline/view",1);Z(b,[],"offline/comment",4);a=a||w();qj(b);Va(b.j,yj);b=new uj(b);return new vj("kix",x(a,"kixOfflineUrl"),b,Oa(a,"udurls"),void 0,void 0,0,void 0)}
function Aj(a){var b=new oj;Z(b,["/comment","/edit","/view"],"offline/edit",2);Z(b,[],"offline/view",1);Z(b,[],"offline/comment",4);Va(b.j,yj);b=new uj(b);a=a||w();return new vj("drawing",x(a,"drawingsOfflineUrl"),b,Oa(a,"udurls"),void 0,void 0,0,void 0)}
function Bj(a){var b=new oj;Z(b,["/comment","/edit","/view"],"offline/edit",2);Z(b,[],"offline/view",1);Z(b,[],"offline/comment",4);Va(b.j,yj);var c=new oj;Z(c,["/localpresent"],"offline/localpresent",1);b=new uj(b,[c]);a=a||w();qj(c);return new vj("punch",x(a,"punchOfflineUrl"),b,Oa(a,"udurls"),void 0,void 0,0,void 0)}
function Cj(a){var b=new oj;a=a||w();Z(b,["/ccc","/lv","/m","/edit"],x(a,"trixOfflineUrlSuffix"),1);b=new uj(b);return new xj(x(a,"trixOfflineUrl"),b,x(a,"trixOnlineUrlSuffix"),void 0)}function Dj(a){var b=new oj;Z(b,["/comment","/edit","/preview","/view"],"offline/edit",2);Z(b,[],"offline/view",1);Z(b,[],"offline/comment",4);a=a||w();Va(b.j,yj);qj(b);b=new uj(b);return new vj("ritz",x(a,"ritzOfflineUrl"),b,Oa(a,"udurls"),void 0,void 0,0,void 0,function(a){return{dl:a.docLocale}})};function Ej(){this.g={}};function Fj(a){this.g=a}
function Gj(a){var b=w(),c;c=b||w();var d=zf(a,"locale"),e=zf(a,"managingDomain");a=Af(a,"internal")||"google.com"==zf(a,"managingDomain");c=new jj(new lj(d,e,a),x(c,"ondlburl"),x(c,"drdn"),x(c,"drcuap"));d=new Ej;e=[];e.push(zj(b));e.push(Aj(b));e.push(Bj(b));e.push(Cj(b));e.push(Dj(b));e.push(new nj);for(b=0;b<e.length;b++){a=d;var f=e[b],g=f.B();if(a.g[g])throw Error("Already have an adapter installed for type "+g);a.g[g]=f;a=c;f=e[b];g=f.B();if(a.g[g])throw Error("Already have an adapter installed for type "+g);
a.g[g]=f}return new Fj(c)};function Hj(a,b){A.call(this);this.g=a;this.o=new zi(this.g);Bb(this,this.o);var c=new MessageChannel;c.port1.onmessage=Ue(this.g,this.Hb,this);Cb(this,c.port1.close,c.port1);l.parent.postMessage(void 0,b,[c.port2]);this.j={};this.j[1]=this.Cb.bind(this);this.j[5]=this.Ib.bind(this);this.j[2]=this.Bb.bind(this);this.j[3]=this.Ab.bind(this);this.j[4]=this.Db.bind(this)}r(Hj,A);h=Hj.prototype;
h.Hb=function(a){if(a.data&&a.ports&&a.ports.length&&a.ports[0]){var b=new Wi(a.data),c=a.ports[0];(a=this.j[b.B()])?a(b).then(function(a){c.postMessage(a.data,a.ports)}.bind(this),function(a){a instanceof Ij||(a instanceof Error?(Le(this.g,a),a=Ic(3,a.message)):(Le(this.g,Error("Unexpected rejection reason type: "+a)),a=Ic(3)));c.postMessage(a.data)}.bind(this)):Le(this.g,Error("No handler is registered for message type "+b.B()))}};
function Jj(a){return new G(function(a,c){this.o.get().then(function(c){a(c)}.bind(this),function(a){Le(this.g,a);c(Ic(3))}.bind(this))}.bind(a))}function Kj(a){return new G(function(a,c){Ci(this.o).then(function(d){d.qa&&d.fa||c(Ic(1));a(d)}.bind(this),function(a){Le(this.g,a);c(Ic(3))}.bind(this))}.bind(a))}function Ic(a,b){var c=new Xi,d=new Zi;T(d,1,a);b&&T(d,2,b);$e(c,2,d);return new Ij(c)}
h.Cb=function(){var a;a=new Di(x(Na.$(),"docs-offline-oebp"));var b=x(Na.$(),"docs-offline-lsuid"),c=a.j,d="ouid";Si(c);c.o=null;d=Ti(c,d);Vi(c,d)&&(c.j-=c.g.get(d).length);wb(c.g,d,[b]);c.j++;a=(new SharedWorker(a.toString())).port;return Gc(new Ij(null,a))};
h.Bb=function(a){var b=bj(Ca(Xe(a,$i,2)));return Kj(this).then(function(c){var d=c.qa.ka();return new G(function(e,f){ih(d,b,function(b){var d=Gj(c.fa);b=Lj(b,d.g,c.fa);d=new Xi;Yi(d,a.B());var f=new cj;af(f,b);$e(d,3,f);e(new Ij(d))}.bind(this),function(a){Le(this.g,a);f(Ic(3))}.bind(this))}.bind(this))}.bind(this))};
h.Ab=function(a){return Kj(this).then(function(b){var c=b.qa.ka();return new G(function(d,e){hh(c,function(c){var e=Gj(b.fa);c=Lj(c,e.g,b.fa);e=new Xi;Yi(e,a.B());var k=new cj;af(k,c);$e(e,3,k);d(new Ij(e))}.bind(this),function(a){Le(this.g,a);e(Ic(3))}.bind(this))}.bind(this))}.bind(this))};
h.Db=function(a){var b=new Xi;Yi(b,a.B());a=new ej;$e(b,4,a);var c=new gj;$e(a,1,c);var d=new Ij(b),e;try{e=!!l.localStorage.getItem("docs-uoo")}catch(f){e=!0}return e?(T(c,1,2),Gc(d)):Kj(this).then(function(a){a=a.fa;T(c,1,1);a=zf(a,"emailAddress");T(c,2,a);return d}.bind(this),function(){return Jj(this).then(function(a){(a=a.fa)?(T(c,1,4),a=zf(a,"emailAddress"),T(c,2,a)):T(c,1,3);return d})}.bind(this))};
function Lj(a,b,c){for(var d=[],e=0;e<a.length;e++)"trix"!=a[e].B()&&"syncstats"!=a[e].B()&&d.push(Mj(a[e],b,c));return d}
function Mj(a,b,c){var d=new fj,e=a.L();T(d,1,e);e=zf(a,"title");T(d,2,e);e=a.B();T(d,3,e);e=xf(a,"lastModifiedServerTimestamp");T(d,4,e);e=xf(a,"lastModifiedClientTimestamp");T(d,5,e);var f,e=c.L(),g=yf(a,"acl"),e=g?g[e]||null:null;f=null!=e?e:"trix"==a.B()?1:0;b.o||(f=1);var e=Gf(a),k;switch(2){case 0:k=l.location.href;break;case 1:if(!m(void 0))throw Error("Action path is needed to build warm start action URL.");k=wj(kj(b,e.type),a.L(),b.j.g,void 0);break;case 3:g=l.window.location.href;k=g.indexOf("#");
if(g=ad(0>k?null:g.substr(k+1))){g=g.split("&");k={};for(var q=0;q<g.length;++q){var v=g[q].split("=");2==v.length&&0<v[0].length&&0<v[1].length&&(k[wa(v[0])]=wa(v[1]))}g=k}else g={};k=g.turl||"";break;default:k=wj(kj(b,e.type),a.L(),b.j.g)}e=kj(b,e.type);g=b.j;b=k;c=c.L();a:{k=e.C;if(m(void 0)){for(q=0;q<k.g.length;q++)if(v=k.g[q],rj(v,void 0)){v=tj(v,f,void 0);break a}throw Error("No action group for the given online action");}v=tj(k.j,f)}q=Gf(a);f=Cf(a);k=q.Ob;var q=q.Nb,z=g.g,da=e.g;z&&!c&&(da=
e.g.match($c),da=id(Zc(da[1],da[2],da[3],da[4]),"/a/"+z),(z=ad(e.g.match($c)[5]||null,!0))&&(da=id(da,z)));v=id(da,v);z=[];c&&z.push("ouid="+va(c));z.push("uc="+g.j);k&&z.push("jobset="+k);q&&z.push("ftrack=1");f&&(c=f[28])&&z.push("docosJobset="+c);c=v+="?"+z.join("&");g={};g.id=a.L();a:{if(f=Cf(a)){if(n(f)){f=0==f.length?"c":"d";break a}throw Error("Non-array keyData");}f=null}f&&(g.cm=f);g["new"]=String(!!Af(a,"inc"));g.ouri=b;b=yf(a,"startupHints");(b=null==b?null:Ja(b))&&e.o&&La(g,e.o(b));var e=
"",F;for(F in g)0<e.length&&(e+="&"),e+=va(F)+"="+va(g[F]);F=va(e);e=c.indexOf("#");T(d,6,(0>e?c:c.substr(0,e))+(F?"#"+F:""));d.ua(!1);if(F=!Af(a,"hpmdo"))F=null!=zf(a,"title");T(d,8,F);var xd;F=yf(a,"acl");b=e=0;if(F)for(xd in F)e=F[xd],b++;xd=1==b?e:0==b&&"trix"==a.B()?1:0;T(d,9,xd);a=!Af(a,"inc");T(d,10,a);return d}
h.Ib=function(a){if(!l._docs_chrome_extension_exists)return Hc();var b=new gf,c=Ca(Xe(a,hj,3)),d=Ye(c),e=d.map(function(a){return a.L()}),f=S(c,2);return Kj(this).then(function(a){var b=a.qa,c=b.ka();return(new G(function(a,b){ih(c,e,a,b)})).then(function(a){var e={};a.forEach(function(a){e[a.L()]=a});var g=d.map(function(a){var b;b=a.L();var d;d=a.B();(a=e[a.L()])?a.B():(d=c.A[d],a=new Nf(b,d.o(),!0,d),Bf(a,"hpmdo",!0));a.ua(f);return a});return new G(function(a,c){b.write(g,a,c)})})}).then(function(){hf(b,
e);var c=new Xi;Yi(c,a.B());return new Ij(c)})};function Ij(a,b){this.data=a?a.T:void 0;this.ports=b?[b]:void 0}function Nj(){var a=new Re(0,"docsOfflineIframeApi",void 0,0,!0,0,!0);a.I.docsOfflineIframeApi="true";var b=Fi(Ei(new Di,l.location.protocol),x(Na.$(),"drdn")).toString(),c;try{(c=Fi(Ei(new Di,l.parent.location.protocol),l.parent.location.host).toString())||(c=b)}catch(d){c=b}Bb(new Hj(a,c),a)}var Oj=["_loadDocsOfflineApiFrame"],Pj=l;Oj[0]in Pj||!Pj.execScript||Pj.execScript("var "+Oj[0]);
for(var Qj;Oj.length&&(Qj=Oj.shift());)!Oj.length&&m(Nj)?Pj[Qj]=Nj:Pj[Qj]?Pj=Pj[Qj]:Pj=Pj[Qj]={}; })()
